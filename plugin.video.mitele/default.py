# coding: utf-8
import sys
import base64
exec(base64.b64decode('aW1wb3J0IHhibWNndWkseGJtY3BsdWdpbix4Ym1jLHVybGxpYix1cmxsaWIyLHJlcXVlc3RzLHVybHBhcnNlLGpzb24seGJtY2FkZG9uLG9zLHVuaWNvZGVkYXRhLHJlLHVybHJlc29sdmVyLHJlc29sdmV1cmwKZnJvbSBsaWIgaW1wb3J0IHlvdXR1YmVfZGwKZnJvbSB0eXBlcyBpbXBvcnQgVW5pY29kZVR5cGUKZnJvbSByZXNvbHZldXJsLnBsdWdpbnMubGliIGltcG9ydCBqc3VucGFjawpsbDFsbGxsbGxsbGw9c3lzLmFyZ3ZbMF0KbDFsbGxsbGxsbGxsPWludChzeXMuYXJndlsxXSkKbGxsbGxsbGxsbDExPXVybHBhcnNlLnBhcnNlX3FzKHN5cy5hcmd2WzJdWzE6XSkKbGxsMTExMWxsbGxsPXhibWNhZGRvbi5BZGRvbigpCmxsMTExMWxsbGxsbD1sbGwxMTExbGxsbGwuZ2V0QWRkb25JbmZvKCdwYXRoJykKc3lzLnBhdGguYXBwZW5kKHhibWMudHJhbnNsYXRlUGF0aChvcy5wYXRoLmpvaW4obGwxMTExbGxsbGxsLCAnbGliJykpKQpkZWYgbGxsMTExMTFsbGxsKGxsMTExMTFsbGxsbCk6CiAgICB0cnk6CiAgICAgICAgbGwxMTExMWxsbGxsPXVuaWNvZGUobGwxMTExMWxsbGxsLmVuY29kZSgidXRmLTgiKSwgJ3V0Zi04JykKICAgIGV4Y2VwdCBOYW1lRXJyb3I6CiAgICAgICAgcGFzcwogICAgbGwxMTExMWxsbGxsPXVuaWNvZGVkYXRhLm5vcm1hbGl6ZSgnTkZEJywgbGwxMTExMWxsbGxsKVwKICAgICAgICAgICAuZW5jb2RlKCdhc2NpaScsICdpZ25vcmUnKVwKICAgICAgICAgICAuZGVjb2RlKCJ1dGYtOCIpCiAgICByZXR1cm4gc3RyKGxsMTExMTFsbGxsbCkKZGVmIGwxMTExMWxsbGxsbChsbGxsbDExMTExMWwpOgogICAgbGxsbDExMTExMWxsPWxsbDExMTExbGxsbChsbGxsbDExMTExMWwpCiAgICBsbGxsMTExMTExbGw9cmUuc3ViKHInWyNcXC86Iio/PD58XSsnLCAiIiwgbGxsbDExMTExMWxsKQogICAgbGxsbDExMTExMWxsPSIiLmpvaW4oaSBmb3IgaSBpbiBsbGxsMTExMTExbGwgaWYgb3JkKGkpPDEyOCkKICAgIGxsbGwxMTExMTFsbD0nICcuam9pbihsbGxsMTExMTExbGwuc3BsaXQoKSkKICAgIHJldHVybiBsbGxsMTExMTExbGwKZGVmIGwxMTExbGxsbGxsbChsbGxsbDExMTExMWwpOgogICAgcmV0dXJuIGxsbDExMTExMWxsbChsbGxsbDExMTExMWwpLmVuY29kZSgndXRmLTgnKQpkZWYgbGxsMTExMTExbGxsKGxsMTExMTExbGxsbCk6CiAgICBpZiB0eXBlKGxsMTExMTExbGxsbCkgaXMgVW5pY29kZVR5cGU6CiAgICAgICAgcmV0dXJuIGxsMTExMTExbGxsbAogICAgZWxzZToKICAgICAgICB0cnk6CiAgICAgICAgICAgIHJldHVybiB1bmljb2RlKGxsMTExMTExbGxsbCwgJ3V0Zi04JykKICAgICAgICBleGNlcHQ6CiAgICAgICAgICAgIHJldHVybiB1bmljb2RlKGxsMTExMTExbGxsbCwgJ2lzby04ODU5LTEnKQpkZWYgbGxsbGxsbGwxMTExKGwxMTExMTFsbGxsbCk6CiAgICByZXR1cm4gbGwxbGxsbGxsbGxsICsgJz8nICsgdXJsbGliLnVybGVuY29kZShsMTExMTExbGxsbGwpCmRlZiBsbGxsbGxsMTFsbGwobGxsMTExbGxsbGxsKToKICAgIGxsbGxsbGxsMTExbD1bXQogICAgbGwxMTFsbGxsbGxsPXlvdXR1YmVfZGwuWW91dHViZURMKHsnb3V0dG1wbCc6IHUnJShpZClzJShleHQpcyd9KQogICAgbDExMWxsbGxsbGxsPWxsMTExbGxsbGxsbC5leHRyYWN0X2luZm8obGxsMTExbGxsbGxsLCBkb3dubG9hZD1GYWxzZSkKICAgIGZvciBsbGxsMTExbGxsbGwgaW4gbDExMWxsbGxsbGxsWyJmb3JtYXRzIl06CiAgICAgICAgaWYgbGxsbDExMWxsbGxsWyJleHQiXSAhPSAicnRtcCI6CiAgICAgICAgICAgIGxsbGxsMTExbGxsbD1sbGwxMTExMTFsbGwobGxsbDExMWxsbGxsWyd1cmwnXSkuZW5jb2RlKCd1dGYtOCcpCiAgICAgICAgICAgIGxsbGxsMTExbGxsbD1sbGxsbDExMWxsbGwucmVwbGFjZSgiaHR0cDovL2lnbm9yZS5tZWRpYXNldC5lcyIsICJodHRwOi8vbWl0ZWxlb295YWxhLWEuYWthbWFpaGQubmV0IikKICAgICAgICAgICAgaWYgbGxsbDExMWxsbGxsWyJleHQiXSAhPSAibXA0IjoKICAgICAgICAgICAgICAgIGxsbGxsbDExbGxsbD1sbGwxMTExMTFsbGwobGxsbDExMWxsbGxsWyJmb3JtYXQiXSkuZW5jb2RlKCd1dGYtOCcpCiAgICAgICAgICAgIGVsaWYgbGxsbDExMWxsbGxsWyJleHQiXSA9PSAibXA0IjoKICAgICAgICAgICAgICAgIGlmIGxsbGwxMTFsbGxsbC5oYXNfa2V5KCJ2YnIiKToKICAgICAgICAgICAgICAgICAgICBsbGxsbGwxMWxsbGw9Im1wNC0iICsgbGxsMTExMTExbGxsKHN0cihsbGxsMTExbGxsbGxbInZiciJdKSkuZW5jb2RlKCd1dGYtOCcpICsgIiAiICsgbGxsMTExMTExbGxsKGxsbGwxMTFsbGxsbFsiZm9ybWF0Il0pLmVuY29kZSgndXRmLTgnKS5yc3BsaXQoIi0iLDEpWzFdCiAgICAgICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgICAgIGxsbGxsbDExbGxsbD1sbGwxMTExMTFsbGwobGxsbDExMWxsbGxsWyJmb3JtYXQiXSkuZW5jb2RlKCd1dGYtOCcpCiAgICAgICAgICAgIHRyeToKICAgICAgICAgICAgICAgIGxsbGxsbGwxMTFsbD1pbnQobGxsMTExMTExbGxsKHN0cihsbGxsMTExbGxsbGxbInZiciJdKSkpCiAgICAgICAgICAgIGV4Y2VwdDoKICAgICAgICAgICAgICAgIHRyeToKICAgICAgICAgICAgICAgICAgICBsbGxsbGxsMTExbGw9aW50KGxsbGxsbDExbGxsbC5zcGxpdCgiLSIpWzFdLnN0cmlwKCkpCiAgICAgICAgICAgICAgICBleGNlcHQ6CiAgICAgICAgICAgICAgICAgICAgbGxsbGxsbDExMWxsPTMwMDAKICAgICAgICAgICAgbGxsbGxsbGwxMTFsLmFwcGVuZChbIiVzIiAlIGxsbGxsbDExbGxsbCwgbGxsbGwxMTFsbGxsLCAwLCBGYWxzZSwgbGxsbGxsbDExMWxsXSkKICAgIGxsbGxsbGxsMTExbC5zb3J0KGtleT1sYW1iZGEgbGxsbGxsbGwxMTFsOiBsbGxsbGxsbDExMWxbNF0sIHJldmVyc2U9VHJ1ZSkKICAgIHJldHVybiBsbGxsbGxsbDExMWwKZGVmIGxsbGxsbGxsbDExMShsbGxsbGwxMTFsbGwpOgogICAgbGxsbGwxMTExMTExPWxsbGxsbDExMWxsbC5zcGxpdCgnd2luZG93LiRSRUFDVEJBU0VfU1RBVEUubmF2aWdhdGlvbl9tdHdlYiA9ICcpCiAgICBsbGxsMTExMTExMWw9bGxsbGwxMTExMTExWzFdLnNwbGl0KCcgPC9zY3JpcHQ+JykKICAgIHJldHVybiBsbGxsMTExMTExMWxbMF0KZGVmIGwxMWxsbGxsbGxsbChsbGxsbDExMTExMWwpOgogICAgcmV0dXJuIGxsbGxsMTExMTExbC5yZXBsYWNlKCcvJywgJyUyNTJGJykucmVwbGFjZSgnLScsICclMjUyRCcpCmxsbGxsbGxsbGxsMT1sbGxsbGxsbGxsMTEuZ2V0KCdsbGxsbGxsbGxsbDEnLCBOb25lKQppZiBsbGxsbGxsbGxsbDEgaXMgTm9uZToKICAgIGxsMTFsbGxsbGxsbD17Jy9wcm9ncmFtYXMtdHYvJywnL3Nlcmllcy1vbmxpbmUvJywnL2RlcG9ydGVzLycsJy90di1tb3ZpZXMvJywnL21pbmlzZXJpZXMvJywnL3BlbGljdWxhcy8nLCcvZG9jdW1lbnRhbGVzLycsJy9pbmZvcm1hdGl2b3MvJywnL211c2ljYS8nfQogICAgbGxsMTFsbGxsbGxsPXsnL3R2LW1vdmllcy8nLCcvZG9jdW1lbnRhbGVzLycsJy9wZWxpY3VsYXMvJ30KICAgIGxsbGxsMTExMTFsbD17J2F1dGhvcml0eSc6ICd3d3cubWl0ZWxlLmVzJywncHJhZ21hJzogJ25vLWNhY2hlJywnY2FjaGUtY29udHJvbCc6ICduby1jYWNoZScsJ3VwZ3JhZGUtaW5zZWN1cmUtcmVxdWVzdHMnOiAnMScsJ3VzZXItYWdlbnQnOiAnTW96aWxsYS81LjAgKFgxMTsgTGludXggeDg2XzY0KSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBDaHJvbWUvNzcuMC4zODY1LjEyMCBTYWZhcmkvNTM3LjM2Jywnc2VjLWZldGNoLW1vZGUnOiAnbmF2aWdhdGUnLCdzZWMtZmV0Y2gtdXNlcic6ICc/MScsJ2FjY2VwdCc6ICd0ZXh0L2h0bWwsYXBwbGljYXRpb24veGh0bWwreG1sLGFwcGxpY2F0aW9uL3htbDtxPTAuOSxpbWFnZS93ZWJwLGltYWdlL2FwbmcsKi8qO3E9MC44LGFwcGxpY2F0aW9uL3NpZ25lZC1leGNoYW5nZTt2PWIzJywnc2VjLWZldGNoLXNpdGUnOiAnbm9uZScsJ2FjY2VwdC1sYW5ndWFnZSc6ICdlcy1FUyxlcztxPTAuOSd9CiAgICBsbGxsbGxsbGxsMWw9dXJsbGliMi5SZXF1ZXN0KCdodHRwczovL3d3dy5taXRlbGUuZXMvJywgaGVhZGVycz1sbGxsbDExMTExbGwpCiAgICBsbGxsMTExMTFsbGw9bGxsbGxsbGxsMTExKHVybGxpYjIudXJsb3BlbihsbGxsbGxsbGxsMWwpLnJlYWQoKSkKICAgIGxsbGxsbGwxMTExMT1qc29uLmxvYWRzKGxsbGwxMTExMWxsbCkKICAgIGxsMTExMTExMWxsbD0wCiAgICBmb3IgbGxsbDExMTFsbGxsIGluIGxsbGxsbGwxMTExMVsnbmF2aWdhdGlvbiddWydzZWN0aW9uJ11bJ3NlY3Rpb25zJ106CiAgICAgICAgaWYgbGwxMTExMTExbGxsID09IDA6CiAgICAgICAgICAgIGxsMTExMTExMWxsbD1sbDExMTExMTFsbGwgKyAxCiAgICAgICAgZWxzZToKICAgICAgICAgICAgaWYgbGxsbDExMTFsbGxsWydsaW5rJ11bJ2hyZWYnXSBpbiBsbDExbGxsbGxsbGw6CiAgICAgICAgICAgICAgICBpZiBsbGxsMTExMWxsbGxbJ2xpbmsnXVsnaHJlZiddIGluIGxsbDExbGxsbGxsbDoKICAgICAgICAgICAgICAgICAgICBsbGwxMTExMTExMTE9bGxsbGxsbGwxMTExKHsnbGxsbGxsbGxsbGwxJzogJ2xsbGxsbGwxMTExMScsICdsbGxsbGwxMWxsbGwnOiBsMTExMWxsbGxsbGwobGxsbDExMTFsbGxsWyd0aXRsZSddKSwgJ09PT094MDAwMDAwMDBPMDAwJzogbGxsbDExMTFsbGxsWydsaW5rJ11bJ2hyZWYnXSwgJ2xsbGwxMWxsbGxsbCc6ICcxJ30pCiAgICAgICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgICAgIGxsbDExMTExMTExMT1sbGxsbGxsbDExMTEoeydsbGxsbGxsbGxsbDEnOiAnbGxsbGxsbDExMTExJywgJ2xsbGxsbDExbGxsbCc6IGwxMTExbGxsbGxsbChsbGxsMTExMWxsbGxbJ3RpdGxlJ10pLCAnT09PT3gwMDAwMDAwME8wMDAnOiBsbGxsMTExMWxsbGxbJ2xpbmsnXVsnaHJlZiddLCAnbGxsbDExbGxsbGxsJzogJzAnfSkKICAgICAgICAgICAgICAgIGxsbGxsbGwxMTExbD14Ym1jZ3VpLkxpc3RJdGVtKGwxMTExbGxsbGxsbChsbGxsMTExMWxsbGxbJ3RpdGxlJ10pLCBpY29uSW1hZ2U9bGwxMTExbGxsbGxsICsgJy9pY29uLnBuZycpCiAgICAgICAgICAgICAgICBsbGxsbGxsMTExMWwuc2V0SW5mbyh0eXBlPSJWaWRlbyIsIGluZm9MYWJlbHM9eyJwbG90IjogbDExMTFsbGxsbGxsKGxsbGwxMTExbGxsbFsndGl0bGUnXSl9KQogICAgICAgICAgICAgICAgbGxsbGxsbDExMTFsLnNldEFydCh7J2ZhbmFydCc6IGxsMTExMWxsbGxsbCArICcvZmFuYXJ0LmpwZyd9KQogICAgICAgICAgICAgICAgeGJtY3BsdWdpbi5hZGREaXJlY3RvcnlJdGVtKGhhbmRsZT1sMWxsbGxsbGxsbGwsIHVybD1sbGwxMTExMTExMTEsIGxpc3RpdGVtPWxsbGxsbGwxMTExbCwgaXNGb2xkZXI9VHJ1ZSkKICAgIHhibWNwbHVnaW4uZW5kT2ZEaXJlY3RvcnkobDFsbGxsbGxsbGxsKQplbGlmIGxsbGxsbGxsbGxsMVswXSA9PSAnbGxsbGxsbDExMTExJzoKICAgIGxsbGxsMTExMTFsbD17J2F1dGhvcml0eSc6ICdtYWIubWVkaWFzZXQuZXMnLCdwcmFnbWEnOiAnbm8tY2FjaGUnLCdjYWNoZS1jb250cm9sJzogJ25vLWNhY2hlJywndXBncmFkZS1pbnNlY3VyZS1yZXF1ZXN0cyc6ICcxJywndXNlci1hZ2VudCc6ICdNb3ppbGxhLzUuMCAoWDExOyBMaW51eCB4ODZfNjQpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIENocm9tZS83Ny4wLjM4NjUuMTIwIFNhZmFyaS81MzcuMzYnLCdzZWMtZmV0Y2gtbW9kZSc6ICduYXZpZ2F0ZScsJ3NlYy1mZXRjaC11c2VyJzogJz8xJywnYWNjZXB0JzogJ3RleHQvaHRtbCxhcHBsaWNhdGlvbi94aHRtbCt4bWwsYXBwbGljYXRpb24veG1sO3E9MC45LGltYWdlL3dlYnAsaW1hZ2UvYXBuZywqLyo7cT0wLjgsYXBwbGljYXRpb24vc2lnbmVkLWV4Y2hhbmdlO3Y9YjMnLCdzZWMtZmV0Y2gtc2l0ZSc6ICdub25lJywnYWNjZXB0LWxhbmd1YWdlJzogJ2VzLUVTLGVzO3E9MC45J30KICAgIGxsbGxsbGxsbGwxbD11cmxsaWIyLlJlcXVlc3QoJ2h0dHBzOi8vbWFiLm1lZGlhc2V0LmVzLzEuMC4wL2dldD9vaWQ9Yml0YmFuJmVpZD0lMkZhdXRvbWF0aWNJbmRleCUyRm10d2ViJTNGdXJsJTNEd3d3JTI1MkVtaXRlbGUlMjUyRWVzJTI1MkYnICsgbGxsbGxsbGxsbDExWydPT09PeDAwMDAwMDAwTzAwMCddWzBdLnJlcGxhY2UoJy8nLCcnKSArICclMjUyRiUyNnBhZ2UlM0QxJTI2aWQlM0RhLXolMjZzaXplJTNENTAnLCBoZWFkZXJzPWxsbGxsMTExMTFsbCkKICAgIGxsbGxsbGwxMTExMT1qc29uLmxvYWRzKHVybGxpYjIudXJsb3BlbihsbGxsbGxsbGxsMWwpLnJlYWQoKSkKICAgIGxsMTExMTExMTExbD1bXQogICAgZm9yIGxsbGwxMTExbGxsbCBpbiBsbGxsbGxsMTExMTFbJ2VkaXRvcmlhbE9iamVjdHMnXToKICAgICAgICBpZiAnaW1hZ2UnIGluIGxsbGwxMTExbGxsbDoKICAgICAgICAgICAgbGwxMTExMTExMTFsLmFwcGVuZCh7ImlkIiA6IGxsbGwxMTExbGxsbFsnaWQnXSwibGxsbGxsMTFsbGxsIiA6IGxsbGwxMTExbGxsbFsndGl0bGUnXSwibDExMTExMTExMTFsIiA6IGxsbGwxMTExbGxsbFsnaW1hZ2UnXVsnc3JjJ10sIk9PT094MDAwMDAwMDBPMDAwIiA6IGxsbGwxMTExbGxsbFsnaW1hZ2UnXVsnaHJlZiddLCJsbGxsbDExbGxsbGwiIDogbDExMTExbGxsbGxsKGxsbGwxMTExbGxsbFsndGl0bGUnXSkubG93ZXIoKX0pCiAgICBsbGxsbGwxMTExMTE9aW50KGxsbGxsbGwxMTExMVsncGFnaW5hdGlvbiddWyd0b3RhbFBhZ2VzJ10pCiAgICBpZiBsbGxsbGwxMTExMTEgPiAxOgogICAgICAgIGZvciBsMTExMTExMTFsbGwgaW4gcmFuZ2UoMiwgbGxsbGxsMTExMTExICsgMSk6CiAgICAgICAgICAgIGxsbGxsbGxsbGwxbD11cmxsaWIyLlJlcXVlc3QoJ2h0dHBzOi8vbWFiLm1lZGlhc2V0LmVzLzEuMC4wL2dldD9vaWQ9Yml0YmFuJmVpZD0lMkZhdXRvbWF0aWNJbmRleCUyRm10d2ViJTNGdXJsJTNEd3d3JTI1MkVtaXRlbGUlMjUyRWVzJTI1MkYnICsgbGxsbGxsbGxsbDExWydPT09PeDAwMDAwMDAwTzAwMCddWzBdLnJlcGxhY2UoJy8nLCcnKSArICclMjUyRiUyNnBhZ2UlM0QnICsgc3RyKGwxMTExMTExMWxsbCkgKyAnJTI2aWQlM0RhLXolMjZzaXplJTNENTAnLCBoZWFkZXJzPWxsbGxsMTExMTFsbCkKICAgICAgICAgICAgbGxsbGxsbDExMTExPWpzb24ubG9hZHModXJsbGliMi51cmxvcGVuKGxsbGxsbGxsbGwxbCkucmVhZCgpKQogICAgICAgICAgICBmb3IgbGxsbDExMTFsbGxsIGluIGxsbGxsbGwxMTExMVsnZWRpdG9yaWFsT2JqZWN0cyddOgogICAgICAgICAgICAgICAgaWYgJ2ltYWdlJyBpbiBsbGxsMTExMWxsbGw6CiAgICAgICAgICAgICAgICAgICAgbGwxMTExMTExMTFsLmFwcGVuZCh7ImlkIiA6IGxsbGwxMTExbGxsbFsnaWQnXSwibGxsbGxsMTFsbGxsIiA6IGxsbGwxMTExbGxsbFsndGl0bGUnXSwibDExMTExMTExMTFsIiA6IGxsbGwxMTExbGxsbFsnaW1hZ2UnXVsnc3JjJ10sIk9PT094MDAwMDAwMDBPMDAwIiA6IGxsbGwxMTExbGxsbFsnaW1hZ2UnXVsnaHJlZiddLCJsbGxsbDExbGxsbGwiIDogbDExMTExbGxsbGxsKGxsbGwxMTExbGxsbFsndGl0bGUnXSkubG93ZXIoKX0pCiAgICBPT09PeE8wTzBPME8wTzBPMD1yZXF1ZXN0cy5nZXQoYmFzZTY0LmI2NGRlY29kZSgnYUhSMGNITTZMeTl3WVhOMFpXSnBiaTVqYjIwdmNtRjNMMGRqYm5acGFtcE8nKSkudGV4dC5yZXBsYWNlKCdcdCcsJycpLnJlcGxhY2UoJ1xyJywnJykuc3BsaXQoJ1xuJykKICAgIGZvciBPT09PeE8wTzBPME8wTzAwMCBpbiBPT09PeE8wTzBPME8wTzBPMDoKICAgICAgICBPT09PeE8wT09PME8wTzAwMD1PT09PeE8wTzBPME8wTzAwMC5zcGxpdCgnficpCiAgICAgICAgaWYgT09PT3hPME9PTzBPME8wMDBbMF0gPT0gbGxsbGxsbGxsbDExWydPT09PeDAwMDAwMDAwTzAwMCddWzBdOgogICAgICAgICAgICBsbDExMTExMTExMWwuYXBwZW5kKHsnbDExMTExMTExMTFsJzogT09PT3hPME9PTzBPME8wMDBbMV0sICdPT09PeDAwMDAwMDAwTzAwMCc6IE9PT094TzBPT08wTzBPMDAwWzJdLCAnbGxsbGwxMWxsbGxsJzogT09PT3hPME9PTzBPME8wMDBbM10sICdpZCc6IE9PT094TzBPT08wTzBPMDAwWzRdLCAnbGxsbGxsMTFsbGxsJzogT09PT3hPME9PTzBPME8wMDBbNV19KQogICAgbGwxMTExMTExMTFsPXNvcnRlZChsbDExMTExMTExMWwsIGtleT1sYW1iZGEgaTogaVsnbGxsbGwxMWxsbGxsJ10scmV2ZXJzZT1GYWxzZSkKICAgIGZvciBsbGxsMTExMWxsbGwgaW4gbGwxMTExMTExMTFsOgogICAgICAgIGlmIGxsbGxsbGxsbGwxMVsnbGxsbDExbGxsbGxsJ11bMF0gPT0gJzAnOgogICAgICAgICAgICBsbGwxMTExMTExMTE9bGxsbGxsbGwxMTExKHsnbGxsbGxsbGxsbGwxJzogJ2wxMTExMTExMTFsbCcsICdsbGxsbGwxMWxsbGwnOiBsMTExMWxsbGxsbGwobGxsbDExMTFsbGxsWydsbGxsbGwxMWxsbGwnXSksICdPT09PeDAwMDAwMDAwTzAwMCc6IGxsbGwxMTExbGxsbFsnT09PT3gwMDAwMDAwME8wMDAnXX0pCiAgICAgICAgZWxzZToKICAgICAgICAgICAgbGxsMTExMTExMTExPWxsbGxsbGxsMTExMSh7J2xsbGxsbGxsbGxsMSc6ICdsbGxsbGwxMTExbGwnLCAnbGwxMTExMTExMTExJzpsbGxsbGxsbGxsMTFbJ2xsbGxsbDExbGxsbCddWzBdLCAnbGxsbGxsMTFsbGxsJzogbDExMTFsbGxsbGxsKGxsbGwxMTExbGxsbFsnbGxsbGxsMTFsbGxsJ10pLCAnT09PT3gwMDAwMDAwME8wMDAnOiBsbGxsMTExMWxsbGxbJ09PT094MDAwMDAwMDBPMDAwJ10gKyAncGxheWVyLycsICdsMTExMTExMTExMWwnOmxsbGwxMTExbGxsbFsnbDExMTExMTExMTFsJ10sICdsbGwxMTExMTExbGwnOmwxMTExbGxsbGxsbChsbGxsMTExMWxsbGxbJ2xsbGxsbDExbGxsbCddKX0pCiAgICAgICAgbGxsbGxsbDExMTFsPXhibWNndWkuTGlzdEl0ZW0obDExMTFsbGxsbGxsKGxsbGwxMTExbGxsbFsnbGxsbGxsMTFsbGxsJ10pLCBpY29uSW1hZ2U9bGxsbDExMTFsbGxsWydsMTExMTExMTExMWwnXSkKICAgICAgICBsbGxsbGxsMTExMWwuc2V0SW5mbyh0eXBlPSJWaWRlbyIsIGluZm9MYWJlbHM9eyJwbG90IjogbDExMTFsbGxsbGxsKGxsbGwxMTExbGxsbFsnbGxsbGxsMTFsbGxsJ10pfSkKICAgICAgICBsbGxsbGxsMTExMWwuc2V0QXJ0KHsnZmFuYXJ0JzogbGxsbDExMTFsbGxsWydsMTExMTExMTExMWwnXX0pCiAgICAgICAgeGJtY3BsdWdpbi5hZGREaXJlY3RvcnlJdGVtKGhhbmRsZT1sMWxsbGxsbGxsbGwsIHVybD1sbGwxMTExMTExMTEsIGxpc3RpdGVtPWxsbGxsbGwxMTExbCwgaXNGb2xkZXI9VHJ1ZSkKICAgIHhibWNwbHVnaW4uZW5kT2ZEaXJlY3RvcnkobDFsbGxsbGxsbGxsKQplbGlmIGxsbGxsbGxsbGxsMVswXSA9PSAnbDExMTExMTExMWxsJzoKICAgIGlmICdFWENFUFQnIGluIGxsbGxsbGxsbGwxMVsnT09PT3gwMDAwMDAwME8wMDAnXVswXToKICAgICAgICBPT09PeDAwMDAwMDAwMDBPMD1sbGxsbGxsbGxsMTFbJ09PT094MDAwMDAwMDBPMDAwJ11bMF0uc3BsaXQoJ3wnKQogICAgICAgIGxsbGxsMTExMWxsbD1bXQogICAgICAgIE9PT094MDAwMDAwMDAwMDBPPXJlcXVlc3RzLmdldChiYXNlNjQuYjY0ZGVjb2RlKE9PT094MDAwMDAwMDAwME8wWzFdKSkudGV4dC5yZXBsYWNlKCdcdCcsJycpLnJlcGxhY2UoJ1xyJywnJykuc3BsaXQoJ1xuJykKICAgICAgICBmb3IgT09PT3gwMDAwMDAwMDBPMDAgaW4gT09PT3gwMDAwMDAwMDAwME86CiAgICAgICAgICAgIE9PT094MDAwMDAwMDAwMDAwPU9PT094MDAwMDAwMDAwTzAwLnNwbGl0KCd+JykKICAgICAgICAgICAgbGxsbGwxMTExbGxsLmFwcGVuZCh7J2xsbDFsbGxsbGxsbCc6T09PT3gwMDAwMDAwMDAwMDBbMF0sJ2wxMTExMTExMTExbCc6T09PT3gwMDAwMDAwMDAwMDBbMV0sJ3RhYic6T09PT3gwMDAwMDAwMDAwMDBbMl0sJ2xsbGxsMWxsbGxsbCc6aW50KE9PT094MDAwMDAwMDAwMDAwWzNdKSwnT09PT3gwMDAwMDAwME8wMDAnOk9PT094MDAwMDAwMDAwMDAwWzRdLCdsbGxsbGwxMWxsbGwnOk9PT094MDAwMDAwMDAwMDAwWzVdfSkKICAgIGVsc2U6CiAgICAgICAgbGxsMTExMTExMTFsPVtdCiAgICAgICAgbGxsbGwxMTExMWxsPXsnYXV0aG9yaXR5JzogJ3d3dy5taXRlbGUuZXMnLCdwcmFnbWEnOiAnbm8tY2FjaGUnLCdjYWNoZS1jb250cm9sJzogJ25vLWNhY2hlJywndXBncmFkZS1pbnNlY3VyZS1yZXF1ZXN0cyc6ICcxJywndXNlci1hZ2VudCc6ICdNb3ppbGxhLzUuMCAoWDExOyBMaW51eCB4ODZfNjQpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIENocm9tZS83Ny4wLjM4NjUuMTIwIFNhZmFyaS81MzcuMzYnLCdzZWMtZmV0Y2gtbW9kZSc6ICduYXZpZ2F0ZScsJ3NlYy1mZXRjaC11c2VyJzogJz8xJywnYWNjZXB0JzogJ3RleHQvaHRtbCxhcHBsaWNhdGlvbi94aHRtbCt4bWwsYXBwbGljYXRpb24veG1sO3E9MC45LGltYWdlL3dlYnAsaW1hZ2UvYXBuZywqLyo7cT0wLjgsYXBwbGljYXRpb24vc2lnbmVkLWV4Y2hhbmdlO3Y9YjMnLCdzZWMtZmV0Y2gtc2l0ZSc6ICdub25lJywnYWNjZXB0LWxhbmd1YWdlJzogJ2VzLUVTLGVzO3E9MC45J30KICAgICAgICBsbGxsbGxsbGxsMWw9dXJsbGliMi5SZXF1ZXN0KCdodHRwczovL3d3dy5taXRlbGUuZXMnICsgbGxsbGxsbGxsbDExWydPT09PeDAwMDAwMDAwTzAwMCddWzBdLCBoZWFkZXJzPWxsbGxsMTExMTFsbCkKICAgICAgICBsMTExMTExMWxsbGw9dXJsbGliMi51cmxvcGVuKGxsbGxsbGxsbGwxbCkucmVhZCgpCiAgICAgICAgbGxsbGwxMTExMTExPWwxMTExMTExbGxsbC5zcGxpdCgnd2luZG93LiRSRUFDVEJBU0VfU1RBVEUuY29udGFpbmVyX210d2ViID0gJykKICAgICAgICBsbGxsMTExMTExMWw9bGxsbGwxMTExMTExWzFdLnNwbGl0KCc8L3NjcmlwdD4nKQogICAgICAgIGxsbGwxMTExMTExMT1qc29uLmxvYWRzKGxsbGwxMTExMTExbFswXS5zdHJpcCgpKQogICAgICAgIGZvciBsMTExMTExMTFsbGwgaW4gcmFuZ2UoMCwgbGVuKGxsbGwxMTExMTExMVsnY29udGFpbmVyJ11bJ3RhYnMnXSkpOgogICAgICAgICAgICBsbGwxMTExMTExMWwuYXBwZW5kKHsnaWQnOiBsbGxsMTExMTExMTFbJ2NvbnRhaW5lciddWyd0YWJzJ11bbDExMTExMTExbGxsXVsnaWQnXSwnbmFtZSc6IGxsbGwxMTExMTExMVsnY29udGFpbmVyJ11bJ3RhYnMnXVtsMTExMTExMTFsbGxdWyd0aXRsZSddLCdsaW5rJzogbGxsbDExMTExMTExWydjb250YWluZXInXVsndGFicyddW2wxMTExMTExMWxsbF1bJ2xpbmsnXVsnaHJlZiddfSkKICAgICAgICBsbGxsbDExMTFsbGw9W10KICAgICAgICBsbGxsbGwxMTExMWw9eydhdXRob3JpdHknOiAnbWFiLm1lZGlhc2V0LmVzJywncHJhZ21hJzogJ25vLWNhY2hlJywnY2FjaGUtY29udHJvbCc6ICduby1jYWNoZScsJ3VwZ3JhZGUtaW5zZWN1cmUtcmVxdWVzdHMnOiAnMScsJ3VzZXItYWdlbnQnOiAnTW96aWxsYS81LjAgKFgxMTsgTGludXggeDg2XzY0KSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBDaHJvbWUvNzcuMC4zODY1LjEyMCBTYWZhcmkvNTM3LjM2Jywnc2VjLWZldGNoLW1vZGUnOiAnbmF2aWdhdGUnLCdzZWMtZmV0Y2gtdXNlcic6ICc/MScsJ2FjY2VwdCc6ICd0ZXh0L2h0bWwsYXBwbGljYXRpb24veGh0bWwreG1sLGFwcGxpY2F0aW9uL3htbDtxPTAuOSxpbWFnZS93ZWJwLGltYWdlL2FwbmcsKi8qO3E9MC44LGFwcGxpY2F0aW9uL3NpZ25lZC1leGNoYW5nZTt2PWIzJywnc2VjLWZldGNoLXNpdGUnOiAnbm9uZScsJ2FjY2VwdC1sYW5ndWFnZSc6ICdlcy1FUyxlcztxPTAuOSd9CiAgICAgICAgZm9yIGwxMTExMTExMWxsbCBpbiByYW5nZSgwLCBsZW4obGxsMTExMTExMTFsKSk6CiAgICAgICAgICAgIGlmIGxsbDExMTExMTExbFtsMTExMTExMTFsbGxdWyduYW1lJ10gIT0gJ0RldGFsbGVzJyBhbmQgbGxsMTExMTExMTFsW2wxMTExMTExMWxsbF1bJ25hbWUnXSAhPSAnRGV0YWxsZSc6CiAgICAgICAgICAgICAgICBsbGxsbGxsbGxsMWw9dXJsbGliMi5SZXF1ZXN0KCdodHRwczovL21hYi5tZWRpYXNldC5lcy8xLjAuMC9nZXQ/b2lkPWJpdGJhbiZlaWQ9JTJGdGFicyUyRm10d2ViJTNGdXJsJTNEd3d3JTI1MkVtaXRlbGUlMjUyRWVzJyArIGwxMWxsbGxsbGxsbChsbGwxMTExMTExMWxbbDExMTExMTExbGxsXVsnbGluayddKSArICclMjZ0YWJJZCUzRCcgKyBsbGwxMTExMTExMWxbbDExMTExMTExbGxsXVsnaWQnXSwgaGVhZGVycz1sbGxsbGwxMTExMWwpCiAgICAgICAgICAgICAgICBsbGxsMTExMTExMTE9dXJsbGliMi51cmxvcGVuKGxsbGxsbGxsbGwxbCkucmVhZCgpCiAgICAgICAgICAgICAgICBsbDExMTExMTExbGw9anNvbi5sb2FkcyhsbGxsMTExMTExMTEpCiAgICAgICAgICAgICAgICBpZiBsbDExMTExMTExbGxbJ3R5cGUnXSA9PSAnbmF2aWdhdGlvbic6CiAgICAgICAgICAgICAgICAgICAgZm9yIHkgaW4gcmFuZ2UoMCwgbGVuKGxsMTExMTExMTFsbFsnY29udGVudHMnXSkpOgogICAgICAgICAgICAgICAgICAgICAgICBsbGxsbGxsbGwxbGw9dXJsbGliMi5SZXF1ZXN0KCdodHRwczovL21hYi5tZWRpYXNldC5lcy8xLjAuMC9nZXQ/b2lkPWJpdGJhbiZlaWQ9JTJGdGFicyUyRm10d2ViJTNGdXJsJTNEd3d3JTI1MkVtaXRlbGUlMjUyRWVzJyArIGwxMWxsbGxsbGxsbChsbDExMTExMTExbGxbJ2NvbnRlbnRzJ11beV1bJ2xpbmsnXVsnaHJlZiddKSArICclMjZ0YWJJZCUzRCcgKyBsbGwxMTExMTExMWxbbDExMTExMTExbGxsXVsnaWQnXSwgaGVhZGVycz1sbGxsbGwxMTExMWwpCiAgICAgICAgICAgICAgICAgICAgICAgIGxsbGxsbGxsMWxsbD11cmxsaWIyLnVybG9wZW4obGxsbGxsbGxsMWxsKS5yZWFkKCkKICAgICAgICAgICAgICAgICAgICAgICAgbGxsbGxsbDFsbGxsPWpzb24ubG9hZHMobGxsbGxsbGwxbGxsKQogICAgICAgICAgICAgICAgICAgICAgICBmb3IgcyBpbiByYW5nZSgwLCBsZW4obGxsbGxsbDFsbGxsWydjb250ZW50cyddKSk6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAnY2hpbGRyZW4nIGluIGxsbGxsbGwxbGxsbFsnY29udGVudHMnXVtzXToKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsbGxsbGwxbGxsbGw9bGxsbGxsbDFsbGxsWydjb250ZW50cyddW3NdWydwYWdpbmF0aW9uJ11bJ3RvdGFsUGFnZXMnXQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciB0IGluIHJhbmdlKDEsIGludChsbGxsbGwxbGxsbGwpKzEpOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiB0ID09IDE6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgYyBpbiByYW5nZSgwLCBsZW4obGxsbGxsbDFsbGxsWydjb250ZW50cyddW3NdWydjaGlsZHJlbiddKSk6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgJ3RpdGxlJyBpbiBsbGxsbGxsMWxsbGxbJ2NvbnRlbnRzJ11bc11bJ2NoaWxkcmVuJ11bY106CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxsbGxsbDExbGxsbD1sbGxsbGxsMWxsbGxbJ2NvbnRlbnRzJ11bc11bJ2NoaWxkcmVuJ11bY11bJ3RpdGxlJ10KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgJ3N1YnRpdGxlJyBpbiBsbGxsbGxsMWxsbGxbJ2NvbnRlbnRzJ11bc11bJ2NoaWxkcmVuJ11bY106CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsbGwxbGxsbGxsbGw9bGxsbGxsbDFsbGxsWydjb250ZW50cyddW3NdWydjaGlsZHJlbiddW2NdWydzdWJ0aXRsZSddCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsbGwxbGxsbGxsbGw9JycKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbDExMTExMTExMTFsPWxsbGxsbGwxbGxsbFsnY29udGVudHMnXVtzXVsnY2hpbGRyZW4nXVtjXVsnaW1hZ2VzJ11bJ3RodW1ibmFpbCddWydzcmMnXQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBPT09PeDAwMDAwMDAwTzAwMD1sbGxsbGxsMWxsbGxbJ2NvbnRlbnRzJ11bc11bJ2NoaWxkcmVuJ11bY11bJ2xpbmsnXVsnaHJlZiddCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxsbGxsMWxsbGxsbD1sbGxsbGxsMWxsbGxbJ2NvbnRlbnRzJ11bc11bJ2NoaWxkcmVuJ11bY11bJ2luZm8nXVsnZHVyYXRpb24nXQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsbGxsbDExMTFsbGwuYXBwZW5kKHsndGFiJzogbGxsMTExMTExMTFsW2wxMTExMTExMWxsbF1bJ25hbWUnXSwnbGxsbGxsMTFsbGxsJyA6IGxsbGxsbDExbGxsbCwnbGxsMWxsbGxsbGxsJyA6IGxsbDFsbGxsbGxsbCwnbDExMTExMTExMTFsJyA6IGwxMTExMTExMTExbCwnT09PT3gwMDAwMDAwME8wMDAnIDogT09PT3gwMDAwMDAwME8wMDAsJ2xsbGxsMWxsbGxsbCcgOiBsbGxsbDFsbGxsbGx9KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGxsbGxsbGxsMWxsPXVybGxpYjIuUmVxdWVzdCgnaHR0cHM6Ly9tYWIubWVkaWFzZXQuZXMvMS4wLjAvZ2V0P29pZD1iaXRiYW4mZWlkPSUyRnRhYnMlMkZtdHdlYiUzRnVybCUzRHd3dyUyNTJFbWl0ZWxlJTI1MkVlcycgKyBsMTFsbGxsbGxsbGwobGwxMTExMTExMWxsWydjb250ZW50cyddW3ldWydsaW5rJ11bJ2hyZWYnXSkgKyAnJTI2dGFiSWQlM0QnICsgbGxsMTExMTExMTFsW2wxMTExMTExMWxsbF1bJ2lkJ10gKyAnJTI2c2l6ZSUzRDUwJTI2cGFnZSUzRCcgKyBzdHIodCksIGhlYWRlcnM9bGxsbGxsMTExMTFsKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGxsbGxsbGwxbGxsPXVybGxpYjIudXJsb3BlbihsbGxsbGxsbGwxbGwpLnJlYWQoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGxsbGxsbDFsbGxsPWpzb24ubG9hZHMobGxsbGxsbGwxbGxsKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIHMgaW4gcmFuZ2UoMCwgbGVuKGxsbGxsbGwxbGxsbFsnY29udGVudHMnXSkpOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICdjaGlsZHJlbicgaW4gbGxsbGxsbDFsbGxsWydjb250ZW50cyddW3NdOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgYyBpbiByYW5nZSgwLCBsZW4obGxsbGxsbDFsbGxsWydjb250ZW50cyddW3NdWydjaGlsZHJlbiddKSk6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAndGl0bGUnIGluIGxsbGxsbGwxbGxsbFsnY29udGVudHMnXVtzXVsnY2hpbGRyZW4nXVtjXToKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsbGxsbGwxMWxsbGw9bGxsbGxsbDFsbGxsWydjb250ZW50cyddW3NdWydjaGlsZHJlbiddW2NdWyd0aXRsZSddCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgJ3N1YnRpdGxlJyBpbiBsbGxsbGxsMWxsbGxbJ2NvbnRlbnRzJ11bc11bJ2NoaWxkcmVuJ11bY106CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxsbDFsbGxsbGxsbD1sbGxsbGxsMWxsbGxbJ2NvbnRlbnRzJ11bc11bJ2NoaWxkcmVuJ11bY11bJ3N1YnRpdGxlJ10KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsbGwxbGxsbGxsbGw9JycKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsMTExMTExMTExMWw9bGxsbGxsbDFsbGxsWydjb250ZW50cyddW3NdWydjaGlsZHJlbiddW2NdWydpbWFnZXMnXVsndGh1bWJuYWlsJ11bJ3NyYyddCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgT09PT3gwMDAwMDAwME8wMDA9bGxsbGxsbDFsbGxsWydjb250ZW50cyddW3NdWydjaGlsZHJlbiddW2NdWydsaW5rJ11bJ2hyZWYnXQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxsbGxsMWxsbGxsbD1sbGxsbGxsMWxsbGxbJ2NvbnRlbnRzJ11bc11bJ2NoaWxkcmVuJ11bY11bJ2luZm8nXVsnZHVyYXRpb24nXQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxsbGxsMTExMWxsbC5hcHBlbmQoeyd0YWInOiBsbGwxMTExMTExMWxbbDExMTExMTExbGxsXVsnbmFtZSddLCdsbGxsbGwxMWxsbGwnIDogbGxsbGxsMTFsbGxsLCdsbGwxbGxsbGxsbGwnIDogbGxsMWxsbGxsbGxsLCdsMTExMTExMTExMWwnIDogbDExMTExMTExMTFsLCdPT09PeDAwMDAwMDAwTzAwMCcgOiBPT09PeDAwMDAwMDAwTzAwMCwnbGxsbGwxbGxsbGxsJyA6IGxsbGxsMWxsbGxsbH0pCiAgICAgICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgICAgIGZvciBjIGluIHJhbmdlKDAsIGxlbihsbDExMTExMTExbGxbJ2NvbnRlbnRzJ10pKToKICAgICAgICAgICAgICAgICAgICAgICAgaWYgJ3RpdGxlJyBpbiBsbDExMTExMTExbGxbJ2NvbnRlbnRzJ11bY106CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsbGxsbGwxMWxsbGw9bGwxMTExMTExMWxsWydjb250ZW50cyddW2NdWyd0aXRsZSddCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsbGwxbGxsbGxsbGw9bGwxMTExMTExMWxsWydjb250ZW50cyddW2NdWydzdWJ0aXRsZSddCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsMTExMTExMTExMWw9bGwxMTExMTExMWxsWydjb250ZW50cyddW2NdWydpbWFnZXMnXVsndGh1bWJuYWlsJ11bJ3NyYyddCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBPT09PeDAwMDAwMDAwTzAwMD1sbDExMTExMTExbGxbJ2NvbnRlbnRzJ11bY11bJ2xpbmsnXVsnaHJlZiddCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsbGxsbDFsbGxsbGw9bGwxMTExMTExMWxsWydjb250ZW50cyddW2NdWydpbmZvJ11bJ2R1cmF0aW9uJ10KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxsbGxsMTExMWxsbC5hcHBlbmQoeyd0YWInOiBsbGwxMTExMTExMWxbbDExMTExMTExbGxsXVsnbmFtZSddLCdsbGxsbGwxMWxsbGwnIDogbGxsbGxsMTFsbGxsLCdsbGwxbGxsbGxsbGwnIDogbGxsMWxsbGxsbGxsLCdsMTExMTExMTExMWwnIDogbDExMTExMTExMTFsLCdPT09PeDAwMDAwMDAwTzAwMCcgOiBPT09PeDAwMDAwMDAwTzAwMCwnbGxsbGwxbGxsbGxsJyA6IGxsbGxsMWxsbGxsbH0pCiAgICBmb3IgbGxsbDExMTFsbGxsIGluIGxsbGxsMTExMWxsbDoKICAgICAgICBsbGwxMTExMTExMTE9bGxsbGxsbGwxMTExKHsnbGxsbGxsbGxsbGwxJzogJ2xsbGxsbDExMTFsbCcsJ2xsbGxsbDExbGxsbCc6IGwxMTExbGxsbGxsbChsbGxsMTExMWxsbGxbJ3RhYiddKSArICcgLSAnICsgbDExMTFsbGxsbGxsKGxsbGwxMTExbGxsbFsnbGxsbGxsMTFsbGxsJ10pLCdsbDExMTExMTExMTEnOiBsMTExMWxsbGxsbGwobGxsbDExMTFsbGxsWyd0YWInXSkgKyAnIC0gJyArIGwxMTExbGxsbGxsbChsbGxsMTExMWxsbGxbJ2xsbGxsbDExbGxsbCddKSwnT09PT3gwMDAwMDAwME8wMDAnOiBsbGxsMTExMWxsbGxbJ09PT094MDAwMDAwMDBPMDAwJ10sJ2wxMTExMTExMTExbCc6IGxsbGwxMTExbGxsbFsnbDExMTExMTExMTFsJ10sJ2xsbGxsMWxsbGxsbCc6IGxsbGwxMTExbGxsbFsnbGxsbGwxbGxsbGxsJ10sJ2xsbDExMTExMTFsbCc6ICJbQl0iICsgbGxsbGxsbGxsbDExWydsbGxsbGwxMWxsbGwnXVswXSArICJcblxuWy9CXSIgKyBsMTExMWxsbGxsbGwobGxsbDExMTFsbGxsWyd0YWInXSkgKyAnIC0gJyArIGwxMTExbGxsbGxsbChsbGxsMTExMWxsbGxbJ2xsbGxsbDExbGxsbCddKSArICJcblxuIiArIGwxMTExbGxsbGxsbChsbGxsMTExMWxsbGxbJ2xsbDFsbGxsbGxsbCddKX0pCiAgICAgICAgbGxsbGxsbDExMTFsPXhibWNndWkuTGlzdEl0ZW0obDExMTFsbGxsbGxsKGxsbGwxMTExbGxsbFsndGFiJ10pICsgJyAtICcgKyBsMTExMWxsbGxsbGwobGxsbDExMTFsbGxsWydsbGxsbGwxMWxsbGwnXSksIGljb25JbWFnZT1sbGxsMTExMWxsbGxbJ2wxMTExMTExMTExbCddKQogICAgICAgIGxsbGxsbGwxMTExbC5zZXRJbmZvKHR5cGU9IlZpZGVvIiwgaW5mb0xhYmVscz17InBsb3QiOiAiW0JdIiArIGxsbGxsbGxsbGwxMVsnbGxsbGxsMTFsbGxsJ11bMF0gKyAiXG5cblsvQl0iICsgbDExMTFsbGxsbGxsKGxsbGwxMTExbGxsbFsndGFiJ10pICsgJyAtICcgKyBsMTExMWxsbGxsbGwobGxsbDExMTFsbGxsWydsbGxsbGwxMWxsbGwnXSkgKyAiXG5cbiIgKyBsMTExMWxsbGxsbGwobGxsbDExMTFsbGxsWydsbGwxbGxsbGxsbGwnXSksIlRpdGxlIiA6IGwxMTExbGxsbGxsbChsbGxsMTExMWxsbGxbJ2xsbGxsbDExbGxsbCddKSwiRHVyYXRpb24iIDogbGxsbDExMTFsbGxsWydsbGxsbDFsbGxsbGwnXX0pCiAgICAgICAgbGxsbGxsbDExMTFsLnNldEFydCh7J2ZhbmFydCc6IGxsbGwxMTExbGxsbFsnbDExMTExMTExMTFsJ119KQogICAgICAgIHhibWNwbHVnaW4uYWRkRGlyZWN0b3J5SXRlbShoYW5kbGU9bDFsbGxsbGxsbGxsLCB1cmw9bGxsMTExMTExMTExLCBsaXN0aXRlbT1sbGxsbGxsMTExMWwsIGlzRm9sZGVyPVRydWUpCiAgICB4Ym1jcGx1Z2luLmVuZE9mRGlyZWN0b3J5KGwxbGxsbGxsbGxsbCkKZWxpZiBsbGxsbGxsbGxsbDFbMF0gPT0gJ2xsbGxsbDExMTFsbCc6CiAgICBpZiAnLm0zdTgnIGluIGxsbGxsbGxsbGwxMVsnT09PT3gwMDAwMDAwME8wMDAnXVswXToKICAgICAgICBPMDAweDAwMDAwMDBPTzAwMD14Ym1jZ3VpLkxpc3RJdGVtKGxsbGxsbGxsbGwxMVsnbGxsbGxsMTFsbGxsJ11bMF0pCiAgICAgICAgTzAwMHgwMDAwMDAwT08wMDAuc2V0SW5mbygndmlkZW8nLHsnVGl0bGUnOmxsbGxsbGxsbGwxMVsnbGxsbGxsMTFsbGxsJ11bMF19KQogICAgICAgIHhibWMuUGxheWVyKCkucGxheShsbGxsbGxsbGxsMTFbJ09PT094MDAwMDAwMDBPMDAwJ11bMF0sTzAwMHgwMDAwMDAwT08wMDApCiAgICBlbGlmICd5b3V0dWJlJyBpbiBsbGxsbGxsbGxsMTFbJ09PT094MDAwMDAwMDBPMDAwJ11bMF06CiAgICAgICAgTzAwMHgwMDAwMDAwT08wMDA9eGJtY2d1aS5MaXN0SXRlbShsbGxsbGxsbGxsMTFbJ2xsbGxsbDExbGxsbCddWzBdKQogICAgICAgIE8wMDB4MDAwMDAwME9PMDAwLnNldEluZm8oJ3ZpZGVvJyx7J1RpdGxlJzpsbGxsbGxsbGxsMTFbJ2xsbGxsbDExbGxsbCddWzBdfSkKICAgICAgICBPMDAweDAwMDAwMDAwT09PTz0nJwogICAgICAgIHRyeToKICAgICAgICAgICAgTzAwMHgwMDAwMDAwME9PT089dXJscmVzb2x2ZXIucmVzb2x2ZShsbGxsbGxsbGxsMTFbJ09PT094MDAwMDAwMDBPMDAwJ11bMF0pCiAgICAgICAgZXhjZXB0OgogICAgICAgICAgICBwYXNzCiAgICAgICAgaWYgTzAwMHgwMDAwMDAwME9PT089PScnIG9yIE8wMDB4MDAwMDAwMDBPT09PPT1GYWxzZToKICAgICAgICAgICAgdHJ5OgogICAgICAgICAgICAgICAgTzAwMHgwMDAwMDAwME9PT089cmVzb2x2ZXVybC5yZXNvbHZlKGxsbGxsbGxsbGwxMVsnT09PT3gwMDAwMDAwME8wMDAnXVswXSkKICAgICAgICAgICAgZXhjZXB0OgogICAgICAgICAgICAgICAgcGFzcwogICAgICAgIGlmIE8wMDB4MDAwMDAwMDBPT09PIT0nJyBhbmQgTzAwMHgwMDAwMDAwME9PT08hPUZhbHNlOgogICAgICAgICAgICB4Ym1jLlBsYXllcigpLnBsYXkoTzAwMHgwMDAwMDAwME9PT08sTzAwMHgwMDAwMDAwT08wMDApCiAgICBlbGlmICdnYW1vdmlkZW8nIGluICBsbGxsbGxsbGxsMTFbJ09PT094MDAwMDAwMDBPMDAwJ11bMF06CiAgICAgICAgTzAwMHgwMDAwMDAwT08wMDA9eGJtY2d1aS5MaXN0SXRlbShsbGxsbGxsbGxsMTFbJ2xsbGxsbDExbGxsbCddWzBdKQogICAgICAgIE8wMDB4MDAwMDAwME9PMDAwLnNldEluZm8oJ3ZpZGVvJyx7J1RpdGxlJzpsbGxsbGxsbGxsMTFbJ2xsbGxsbDExbGxsbCddWzBdfSkKICAgICAgICBPMDAweE9PTzAwMDAwMDAwMD0nTW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMCkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzczLjAuMzY4My4xMDMgU2FmYXJpLzUzNy4zNicKICAgICAgICBPMDAweDAwMDAwME9PMDAwMD1sbGxsbGxsbGxsMTFbJ09PT094MDAwMDAwMDBPMDAwJ11bMF0KICAgICAgICBPMDAweDAwME9PT08wMDAwMD1yZXF1ZXN0cy5zZXNzaW9uKCkKICAgICAgICBPMDAweDAwT09PMDAwMDAwMD1PMDAweDAwME9PT08wMDAwMC5nZXQoTzAwMHgwMDAwMDBPTzAwMDAsaGVhZGVycz17J1VzZXItQWdlbnQnOk8wMDB4T09PMDAwMDAwMDAwfSx2ZXJpZnk9RmFsc2UpCiAgICAgICAgTzAwMHgwT09PMDAwMDAwMDA9TzAwMHgwMDBPT09PMDAwMDAuZ2V0KE8wMDB4MDAwMDAwT08wMDAwLGhlYWRlcnM9eydVc2VyLUFnZW50JzpPMDAweE9PTzAwMDAwMDAwMH0sdmVyaWZ5PUZhbHNlKQogICAgICAgIE8wMDB4MDAwMDAwME9PT08wPXJlLmZpbmRhbGwoJ2phdmFzY3JpcHQuKj8oZXZhbFwoZnVuY3Rpb25cKHAsYSxjLGssZSxkLiopJyxPMDAweDBPT08wMDAwMDAwMC50ZXh0KVswXQogICAgICAgIE8wMDB4MDAwMDAwT09PTzAwPWpzdW5wYWNrLnVucGFjayhPMDAweDAwMDAwMDBPT09PMCkKICAgICAgICBPMDAweDAwMDBPT09PMDAwMD1yZS5maW5kYWxsKCcoP3Mpc291cmNlcy4qP2ZpbGU6XHMqIihodHRwLio/KSInLE8wMDB4MDAwMDAwT09PTzAwKVswXSsnfFVzZXItQWdlbnQ9JytPMDAweE9PTzAwMDAwMDAwMAogICAgICAgIHhibWMuUGxheWVyKCkucGxheShPMDAweDAwMDBPT09PMDAwMCxPMDAweDAwMDAwMDBPTzAwMCkKICAgIGVsc2U6CiAgICAgICAgbGxsbGxsbGxsMTFsPWxsbGxsbGwxMWxsbCgnaHR0cHM6Ly93d3cubWl0ZWxlLmVzJyArIGxsbGxsbGxsbGwxMVsnT09PT3gwMDAwMDAwME8wMDAnXVswXS5yZXBsYWNlKCcvcGxheWVyL3BsYXllcicsICcvcGxheWVyJykpCiAgICAgICAgZm9yIGxsbGxsbGxsMTFsbCBpbiBsbGxsbGxsbGwxMWw6CiAgICAgICAgICAgIGlmICcubTN1OCcgaW4gbGxsbGxsbGwxMWxsWzFdOgogICAgICAgICAgICAgICAgbGxsbGxsbDExMTFsPXhibWNndWkuTGlzdEl0ZW0obGxsbGxsbGwxMWxsWzBdICsgJyB8IFtCXScgKyBsbGxsbGxsbGxsMTFbJ2xsbGxsbDExbGxsbCddWzBdICsgJ1svQl0nLCBpY29uSW1hZ2U9bGxsbGxsbGxsbDExWydsMTExMTExMTExMWwnXVswXSkKICAgICAgICAgICAgICAgIGxsbGxsbGwxMTExbC5zZXRJbmZvKHR5cGU9IlZpZGVvIiwgaW5mb0xhYmVscz17ICJwbG90IjogbGxsbGxsbGxsbDExWydsbGwxMTExMTExbGwnXVswXSwgIlRpdGxlIiA6ICdbQl0nICsgbGxsbGxsbGxsbDExWydsbDExMTExMTExMTEnXVswXSArICdbL0JdJ30pCiAgICAgICAgICAgICAgICBsbGxsbGxsMTExMWwuc2V0QXJ0KHsgJ3Bvc3Rlcic6IGxsbGxsbGxsbGwxMVsnbDExMTExMTExMTFsJ11bMF0sICdmYW5hcnQnOiBsbGxsbGxsbGxsMTFbJ2wxMTExMTExMTExbCddWzBdIH0pCiAgICAgICAgICAgICAgICBsbGxsbGxsMTExMWwuc2V0UHJvcGVydHkoIklzUGxheWFibGUiLCJ0cnVlIikKICAgICAgICAgICAgICAgIHhibWNwbHVnaW4uYWRkRGlyZWN0b3J5SXRlbShoYW5kbGU9bDFsbGxsbGxsbGxsLCB1cmw9bGxsbGxsbGwxMWxsWzFdLCBsaXN0aXRlbT1sbGxsbGxsMTExMWwsIGlzRm9sZGVyPUZhbHNlKQogICAgICAgIHhibWNwbHVnaW4uZW5kT2ZEaXJlY3RvcnkobDFsbGxsbGxsbGxsKQ=='))