import base64;exec base64.b64decode('IyAtKi0gY29kaW5nOiB1dGYtOCAtKi0KaW1wb3J0IHN5cwppbXBvcnQgcmUKaW1wb3J0IG9zCmltcG9ydCB4Ym1jZ3VpCmltcG9ydCB4Ym1jCmltcG9ydCBIVE1MUGFyc2VyCmltcG9ydCB4Ym1jcGx1Z2luCmltcG9ydCB4Ym1jYWRkb24KaW1wb3J0IHVybGxpYgppbXBvcnQgdXJsbGliMgppbXBvcnQgc3FsaXRlMwppbXBvcnQgYmFzZTY0CmltcG9ydCB6bGliCmZyb20gdXJsbGliMiBpbXBvcnQgSFRUUEVycm9yCmZyb20gdXJsbGliMiBpbXBvcnQgVVJMRXJyb3IKaW1wb3J0IHRyYWNlYmFjawppbXBvcnQgdW5pY29kZWRhdGEKaW1wb3J0IHJlcXVlc3RzCmltcG9ydCByYW5kb20KaW1wb3J0IGRhdGV0aW1lCmZyb20gcmVxdWVzdHMgLiBwYWNrYWdlcyAuIHVybGxpYjMgLiBleGNlcHRpb25zIGltcG9ydCBJbnNlY3VyZVJlcXVlc3RXYXJuaW5nCnJlcXVlc3RzIC4gcGFja2FnZXMgLiB1cmxsaWIzIC4gZGlzYWJsZV93YXJuaW5ncyAoIEluc2VjdXJlUmVxdWVzdFdhcm5pbmcgKQppZiA5NyAtIDk3OiBPT29Pb08wbzBvME9PICsgSUlJSSAuIElpICUgb09PCl9fc2V0dGluZ3NfXyA9IHhibWNhZGRvbiAuIEFkZG9uICggaWQgPSAicGx1Z2luLnZpZGVvLnBhbGFudGlyIiApCmlmIDEgLSAxOiBJSSAtIGlpSUlpMWkxSWlpIC0gSTEgLSBJSW9vb08wb29PMG9vICogT09PCmlmIDUgLSA1OiBpMWlJMSArIG8wMG9PMG9vME8wTzAgLSBpaTFJMWlpMUlpSWkxICUgb29vT29PIC0gSWlJSTFJaUkKaWYgODUgLSA4NTogb28KaWYgNzAgLSA3MDogaUlpMTEgKyBJaTFJIC8gSTFJaUkxSUlJMTFpICsgb29Pb29PME9PTyAlIElpSUkxaTFJIC8gaUlpMTEKZGVmIG9vMG8gKCB0ZXh0ICkgOgogT09PME8wME8wID0gJzdTZTEwZ0FJZS1UMF9hJwogaWYgMTcgLSAxNzogSUlvb29PMG9vTzBvbwogT09PME8wME8wID0gYmFzZTY0IC4gdXJsc2FmZV9iNjRkZWNvZGUgKCAnTjFObE1UQm5RVWxsTFZRd1gyRT0nICkKIHRyeSA6CiAgbzBvb28gPSBiYXNlNjQgLiB1cmxzYWZlX2I2NGRlY29kZSAoIHN0ciAoIHRleHQgKSApCiAgSUkxMTExSTEgPSBbIF0KICBmb3IgTzAwT29vMG8wT08gaW4geHJhbmdlICggbGVuICggbzBvb28gKSApIDoKICAgSTFpSTFpaWlJaUkxID0gT09PME8wME8wIFsgTzAwT29vMG8wT08gJSBsZW4gKCBPT08wTzAwTzAgKSBdCiAgIE9PME8wID0gY2hyICggb3JkICggbzBvb28gWyBPMDBPb28wbzBPTyBdICkgLSBvcmQgKCBJMWlJMWlpaUlpSTEgKSAlIDI1NiApCiAgIElJMTExMUkxIC4gYXBwZW5kICggT08wTzAgKQogIGlpMWkxaWkxSSA9ICcnIC4gam9pbiAoIElJMTExMUkxICkKICByZXR1cm4gaWkxaTFpaTFJCiBleGNlcHQgVHlwZUVycm9yICwgbzBvMDAwME8wIDoKICByZXR1cm4gdGV4dAogIGlmIDcwIC0gNzA6IGkxaUkxICUgSWkxSQogIGlmIDY0IC0gNjQ6IG9vIC4gT09vT29PMG8wbzBPTyAuIE9PTyAtIGlpMUkxaWkxSWlJaTEgLiBvb29Pb08gKiBJaQogIGlmIDYzIC0gNjM6IE9Pb09vTzBvMG8wT08gLiBpaUlJaTFpMUlpaSAvIElJb29vTzBvb08wb28gLiBJaSAvIElJb29vTzBvb08wb28gJSBpaTFJMWlpMUlpSWkxCiAgaWYgMyAtIDM6IGlJaTExICUgb29Pb29PME9PTyAqIElpSUkxaTFJIC8gT09PICogSWlJSTFpMUkKICBpZiA1MSAtIDUxOiBpaUlJaTFpMUlpaSAuIElpSUkxaTFJICUgT09vT29PMG8wbzBPTwogIGlmIDMxIC0gMzE6IGkxaUkxIC8gaTFpSTEgJSBJSSAqIElpSUkxaTFJIC0gSUkKZGVmIE9PbzAwMDBvTyAoICkgOgogcmV0dXJuICdlSnpMS0NrcHNOTFhMOC1zU2l4S1NVNHN5VV9NMFVzdHJnUmlfWURFbk1TOGtzd2lBTzItRFUwPScKIGlmIDQ4IC0gNDg6IGlpSUlpMWkxSWlpICUgT09PCiBpZiA1MiAtIDUyOiBJSQpkZWYgSTExMUkxMUkxMTExMSAoIGJhcyApIDoKIElJSWlpMUlpID0gc3FsaXRlMyAuIGNvbm5lY3QgKCBiYXMgKQogT08wbyA9IElJSWlpMUlpIC4gY3Vyc29yICggKQogSTExaUlpSUlpID0gJycKIGlmIDI4IC0gMjg6IElJSUkKIHRyeSA6CiAgaWYgNTYgLSA1NjogaWlJSWkxaTFJaWkgKyBJSUlJIC4gSWlJSTFpMUkgLSBvb09vb08wT09PICsgb28gLyBJaUlJMUlpSQogIE9PMG8gLiBleGVjdXRlICggYmFzZTY0IC4gdXJsc2FmZV9iNjRkZWNvZGUgKCAnVTJWc1pXTjBJR3h2WXlCbWNtOXRJSFpsY25OcGIyND0nICkgKQogIG9PID0gT08wbyAuIGZldGNob25lICggKQogIEkxMWlJaUlJaSA9IG9PIFsgMCBdCiAgSUlJaWkxSWkgLiBjbG9zZSAoICkKIGV4Y2VwdCA6CiAgdHJ5IDoKICAgSUlJaWkxSWkgLiBjbG9zZSAoICkKICBleGNlcHQgOgogICBwYXNzCiAgIGlmIDQwIC0gNDA6IGlpMUkxaWkxSWlJaTEgKiBvbyAvIEkxCiAgdHJ5IDoKICAgb3MgLiByZW1vdmUgKCBiYXMgKQogIGV4Y2VwdCA6CiAgIHBhc3MKIHJldHVybiBzdHIgKCBJMTFpSWlJSWkgLiBzdHJpcCAoICkgKQogaWYgMjggLSAyODogaUlpMTEgLSBvMDBvTzBvbzBPME8wIC8gb29Pb29PME9PTyArIElpSUkxaTFJIC8gSWkKIGlmIDQxIC0gNDE6IGkxaUkxIC0gT09PICUgSTFJaUkxSUlJMTFpIC0gSUlvb29PMG9vTzBvbyArIEkxSWlJMUlJSTExaQpkZWYgSTFpaUkxSSAoIHVybCAsIHBvc3QgPSBOb25lICkgOgogaWYgMTIgLSAxMjogaWkxSTFpaTFJaUlpMQogb09PTzAwT29PbyA9IHsgJ1VzZXItQWdlbnQnIDogJ01vemlsbGEvNS4wIChXaW5kb3dzOyBVOyBXaW5kb3dzIE5UIDUuMTsgZW4tR0I7IHJ2OjEuOC4xLjE0KSBHZWNrby8yMDA4MDQwNCBGaXJlZm94LzIuMC4wLjE0JyB9CiBJaWkxMUlpSTExaSA9IHVybGxpYjIgLiB1cmxvcGVuCiBvbzBPMCA9IHVybGxpYjIgLiBSZXF1ZXN0CiBJaTExID0gb28wTzAgKCB1cmwgLCBwb3N0ICwgb09PTzAwT29PbyApCiBJMTFJaWkxMWkxSWkxID0gSWlpMTFJaUkxMWkgKCBJaTExICkKIGlpSUkgPSBJMTFJaWkxMWkxSWkxIC4gcmVhZCAoICkKIHJldHVybiBpaUlJCiBpZiA1MSAtIDUxOiBJSUlJIC8gaWlJSWkxaTFJaWkKIGlmIDU2IC0gNTY6IGkxaUkxCmRlZiBpMUkxSUlJSUkgKCBiZCAsIGlkICwgdmFsICwgdHlwZSApIDoKIHRyeSA6CiAgSTExaUlpSUlpID0gemxpYiAuIGRlY29tcHJlc3MgKCBiYXNlNjQgLiB1cmxzYWZlX2I2NGRlY29kZSAoIEkxMTFJMTFJMTExMTEgKCBiZCApICkgKQogIGlmIDkyIC0gOTI6IEkxIC0gSTFJaUkxSUlJMTFpIC8gb28gLiBPT29Pb08wbzBvME9PIC8gSUkgLSBvT08KICBvb08wMDBvT28wMCA9ICggYmFzZTY0IC4gdXJsc2FmZV9iNjRkZWNvZGUgKCAnSlhNdlFtRnpaVVJoZEc5ekwzRjFZV3hwZEhrdWNHaHdQM1I1Y0dVOUpYTnBaRDBsY3laMllXdzlKWE09JyApICkgJSAoCiBJMTFpSWlJSWkgLCB0eXBlICwgaWQgLCBzdHIgKCB2YWwgKSApCiAgSTFpaUkxSSAoIG9vTzAwMG9PbzAwICkKICBvTzAwb29Pb09PbzBvID0gaWQgLiBzcGxpdCAoICctJyApCiAgaWYgOSAtIDk6IGlpSUlpMWkxSWlpICUgT09PICogb09PICsgaWlJSWkxaTFJaWkgLiBJaUlJMUlpSQogIElJSWlpMUlpID0gc3FsaXRlMyAuIGNvbm5lY3QgKCBiZCApCiAgT08wbyA9IElJSWlpMUlpIC4gY3Vyc29yICggKQogIGlmIHR5cGUgPT0gJ3NlcmllcycgOgogICBpZiBvTzAwb29Pb09PbzBvIFsgMiBdIDoKICAgIGlmIDEwMCAtIDEwMDogb09PIC4gb28gLyBJaSAqIElJSUkKICAgIE9PMG8gLiBleGVjdXRlICggYmFzZTY0IC4gdXJsc2FmZV9iNjRkZWNvZGUgKAogJ1ZWQkVRVlJGSUdOaGNHbDBkV3h2Y3lCVFJWUWdjWFZoYkdsMGVUMF9JRmRJUlZKRklITmxjbWxsWDJsa0lEMGdQeUJCVGtRZ2RHVnRjRjlwWkNBOUlEOGdRVTVFSUdOaGNHbDBkV3h2WDJsa0lEMGdQdz09JyApICwKICggc3RyICggdmFsICkgLCBpbnQgKCBvTzAwb29Pb09PbzBvIFsgMCBdICkgLCBpbnQgKCBvTzAwb29Pb09PbzBvIFsgMSBdICkgLCBvTzAwb29Pb09PbzBvIFsgMiBdICwgKSApCiAgIGVsaWYgb08wMG9vT29PT28wbyBbIDEgXSA6CiAgICBpZiAxMyAtIDEzOiBvT08gKyBvT08gKyBJSUlJIC4gSUkgLSBJSW9vb08wb29PMG9vICogb29Pb29PME9PTwogICAgT08wbyAuIGV4ZWN1dGUgKCBiYXNlNjQgLiB1cmxzYWZlX2I2NGRlY29kZSAoICdWVkJFUVZSRklITmxjbWxsYzE5MFpXMXdJRk5GVkNCeGRXRnNhWFI1UFQ4Z1YwaEZVa1VnYzJWeWFXVmZhV1FnUFNBX0lFRk9SQ0IwWlcxd1gybGtJRDBnUHc9PScgKSAsCiAoIHN0ciAoIHZhbCApICwgaW50ICggb08wMG9vT29PT28wbyBbIDAgXSApICwgaW50ICggb08wMG9vT29PT28wbyBbIDEgXSApICwgKSApCiAgIGVsaWYgb08wMG9vT29PT28wbyBbIDAgXSA6CiAgICBpZiAzNSAtIDM1OiBvT08KICAgIE9PMG8gLiBleGVjdXRlICggYmFzZTY0IC4gdXJsc2FmZV9iNjRkZWNvZGUgKCAnVlZCRVFWUkZJSE5sY21sbGN5QlRSVlFnY1hWaGJHbDBlVDBfSUZkSVJWSkZJSE5sY21sbFgybGtJRDBnUHc9PScgKSAsCiAoIHN0ciAoIHZhbCApICwgaW50ICggb08wMG9vT29PT28wbyBbIDAgXSApICwgKSApCiAgZWxzZSA6CiAgIGlmIDkyIC0gOTI6IGkxaUkxCiAgIE9PMG8gLiBleGVjdXRlICggYmFzZTY0IC4gdXJsc2FmZV9iNjRkZWNvZGUgKCAnVlZCRVFWUkZJSEJsYkdseklGTkZWQ0J4ZFdGc2FYUjVQVDhnVjBoRlVrVWdjR1ZzYVY5cFpDQTlJRDg9JyApICwKICggc3RyICggdmFsICkgLCBpbnQgKCBvTzAwb29Pb09PbzBvIFsgMCBdICkgLCApICkKICBJSUlpaTFJaSAuIGNvbW1pdCAoICkKICBJSUlpaTFJaSAuIGNsb3NlICggKQogZXhjZXB0IEV4Y2VwdGlvbiBhcyBvMG8wMDAwTzAgOgogIHBhc3MKICBpZiA4NyAtIDg3OiBvb29Pb08gLyBJMSAlIGlpSUlpMWkxSWlpCiAgaWYgNDkgLSA0OTogT09PICogSWkxSSAuIE9PTwpkZWYgb29PME8wTyAoIGxpbmsgLCBiZCAsIGlkICwgdGVtcF9pZCA9IDAgKSA6CiBpaUlpaTFJSWkxSSA9IFsgXQogdHJ5IDoKICBpSWlpSWkxaTFpMWkxID0geyAnVXNlci1hZ2VudCcgOiAnTW96aWxsYS81LjAgKFdpbmRvd3MgTlQgNi4xOyBXT1c2NDsgcnY6MTkuMCkgR2Vja28vMjAxMDAxMDEgRmlyZWZveC8xOS4wJyB9CiAgb29PMDAwb09vMDAgPSBvbzBvICggc3RyICggbGluayApICkKICBpSWlpSWkxaTFpMWkxIFsgJ3JlZmVyZXInIF0gPSAnLycgLiBqb2luICggb29PMDAwb09vMDAgLiBzcGxpdCAoICcvJyApIFsgOiA0IF0gKQogIGlJaWlJaTFpMWkxaTEgWyAnY29ubmVjdGlvbicgXSA9ICdrZWVwLWFsaXZlJwogIElpMTEgPSB1cmxsaWIyIC4gUmVxdWVzdCAoIG9vTzAwMG9PbzAwICwgTm9uZSAsIGlJaWlJaTFpMWkxaTEgKQogIEkxMUlpaTExaTFJaTEgPSB1cmxsaWIyIC4gdXJsb3BlbiAoIElpMTEgKQogIGlpSUkgPSBJMTFJaWkxMWkxSWkxIC4gcmVhZCAoICkKICBJMTFJaWkxMWkxSWkxIC4gY2xvc2UgKCApCiAgSUlpMTFJaTEgPSAnLycgLiBqb2luICggb29PMDAwb09vMDAgLiBzcGxpdCAoICcvJyApIFsgMCA6IDUgXSApCiAgTzBPbzBvT08gPSByZSAuIGZpbmRhbGwgKCAnY2xhc3M9Imxpc3Rfcm93Ii4qZGF0YS1maWxlLWlkPSIoLio/KSInICwgaWlJSSApCiAgaWYgNDggLSA0ODogSUlJSSAqIGlJaTExICsgSTFJaUkxSUlJMTFpCiAgT09vb08wTyA9IHJlIC4gZmluZGFsbCAoICdjbGFzcz0ibmFtZSI+XHMqPGEuKmRhdGEtYWN0aW9uLWJlZm9yZT0icHJldmlldyIuKj4oLio/KTwvYT4nICwgaWlJSSApCiAgbzBvID0gSFRNTFBhcnNlciAuIEhUTUxQYXJzZXIgKCApCiAgaWYgNyAtIDc6IG8wMG9PMG9vME8wTzAgLiBvb29Pb08gJSBJaQogIGlmIGxlbiAoIE8wT28wb09PICkgPiAwIDoKICAgdHJ5IDoKICAgIElJSWlpMUlpID0gc3FsaXRlMyAuIGNvbm5lY3QgKCBiZCApCiAgICBPTzBvID0gSUlJaWkxSWkgLiBjdXJzb3IgKCApCiAgICBpZiB0ZW1wX2lkID4gMCA6CiAgICAgaWYgMzIgLSAzMjogaWkxSTFpaTFJaUlpMSArIEkxIC0gSWlJSTFpMUkgJSBJaTFJICsgb09PCiAgICAgT08wbyAuIGV4ZWN1dGUgKCBiYXNlNjQgLiB1cmxzYWZlX2I2NGRlY29kZSAoICdjMlZzWldOMElHNWZaWEJwSUdaeWIyMGdjMlZ5YVdWelgzUmxiWEFnVjBoRlVrVWdjMlZ5YVdWZmFXUWdQU0FfSUVGT1JDQjBaVzF3WDJsa0lEMGdQdz09JyApICwgKCBpZCAsIHRlbXBfaWQgLCApICkKICAgIGVsc2UgOgogICAgIGlmIDEgLSAxOiBPT29Pb08wbzBvME9PICUgSTFJaUkxSUlJMTFpCiAgICAgT08wbyAuIGV4ZWN1dGUgKCBiYXNlNjQgLiB1cmxzYWZlX2I2NGRlY29kZSAoICdjMlZzWldOMElHNWZaWEJwSUdaeWIyMGdjMlZ5YVdWeklGZElSVkpGSUhObGNtbGxYMmxrSUQwZ1B3PT0nICkgLCAoIGlkICwgKSApCiAgICBvTyA9IE9PMG8gLiBmZXRjaG9uZSAoICkKICAgIElJSWlpMUlpIC4gY2xvc2UgKCApCiAgICBpZiBvTyBbIDAgXSA8IGxlbiAoIE8wT28wb09PICkgOgogICAgIEkxMWlJaUlJaSA9IHpsaWIgLiBkZWNvbXByZXNzICggYmFzZTY0IC4gdXJsc2FmZV9iNjRkZWNvZGUgKCBJMTExSTExSTExMTExICggYmQgKSApICkKICAgICBpZiB0ZW1wX2lkID4gMCA6CiAgICAgIGlmIDc1IC0gNzU6IElpSUkxSWlJCiAgICAgIG9vTzAwMG9PbzAwID0gKCBiYXNlNjQgLiB1cmxzYWZlX2I2NGRlY29kZSAoICdKWE12UW1GelpVUmhkRzl6TDJWd2FTNXdhSEFfYVdROUpYTW1kR1Z0Y0QwbGN5WjJZV3c5SlhNPScgKSApICUgKAogSTExaUlpSUlpICwgaWQgLCB0ZW1wX2lkICwgc3RyICggbGVuICggTzBPbzBvT08gKSApICkKICAgICBlbHNlIDoKICAgICAgaWYgMzYgLSAzNjogb29vT29PICUgSTFJaUkxSUlJMTFpCiAgICAgIG9vTzAwMG9PbzAwID0gKCBiYXNlNjQgLiB1cmxzYWZlX2I2NGRlY29kZSAoICdKWE12UW1GelpVUmhkRzl6TDJWd2FTNXdhSEFfYVdROUpYTW1kbUZzUFNWeicgKSApICUgKAogSTExaUlpSUlpICwgaWQgLCBzdHIgKCBsZW4gKCBPME9vMG9PTyApICkgKQogICAgIEkxaWlJMUkgKCBvb08wMDBvT28wMCApCiAgICAgaWYgMzggLSAzODogT09PICogSWkKICAgICBJSUlpaTFJaSA9IHNxbGl0ZTMgLiBjb25uZWN0ICggYmQgKQogICAgIE9PMG8gPSBJSUlpaTFJaSAuIGN1cnNvciAoICkKICAgICBpZiB0ZW1wX2lkID4gMCA6CiAgICAgIGlmIDYgLSA2OiBvbyAlIEkxSWlJMUlJSTExaSAuIGlJaTExICsgb29vT29PIC4gb28gJSBpaTFJMWlpMUlpSWkxCiAgICAgIE9PMG8gLiBleGVjdXRlICggYmFzZTY0IC4gdXJsc2FmZV9iNjRkZWNvZGUgKCAnVlZCRVFWUkZJSE5sY21sbGMxOTBaVzF3SUZORlZDQnVYMlZ3YVQwX0lGZElSVkpGSUhObGNtbGxYMmxrSUQwZ1B5QkJUa1FnZEdWdGNGOXBaQ0E5SUQ4PScgKSAsICggbGVuICggTzBPbzBvT08gKSAsIGlkICwgdGVtcF9pZCAsICkgKQogICAgIGVsc2UgOgogICAgICBpZiAxNyAtIDE3OiBPT29Pb08wbzBvME9PIC0gSUlvb29PMG9vTzBvbyArIGlpSUlpMWkxSWlpCiAgICAgIE9PMG8gLiBleGVjdXRlICggYmFzZTY0IC4gdXJsc2FmZV9iNjRkZWNvZGUgKCAnVlZCRVFWUkZJSE5sY21sbGN5QlRSVlFnYmw5bGNHazlQeUJYU0VWU1JTQnpaWEpwWlY5cFpDQTlJRDg9JyApICwgKCBsZW4gKCBPME9vMG9PTyApICwgaWQgLCApICkKICAgICBJSUlpaTFJaSAuIGNvbW1pdCAoICkKICAgICBJSUlpaTFJaSAuIGNsb3NlICggKQogICBleGNlcHQgRXhjZXB0aW9uIGFzIG8wbzAwMDBPMCA6CiAgICBwYXNzCiAgZm9yIGkxSUkxSSBpbiB4cmFuZ2UgKCAwICwgbGVuICggTzBPbzBvT08gKSApIDoKICAgaWlJaWkxSUlpMUkgLiBhcHBlbmQgKCAoIG8wbyAuIHVuZXNjYXBlICggT09vb08wTyBbIGkxSUkxSSBdIC4gZGVjb2RlICggJ3V0Zi04JyApICkgLCBvT09PT28gKCAnJXMvcCwlcyxsaXN0LDEsMy5hdmknICUgKCBJSWkxMUlpMSAsIE8wT28wb09PIFsgaTFJSTFJIF0gKSApICkgKQogZXhjZXB0ICggSFRUUEVycm9yICwgVVJMRXJyb3IgKSBhcyBvMG8wMDAwTzAgOgogIG9vTyA9IHhibWNndWkgLiBMaXN0SXRlbSAoICdFbmxhY2UgYm9ycmFkbycgLCBpY29uSW1hZ2UgPSAnRGVmYXVsdFZpZGVvLnBuZycgKQogIHhibWNwbHVnaW4gLiBzZXRSZXNvbHZlZFVybCAoIGludCAoIHN5cyAuIGFyZ3YgWyAxIF0gKSAsIEZhbHNlICwgb29PICkKICBJaTFpSSA9IHhibWNndWkgLiBEaWFsb2cgKCApCiAgSWkxaUkgLiBub3RpZmljYXRpb24gKCAnUGFsYW50aXInICwgJ0VubGFjZSBib3JyYWRvJyAsIHhibWNndWkgLiBOT1RJRklDQVRJT05fV0FSTklORyAsIDUwMDAgKQogcmV0dXJuIGlpSWlpMUlJaTFJCiBpZiA0OSAtIDQ5OiBvbyAqIGlJaTExICUgSUkgKyBJMQpkZWYgSWkxSUlpSTExaUkxICggdXJsICwgZGVjb2RlID0gVHJ1ZSApIDoKIGlmIGRlY29kZSA6CiAgdXJsID0gb28wbyAoIHVybCApCiAgaWYgODIgLSA4MjogSWkxSSAqIGkxaUkxIC0gb28gLiBpaUlJaTFpMUlpaSAuIEkxSWlJMUlJSTExaSAlIG8wMG9PMG9vME8wTzAKIGlmIGJhc2U2NCAuIHVybHNhZmVfYjY0ZGVjb2RlICggJ1pHbHphMjlyYjNOdGFXdHYnICkgaW4gdXJsIDoKICByZXR1cm4gYmFzZTY0IC4gdXJsc2FmZV9iNjRkZWNvZGUgKCAnWkdzPScgKQogIGlmIDc2IC0gNzY6IElpSUkxaTFJICUgaUlpMTEgKyBPT08gKyBpaTFJMWlpMUlpSWkxCiBlbGlmIGJhc2U2NCAuIHVybHNhZmVfYjY0ZGVjb2RlICggJ1kyOXdhV0Z3YjNBPScgKSBpbiB1cmwgOgogIHJldHVybiBiYXNlNjQgLiB1cmxzYWZlX2I2NGRlY29kZSAoICdZM0E9JyApCiAgaWYgNjcgLSA2NzogSUkKIGVsaWYgYmFzZTY0IC4gdXJsc2FmZV9iNjRkZWNvZGUgKCAnYzNSeVpXRnRZMnh2ZFdRPScgKSBpbiB1cmwgOgogIGlmIDI0IC0gMjQ6IElJIC8gb29vT29PIC0gT09vT29PMG8wbzBPTyAtIGlpMUkxaWkxSWlJaTEKICByZXR1cm4gYmFzZTY0IC4gdXJsc2FmZV9iNjRkZWNvZGUgKCAnZFdzPScgKQogIGlmIDQwIC0gNDA6IElJIC0gSUlvb29PMG9vTzBvbyAvIGlJaTExICogSUkgLiBJaQogZWxpZiBiYXNlNjQgLiB1cmxzYWZlX2I2NGRlY29kZSAoICdjR0Z5ZEdGbmIzSmgnICkgaW4gdXJsIDoKICByZXR1cm4gYmFzZTY0IC4gdXJsc2FmZV9iNjRkZWNvZGUgKCAnY0hRPScgKQogIGlmIDc4IC0gNzg6IElpMUkgKyBPT08gLSBvT08KIGVsaWYgYmFzZTY0IC4gdXJsc2FmZV9iNjRkZWNvZGUgKCAnYXkxaVlXZHAnICkgaW4gdXJsIG9yIGJhc2U2NCAuIHVybHNhZmVfYjY0ZGVjb2RlICggJ2EySmhaMms9JyApIGluIHVybCA6CiAgcmV0dXJuIGJhc2U2NCAuIHVybHNhZmVfYjY0ZGVjb2RlICggJ2EyST0nICkKICBpZiAzMiAtIDMyOiBJaSAuIGlpSUlpMWkxSWlpIC8gb29vT29PICUgSWlJSTFpMUkgLyBJMSAqIG8wMG9PMG9vME8wTzAKIGVsaWYgYmFzZTY0IC4gdXJsc2FmZV9iNjRkZWNvZGUgKCAnY25SMlpRPT0nICkgaW4gdXJsIDoKICByZXR1cm4gYmFzZTY0IC4gdXJsc2FmZV9iNjRkZWNvZGUgKCAnY21VPScgKQogIGlmIDUzIC0gNTM6IE9PTyAqIG9vT29vTzBPT08gJSBpSWkxMQogZWxpZiBiYXNlNjQgLiB1cmxzYWZlX2I2NGRlY29kZSAoICdlVzkxZEhWaVpRPT0nICkgaW4gdXJsIDoKICByZXR1cm4gYmFzZTY0IC4gdXJsc2FmZV9iNjRkZWNvZGUgKCAnZVhRPScgKQogIGlmIDE1IC0gMTU6IElpSUkxSWlJICsgSUlJSSAqIGlJaTExIC4gSUkKIGVsaWYgYmFzZTY0IC4gdXJsc2FmZV9iNjRkZWNvZGUgKCAnYUhSMGNITTZMeTluYkc5eWFXRXVkSFl2JyApIGluIHVybCA6CiAgcmV0dXJuIGJhc2U2NCAuIHVybHNhZmVfYjY0ZGVjb2RlICggJ1oyeHZjbWxoJyApCiAgaWYgNiAtIDY6IEkxCiBlbGlmIGJhc2U2NCAuIHVybHNhZmVfYjY0ZGVjb2RlICggJ1oyeHZjbWxoTG5SMicgKSBpbiB1cmwgOgogIHJldHVybiBiYXNlNjQgLiB1cmxzYWZlX2I2NGRlY29kZSAoICdjM1JoYm1SaGNtUT0nICkKICBpZiA5NCAtIDk0OiBJSW9vb08wb29PMG9vICsgb29vT29PCiBlbGlmIGJhc2U2NCAuIHVybHNhZmVfYjY0ZGVjb2RlICggJ2NHVnNhWE5wY0dGaycgKSBpbiB1cmwgOgogIHJldHVybiBiYXNlNjQgLiB1cmxzYWZlX2I2NGRlY29kZSAoICdkR3M9JyApCiAgaWYgNTYgLSA1Njogb29Pb29PME9PTyAlIElpSUkxSWlJIC4gSUkgLyBPT08KIGVsaWYgYmFzZTY0IC4gdXJsc2FmZV9iNjRkZWNvZGUgKCAnWVhKamFHbDJaUzV2Y21jPScgKSBpbiB1cmwgOgogIHJldHVybiBiYXNlNjQgLiB1cmxzYWZlX2I2NGRlY29kZSAoICdZWEk9JyApCiAgaWYgMjYgLSAyNjogb29Pb29PME9PTyAuIElJSUkgJSBpSWkxMQogZWxzZSA6CiAgcmV0dXJuIGJhc2U2NCAuIHVybHNhZmVfYjY0ZGVjb2RlICggJ2RXcz0nICkKICBpZiAzNyAtIDM3OiBpSWkxMSAqIG9PTyAtIG9vT29vTzBPT08gLSBpaUlJaTFpMUlpaQpkZWYgSTFpMSAoIHVybHMgLCBkZWNvZGUgPSBUcnVlICkgOgogb29PMDAwb09vMDAgPSB1cmxzIC4gc3BsaXQgKCAnICcgKSBbIDAgXQogaWYgZGVjb2RlIDoKICBvb08wMDBvT28wMCA9IG9vMG8gKCBvb08wMDBvT28wMCApCiAgaWYgMjMgLSAyMzogSUkgLyBvT08gLyBJaUlJMUlpSSAtIElpSUkxaTFJIC0gb28gJSBvbwogaWYgYmFzZTY0IC4gdXJsc2FmZV9iNjRkZWNvZGUgKCAnWkdsemEyOXJiM050YVd0dicgKSBpbiBvb08wMDBvT28wMCA6CiAgcmV0dXJuIGJhc2U2NCAuIHVybHNhZmVfYjY0ZGVjb2RlICggJ1pHbHphMjlyYjNOdGFXdHYnICkKICBpZiA5NCAtIDk0OiBJSW9vb08wb29PMG9vICUgbzAwb08wb28wTzBPMCAqIGlpMUkxaWkxSWlJaTEgLiBvb29Pb08gLyBpSWkxMSAqIE9Pb09vTzBvMG8wT08KIGVsaWYgYmFzZTY0IC4gdXJsc2FmZV9iNjRkZWNvZGUgKCAnWTI5d2FXRndiM0E9JyApIGluIG9vTzAwMG9PbzAwIDoKICByZXR1cm4gYmFzZTY0IC4gdXJsc2FmZV9iNjRkZWNvZGUgKCAnWTI5d2FXRndiM0E9JyApCiAgaWYgNjEgLSA2MTogbzAwb08wb28wTzBPMCAqIGlJaTExICsgb28gLyBvb29Pb08KIGVsaWYgYmFzZTY0IC4gdXJsc2FmZV9iNjRkZWNvZGUgKCAnYzNSeVpXRnRZMnh2ZFdRPScgKSBpbiBvb08wMDBvT28wMCA6CiAgcmV0dXJuIGJhc2U2NCAuIHVybHNhZmVfYjY0ZGVjb2RlICggJ2MzUnlaV0Z0WTJ4dmRXUT0nICkKICBpZiAzOSAtIDM5OiBpMWlJMSAlIG9PTyAuIG8wMG9PMG9vME8wTzAgLSBvbyAqIElpSUkxaTFJCiBlbGlmIGJhc2U2NCAuIHVybHNhZmVfYjY0ZGVjb2RlICggJ2NHRnlkR0ZuYjNKaCcgKSBpbiBvb08wMDBvT28wMCA6CiAgcmV0dXJuIGJhc2U2NCAuIHVybHNhZmVfYjY0ZGVjb2RlICggJ2NHRnlkR0ZuYjNKaCcgKQogIGlmIDI3IC0gMjc6IElpCiBlbGlmIGJhc2U2NCAuIHVybHNhZmVfYjY0ZGVjb2RlICggJ2F5MWlZV2RwJyApIGluIG9vTzAwMG9PbzAwIDoKICByZXR1cm4gYmFzZTY0IC4gdXJsc2FmZV9iNjRkZWNvZGUgKCAnYXkxaVlXZHAnICkKICBpZiA5NCAtIDk0OiBvb09vb08wT09PIC0gb29vT29PCiBlbGlmIGJhc2U2NCAuIHVybHNhZmVfYjY0ZGVjb2RlICggJ2NuUjJaUT09JyApIGluIG9vTzAwMG9PbzAwIDoKICByZXR1cm4gYmFzZTY0IC4gdXJsc2FmZV9iNjRkZWNvZGUgKCAnY25SMlpRPScgKQogIGlmIDcwIC0gNzA6IGlJaTExIC4gaWlJSWkxaTFJaWkgKiBJaUlJMWkxSQogZWxpZiBiYXNlNjQgLiB1cmxzYWZlX2I2NGRlY29kZSAoICdlVzkxZEhWaVpRPT0nICkgaW4gb29PMDAwb09vMDAgOgogIHJldHVybiBiYXNlNjQgLiB1cmxzYWZlX2I2NGRlY29kZSAoICdlVzkxZEhWaVpRPScgKQogIGlmIDY0IC0gNjQ6IElJb29vTzBvb08wb28gJSBJSQogZWxpZiBiYXNlNjQgLiB1cmxzYWZlX2I2NGRlY29kZSAoICdaMnh2Y21saExuUjInICkgaW4gb29PMDAwb09vMDAgOgogIHJldHVybiBiYXNlNjQgLiB1cmxzYWZlX2I2NGRlY29kZSAoICdaMnh2Y21saExuUjInICkKICBpZiA4NiAtIDg2OiBpSWkxMSAvIElJICogSWkgKiBJSSArIG9vb09vTyAtIElpSUkxaTFJCiBlbGlmIGJhc2U2NCAuIHVybHNhZmVfYjY0ZGVjb2RlICggJ2MzUnlaV0Z0WVc1bmJ3PT0nICkgaW4gb29PMDAwb09vMDAgOgogIHJldHVybiBiYXNlNjQgLiB1cmxzYWZlX2I2NGRlY29kZSAoICdjM1J5WldGdFlXNW5idz09JyApCiAgaWYgOTUgLSA5NTogSUkgKyBvbyAvIElJSUkgKyBJaTFJCiBlbGlmIGJhc2U2NCAuIHVybHNhZmVfYjY0ZGVjb2RlICggJ2RtbGtiM3BoJyApIGluIG9vTzAwMG9PbzAwIDoKICByZXR1cm4gYmFzZTY0IC4gdXJsc2FmZV9iNjRkZWNvZGUgKCAnZG1sa2IzcGgnICkKICBpZiA4NSAtIDg1OiBvb09vb08wT09PIC4gSUkgKiBJSW9vb08wb29PMG9vICUgSUkgJSBJaSAtIG9vCiBlbGlmIGJhc2U2NCAuIHVybHNhZmVfYjY0ZGVjb2RlICggJ1pHRnBiSGx0YjNScGIyND0nICkgaW4gb29PMDAwb09vMDAgOgogIHJldHVybiBiYXNlNjQgLiB1cmxzYWZlX2I2NGRlY29kZSAoICdaR0ZwYkhsdGIzUnBiMjQ9JyApCiAgaWYgMTAwIC0gMTAwOiBJSSAqIE9Pb09vTzBvMG8wT08gKyBPT08gKiBpaTFJMWlpMUlpSWkxICogT09PCiBlbGlmIGJhc2U2NCAuIHVybHNhZmVfYjY0ZGVjb2RlICggJ1lYSmphR2wyWlE9PScgKSBpbiBvb08wMDBvT28wMCA6CiAgcmV0dXJuIGJhc2U2NCAuIHVybHNhZmVfYjY0ZGVjb2RlICggJ1lYSmphR2wyWlE9PScgKQogIGlmIDg0IC0gODQ6IGlJaTExICsgb09PIC4gSWlJSTFpMUkgJSBvb09vb08wT09PICUgSWlJSTFJaUkgKiBpaUlJaTFpMUlpaQogZWxzZSA6CiAgaWkxID0gb29PMDAwb09vMDAgLiBzcGxpdCAoICcvJyApCiAgaWYgbGVuICggaWkxICkgPiAyIDoKICAgaWkxID0gb29PMDAwb09vMDAgLiBzcGxpdCAoICcvJyApIFsgMiBdIC4gc3BsaXQgKCAnLicgKQogICBpZiA0NyAtIDQ3OiBJaTFJIC0gbzAwb08wb28wTzBPMCAtIElJCiAgIGlmIGlpMSBbIDAgXSA9PSBiYXNlNjQgLiB1cmxzYWZlX2I2NGRlY29kZSAoICdkM2QzJyApIDoKICAgIHJldHVybiBpaTEgWyAxIF0KICAgZWxzZSA6CiAgICBpZiAyMSAtIDIxOiBpSWkxMSArIG8wMG9PMG9vME8wTzAgLSBpMWlJMSAtIElpSUkxSWlJCiAgICByZXR1cm4gaWkxIFsgMCBdCiAgZWxzZSA6CiAgIGlmIDQ4IC0gNDg6IElpSUkxaTFJIC4gSUkKICAgcmV0dXJuIG9vTzAwMG9PbzAwCiAgIGlmIDg2IC0gODY6IE9PTyAvIElpSUkxSWlJICogSWlJSTFJaUkgKiBvMDBvTzBvbzBPME8wCmRlZiBPbzAwT29vTyAoIHNlcnZlciAsIGxpbmsgKSA6CiBpaSA9IGxpbmsgLiBzcGxpdCAoICcvJyApCiBvT2lpaSA9ICcvJyAuIGpvaW4gKCBpaSBbIDMgOiA0IF0gKQogaUlJaWlJSUlJaSA9ICcvJyAuIGpvaW4gKCBpaSBbIDQgOiA1IF0gKQogbGluayA9IGlpIFsgNSBdIC4gc3BsaXQgKCAnLCcgKSBbIDEgXQogT09vT28wT08gPSBsaW5rCiBvT29Pb09vID0gJyVzLy0lcy9wLCVzLGxpc3QsMSwzLmF2aScgJSAoIG9PaWlpICwgaUlJaWlJSUlJaSAsIGxpbmsgKQogb29PMDAwb09vMDAgPSAnJXMvJXMvJyAlICggc2VydmVyICwgb09paWkgKQogaUlpaUlpMWkxaTFpMSA9IHsgJ1VzZXItYWdlbnQnIDogJ01vemlsbGEvNS4wIChXaW5kb3dzIE5UIDYuMTsgV09XNjQ7IHJ2OjE5LjApIEdlY2tvLzIwMTAwMTAxIEZpcmVmb3gvMTkuMCcgfQogaWlJaTFJMWlpID0gJyVzLyVzJyAlICggc2VydmVyICwgb09vT29PbyApCiBpSWlpSWkxaTFpMWkxIFsgJ3JlZmVyZXInIF0gPSBvb08wMDBvT28wMAogaUlpaUlpMWkxaTFpMSBbICdjb25uZWN0aW9uJyBdID0gJ2tlZXAtYWxpdmUnCiBJaTExID0gdXJsbGliMiAuIFJlcXVlc3QgKCBpaUlpMUkxaWkgLCBOb25lICwgaUlpaUlpMWkxaTFpMSApCiBJMTFJaWkxMWkxSWkxID0gdXJsbGliMiAuIHVybG9wZW4gKCBJaTExICkKIGlpSUkgPSBJMTFJaWkxMWkxSWkxIC4gcmVhZCAoICkKIEkxMUlpaTExaTFJaTEgLiBjbG9zZSAoICkKIElpMWlJaTEgPSByZSAuIGZpbmRhbGwgKCAnRG93bmxvYWRGaWxlLipmPSVzIi4qUmVxdWVzdFZlcmlmaWNhdGlvblRva2VuLio/dmFsdWU9IihbXiJdKyknICUgbGluayAsIGlpSUkgKQogaTExID0gMAogdHJ5IDoKICBJaTFpSWkxID0gSWkxaUlpMSBbIDAgXQogZXhjZXB0IDoKICBpMTEgPSAxCiAgaWYgOTQgLSA5NDogSWlJSTFJaUkgJSBJMUlpSTFJSUkxMWkgKiBvbwogaWYgaTExID09IDAgOgogIGlJSSA9ICclcy9hY3Rpb24vRG93bmxvYWRGaWxlP2xvY2F0aW9uPWZpJmFtcDtmPSVzJyAlICggc2VydmVyICwgT09vT28wT08gKQogIG9PTzBvb29vID0gJ2ZpbGVJZD0lcyZfX1JlcXVlc3RWZXJpZmljYXRpb25Ub2tlbj0lcycgJSAoIE9Pb09vME9PICwgSWkxaUlpMSApCiAgaUlpaUlpMWkxaTFpMSBbICdyZWZlcmVyJyBdID0gaWlJaTFJMWlpCiAgaUlpaUlpMWkxaTFpMSBbICdjb25uZWN0aW9uJyBdID0gJ2tlZXAtYWxpdmUnCiAgSWkxMSA9IHVybGxpYjIgLiBSZXF1ZXN0ICggaUlJICwgb09PMG9vb28gLCBpSWlpSWkxaTFpMWkxICkKICBJMTFJaWkxMWkxSWkxID0gdXJsbGliMiAuIHVybG9wZW4gKCBJaTExICkKICBpaUlJID0gSTExSWlpMTFpMUlpMSAuIHJlYWQgKCApCiAgSTExSWlpMTFpMUlpMSAuIGNsb3NlICggKQogIGxpbmsgPSByZSAuIGZpbmRhbGwgKCAnRG93bmxvYWRVcmwiOiIoW14iXSspJyAsIGlpSUkgKQogIGlJID0gbGluayBbIDAgXQogZWxzZSA6CiAgaUkgPSAnJwogcmV0dXJuIGlJIC4gc3RyaXAgKCApCiBpZiA3IC0gNzogSTFJaUkxSUlJMTFpIC8gSTFJaUkxSUlJMTFpCiBpZiA4MiAtIDgyOiBJaUlJMUlpSSAuIElJIC4gb29Pb29PME9PTyAtIElpMUkKIGlmIDI3IC0gMjc6IE9PTyAvIGlpMUkxaWkxSWlJaTEgKyBJSW9vb08wb29PMG9vIC0gb29Pb29PME9PTyAlIG9PTwpkZWYgb09PT09vICggc3RyaW5nICkgOgogT09PME8wME8wID0gJzdTZTEwZ0FJZS1UMF9hJwogSUkxMTExSTEgPSBbIF0KIGZvciBPMDBPb28wbzBPTyBpbiB4cmFuZ2UgKCBsZW4gKCBzdHJpbmcgKSApIDoKICBJMWlJMWlpaUlpSTEgPSBPT08wTzAwTzAgWyBPMDBPb28wbzBPTyAlIGxlbiAoIE9PTzBPMDBPMCApIF0KICBPTzBPMCA9IGNociAoIG9yZCAoIHN0cmluZyBbIE8wME9vbzBvME9PIF0gKSArIG9yZCAoIEkxaUkxaWlpSWlJMSApICUgMjU2ICkKICBJSTExMTFJMSAuIGFwcGVuZCAoIE9PME8wICkKIGlpMWkxaWkxSSA9ICcnIC4gam9pbiAoIElJMTExMUkxICkKIHJldHVybiBiYXNlNjQgLiB1cmxzYWZlX2I2NGVuY29kZSAoIGlpMWkxaWkxSSApCiBpZiA2OCAtIDY4OiBvb29Pb08KIGlmIDc3IC0gNzc6IE9Pb09vTzBvMG8wT08gKiBpaTFJMWlpMUlpSWkxCmRlZiBvbzBvMDBvb08gKCBiYXNlICwgc2VydmVyICkgOgogaWYgc2VydmVyID09ICdrYmFnaScgOgogIHNlcnZlciA9ICdrLWJhZ2kuY29tJwogaW1wb3J0IHRpbWUKIGZyb20gcmFuZG9tIGltcG9ydCByYW5kaW50CiBvTzBvT29PT28wT08gPSBzdHIgKCBpbnQgKCB0aW1lIC4gdGltZSAoICkgKiAxMDAwICkgKQogTzBvID0gJ2h0dHA6Ly8lcy9hY3Rpb24vQWNjb3VudC9Mb2dpbj9yZXR1cm5Vcmw9JXMmJXMnICUgKCBzZXJ2ZXIgLCAnJTJGJyAsIG9PMG9Pb09PbzBPTyApCiBvT08wb29vbyA9IE5vbmUKIG9PT08wME9vT28gPSB7ICdVc2VyLUFnZW50JyA6ICdNb3ppbGxhLzUuMCAoV2luZG93cyBOVCA2LjE7IFdPVzY0OyBydjo1MC4wKSBHZWNrby8yMDEwMDEwMSBGaXJlZm94LzUwLjAnIH0KIG9PT08wME9vT28gWyAnQ29ubmVjdGlvbicgXSA9ICdrZWVwLWFsaXZlJwogSWlpMTFJaUkxMWkgPSB1cmxsaWIyIC4gdXJsb3Blbgogb28wTzAgPSB1cmxsaWIyIC4gUmVxdWVzdAogSWkxMSA9IG9vME8wICggTzBvICwgb09PMG9vb28gLCBvT09PMDBPb09vICkKIGlmIDE3IC0gMTc6IElpICUgaWkxSTFpaTFJaUlpMSAqIEkxICUgSWkgKiBvMDBvTzBvbzBPME8wICsgaWlJSWkxaTFJaWkKIGlmIDQ5IC0gNDk6IG9PTyArIG8wMG9PMG9vME8wTzAgLSBJMUlpSTFJSUkxMWkKIEkxMUlpaTExaTFJaTEgPSBJaWkxMUlpSTExaSAoIElpMTEgKQogSTExSTFJaWlJMUlJaSA9IEkxMUlpaTExaTFJaTEgLiBpbmZvICggKSBbICdTZXQtQ29va2llJyBdCiBpaUlJID0gSTExSWlpMTFpMUlpMSAuIHJlYWQgKCApCiBPME9vMG9PTyA9IHJlIC4gc2VhcmNoICggJyIuKj9fX1JlcXVlc3RWZXJpZmljYXRpb25Ub2tlbi4qP3ZhbHVlPSIoLio/KSInICwgaWlJSSApCiBJaTFpSWkxID0gTzBPbzBvT08gLiBncm91cCAoIDEgKQogaUlJID0gJ2h0dHA6Ly8lcy9hY3Rpb24vQWNjb3VudC9Mb2dpbicgJSBzZXJ2ZXIKIG9PT08wME9vT28gPSB7ICdVc2VyLUFnZW50JyA6ICdNb3ppbGxhLzUuMCAoV2luZG93cyBOVCA2LjE7IFdPVzY0OyBydjo1MC4wKSBHZWNrby8yMDEwMDEwMSBGaXJlZm94LzUwLjAnIH0KIG9PT08wME9vT28gWyAnQWNjZXB0JyBdID0gJyovKicKIG9PT08wME9vT28gWyAnQWNjZXB0LUxhbmd1YWdlJyBdID0gJ2VzLUVTLGVzO3E9MC44LGVuLVVTO3E9MC41LGVuO3E9MC4zJwogb09PTzAwT29PbyBbICdBY2NlcHQtRW5jb2RpbmcnIF0gPSAnZ3ppcCwgZGVmbGF0ZScKIG9PT08wME9vT28gWyAnQ29udGVudC1UeXBlJyBdID0gJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZDsgY2hhcnNldD1VVEYtOCcKIG9PT08wME9vT28gWyAnWC1SZXF1ZXN0ZWQtV2l0aCcgXSA9ICdYTUxIdHRwUmVxdWVzdCcKIG9PT08wME9vT28gWyAnUmVmZXJlcicgXSA9IE8wbwogb09PTzAwT29PbyBbICdDb29raWUnIF0gPSBJMTFJMUlpaUkxSUlpCiBvT09PMDBPb09vIFsgJ0Nvbm5lY3Rpb24nIF0gPSAna2VlcC1hbGl2ZScKIG9PT29PTyA9IGlJSTFpSUlpSWkxMUkgKCBiYXNlICwgc2VydmVyICkKIGlmIDQwIC0gNDA6IElJSUkgKyBvbyAtIG9vb09vTyAuIE9PTyAuIE9PTyAuIE9Pb09vTzBvMG8wT08KIG9PTzBvb29vID0gJ19fUmVxdWVzdFZlcmlmaWNhdGlvblRva2VuPSVzJlVzZXJOYW1lPSVzJlBhc3N3b3JkPSVzJyAlICggSWkxaUlpMSAsIG9PT29PTyBbIDAgXSAuIGVuY29kZSAoICd1dGYtOCcgKSAsIG9PT29PTyBbIDEgXSAuIGVuY29kZSAoICd1dGYtOCcgKSApCiBpZiA1OCAtIDU4OiBJaUlJMUlpSSAqIE9Pb09vTzBvMG8wT08KIElpaTExSWlJMTFpID0gdXJsbGliMiAuIHVybG9wZW4KIG9vME8wID0gdXJsbGliMiAuIFJlcXVlc3QKIElpMTEgPSBvbzBPMCAoIGlJSSAsIG9PTzBvb29vICwgb09PTzAwT29PbyApCiBJMTFJaWkxMWkxSWkxID0gSWlpMTFJaUkxMWkgKCBJaTExICkKIGlmIDU4IC0gNTg6IElJICUgSTFJaUkxSUlJMTFpICogT09vT29PMG8wbzBPTyAqIG9vb09vTyAuIGlJaTExCiBpaUlJID0gSTExSWlpMTFpMUlpMSAuIHJlYWQgKCApCiBpZiA2MiAtIDYyOiBJaSAtIElJIC0gaTFpSTEKIHJldHVybiAnVHlwZSI6IlJlZGlyZWN0JyBpbiBpaUlJIC4gcmVwbGFjZSAoICcgJyAsICcnICkKIGlmIDQxIC0gNDE6IEkxSWlJMUlJSTExaSArIG9vb09vTyAuIG8wMG9PMG9vME8wTzAgJSBpSWkxMQpkZWYgT08gKCBzZXJ2ZXIgLCBsaW5rICwgYmFzZSApIDoKIE8wbyA9IGxpbmsKIG9PTzBvb29vID0gTm9uZQogb09PTzAwT29PbyA9IHsgJ1VzZXItQWdlbnQnIDogJ01vemlsbGEvNS4wIChXaW5kb3dzIE5UIDYuMTsgV09XNjQ7IHJ2OjUwLjApIEdlY2tvLzIwMTAwMTAxIEZpcmVmb3gvNTAuMCcgfQogb09PTzAwT29PbyBbICdDb25uZWN0aW9uJyBdID0gJ2tlZXAtYWxpdmUnCiBJaWkxMUlpSTExaSA9IHVybGxpYjIgLiB1cmxvcGVuCiBvbzBPMCA9IHVybGxpYjIgLiBSZXF1ZXN0CiBJaTExID0gb28wTzAgKCBPMG8gLCBvT08wb29vbyAsIG9PT08wME9vT28gKQogSTExSWlpMTFpMUlpMSA9IElpaTExSWlJMTFpICggSWkxMSApCiBvb09PT29PMCA9IEkxMUlpaTExaTFJaTEgLiB1cmwKIHJldHVybiBvb09PT29PMAogaWYgNzAgLSA3MDogSWlJSTFpMUkgLiBJSSArIE9PTwpkZWYgaTFpSUlJaWkxICggc2VydmVyICwgbGluayAsIGJhc2UgKSA6CiBpaSA9IGxpbmsgLiBzcGxpdCAoICcvJyApCiBvT2lpaSA9ICcvJyAuIGpvaW4gKCBpaSBbIDMgOiA0IF0gKQogaUlJaWlJSUlJaSA9ICcvJyAuIGpvaW4gKCBpaSBbIDQgOiA1IF0gKQogbGluayA9IGlpIFsgNSBdIC4gc3BsaXQgKCAnLCcgKSBbIDEgXQogTzBvID0gJ2h0dHA6Ly8lcy8lcy8lcy9wLCVzLGxpc3QsMSwyLmF2aScgJSAoIHNlcnZlciAsIG9PaWlpICwgaUlJaWlJSUlJaSAsIGxpbmsgKQogb09PMG9vb28gPSBOb25lCiBvT09PMDBPb09vID0geyAnVXNlci1BZ2VudCcgOiAnTW96aWxsYS81LjAgKFdpbmRvd3MgTlQgNi4xOyBXT1c2NDsgcnY6NTAuMCkgR2Vja28vMjAxMDAxMDEgRmlyZWZveC81MC4wJyB9CiBvT09PMDBPb09vIFsgJ0Nvbm5lY3Rpb24nIF0gPSAna2VlcC1hbGl2ZScKIElpaTExSWlJMTFpID0gdXJsbGliMiAuIHVybG9wZW4KIG9vME8wID0gdXJsbGliMiAuIFJlcXVlc3QKIElpMTEgPSBvbzBPMCAoIE8wbyAsIG9PTzBvb29vICwgb09PTzAwT29PbyApCiBJMTFJaWkxMWkxSWkxID0gSWlpMTFJaUkxMWkgKCBJaTExICkKIEkxMUkxSWlpSTFJSWkgPSBJMTFJaWkxMWkxSWkxIC4gaW5mbyAoICkgWyAnU2V0LUNvb2tpZScgXQogaWlJSSA9IEkxMUlpaTExaTFJaTEgLiByZWFkICggKQogTzBPbzBvT08gPSByZSAuIHNlYXJjaCAoICdhY3Rpb249IihcXC9hY3Rpb25cXC9Eb3dubG9hZEZpbGVcXD9sb2NhdGlvbj1maSZhbXA7Zj0uKj8pIi4qP19fUmVxdWVzdFZlcmlmaWNhdGlvblRva2VuLio/dmFsdWU9IiguKj8pIicgLCBpaUlJICkKIGlJMSA9ICdodHRwOi8vJXMlcycgJSAoIHNlcnZlciAsIE8wT28wb09PIC4gZ3JvdXAgKCAxICkgLiByZXBsYWNlICggJyZhbXA7JyAsICcmJyApICkKIElpMWlJaTEgPSBPME9vMG9PTyAuIGdyb3VwICggMiApCiBvT09PMDBPb09vID0geyAnVXNlci1BZ2VudCcgOiAnTW96aWxsYS81LjAgKFdpbmRvd3MgTlQgNi4xOyBXT1c2NDsgcnY6NTAuMCkgR2Vja28vMjAxMDAxMDEgRmlyZWZveC81MC4wJyB9CiBvT09PMDBPb09vIFsgJ1JlZmVyZXInIF0gPSBPMG8KIG9PT08wME9vT28gWyAnQ29va2llJyBdID0gSTExSTFJaWlJMUlJaQogb09PTzAwT29PbyBbICdDb25uZWN0aW9uJyBdID0gJ2tlZXAtYWxpdmUnCiBvT08wb29vbyA9ICdmaWxlSWQ9JXMmX19SZXF1ZXN0VmVyaWZpY2F0aW9uVG9rZW49JXMnICUgKCBsaW5rICwgSWkxaUlpMSApCiBJaWkxMUlpSTExaSA9IHVybGxpYjIgLiB1cmxvcGVuCiBvbzBPMCA9IHVybGxpYjIgLiBSZXF1ZXN0CiBpZiA2OSAtIDY5OiBJMSArIElJb29vTzBvb08wb28gKiBPT29Pb08wbzBvME9PICsgb09PIC4gaWlJSWkxaTFJaWkgJSBJaUlJMUlpSQogSWkxMSA9IG9vME8wICggaUkxICwgb09PMG9vb28gLCBvT09PMDBPb09vICkKIEkxMUlpaTExaTFJaTEgPSBJaWkxMUlpSTExaSAoIElpMTEgKQogaWlJSSA9IEkxMUlpaTExaTFJaTEgLiByZWFkICggKQogaW1wb3J0IHRpbWUKIG9PMG9Pb09PbzBPTyA9IHN0ciAoIGludCAoIHRpbWUgLiB0aW1lICggKSApICkgKyAnNDA0JwogaWlJaTFJMWlpID0gJ2h0dHA6Ly8lcy9hY3Rpb24vT0F1dGgvRmFjZWJvb2s/VGltZVN0YW1wPSVzJyAlICggc2VydmVyICwgb08wb09vT09vME9PICkKIG9PT08wME9vT28gPSB7ICdVc2VyLUFnZW50JyA6ICdNb3ppbGxhLzUuMCAoV2luZG93cyBOVCA2LjE7IFdPVzY0OyBydjo1MC4wKSBHZWNrby8yMDEwMDEwMSBGaXJlZm94LzUwLjAnIH0KIG9PT08wME9vT28gWyAnUmVmZXJlcicgXSA9IE8wbwogb09PTzAwT29PbyBbICdDb29raWUnIF0gPSBJMTFJMUlpaUkxSUlpCiBvT09PMDBPb09vIFsgJ0Nvbm5lY3Rpb24nIF0gPSAna2VlcC1hbGl2ZScKIG9PTzBvb29vID0gTm9uZQogSWlpMTFJaUkxMWkgPSB1cmxsaWIyIC4gdXJsb3Blbgogb28wTzAgPSB1cmxsaWIyIC4gUmVxdWVzdAogSWkxMSA9IG9vME8wICggaWlJaTFJMWlpICwgb09PMG9vb28gLCBvT09PMDBPb09vICkKIEkxMUlpaTExaTFJaTEgPSBJaWkxMUlpSTExaSAoIElpMTEgKQogaUlJaTEgPSBJMTFJaWkxMWkxSWkxIC4gaW5mbyAoICkgWyAnU2V0LUNvb2tpZScgXQogaWlJSSA9IEkxMUlpaTExaTFJaTEgLiByZWFkICggKQogbzAwT08wMCA9IEkxMUkxSWlpSTFJSWkgLiBzcGxpdCAoICc7JyApCiBPME9PMDBvTzAwT28gPSBpSUlpMSAuIHNwbGl0ICggJzsnICkKIGZvciBPTzAwIGluIE8wT08wMG9PMDBPbyA6CiAgaWYgT08wMCBub3QgaW4gbzAwT08wMCA6CiAgIG8wME9PMDAgLiBhcHBlbmQgKCBPTzAwICkKICAgaWYgMjMgLSAyMzogSWkxSSAtIGlpSUlpMWkxSWlpCiBPME9PMDBvTzAwT28gPSBbIF0KIGZvciBPTzAwIGluIG8wME9PMDAgOgogIGlmICdwYXRoPS8nIG5vdCBpbiBPTzAwIGFuZCAnSHR0cE9ubHknIG5vdCBpbiBPTzAwIDoKICAgTzBPTzAwb08wME9vIC4gYXBwZW5kICggT08wMCApCiAgIGlmIDcwIC0gNzA6IElpICsgaWlJSWkxaTFJaWkgLSBvb29Pb08gKyBpMWlJMQogSTExSTFJaWlJMUlJaSA9ICc7ICcgLiBqb2luICggTzBPTzAwb08wME9vICkgLiByZXBsYWNlICggJyAgJyAsICcgJyApCiBpSUkgPSAnaHR0cDovLyVzL2FjdGlvbi9BY2NvdW50L0xvZ2luJyAlIHNlcnZlcgogb09PTzAwT29PbyA9IHsgJ1VzZXItQWdlbnQnIDogJ01vemlsbGEvNS4wIChXaW5kb3dzIE5UIDYuMTsgV09XNjQ7IHJ2OjUwLjApIEdlY2tvLzIwMTAwMTAxIEZpcmVmb3gvNTAuMCcgfQogb09PTzAwT29PbyBbICdBY2NlcHQnIF0gPSAnKi8qJwogb09PTzAwT29PbyBbICdBY2NlcHQtTGFuZ3VhZ2UnIF0gPSAnZXMtRVMsZXM7cT0wLjgsZW4tVVM7cT0wLjUsZW47cT0wLjMnCiBvT09PMDBPb09vIFsgJ0FjY2VwdC1FbmNvZGluZycgXSA9ICdnemlwLCBkZWZsYXRlJwogb09PTzAwT29PbyBbICdDb250ZW50LVR5cGUnIF0gPSAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkOyBjaGFyc2V0PVVURi04Jwogb09PTzAwT29PbyBbICdYLVJlcXVlc3RlZC1XaXRoJyBdID0gJ1hNTEh0dHBSZXF1ZXN0Jwogb09PTzAwT29PbyBbICdSZWZlcmVyJyBdID0gTzBvCiBvT09PMDBPb09vIFsgJ0Nvb2tpZScgXSA9IEkxMUkxSWlpSTFJSWkKIG9PT08wME9vT28gWyAnQ29ubmVjdGlvbicgXSA9ICdrZWVwLWFsaXZlJwogb09Pb09PID0gaUlJMWlJSWlJaTExSSAoIGJhc2UgLCBzZXJ2ZXIgKQogb09PMG9vb28gPSAnX19SZXF1ZXN0VmVyaWZpY2F0aW9uVG9rZW49JXMmVXNlck5hbWU9JXMmUGFzc3dvcmQ9JXMnICUgKCBJaTFpSWkxICwgb09Pb09PIFsgMCBdIC4gZW5jb2RlICggJ3V0Zi04JyApICwgb09Pb09PIFsgMSBdIC4gZW5jb2RlICggJ3V0Zi04JyApICkKIElpaTExSWlJMTFpID0gdXJsbGliMiAuIHVybG9wZW4KIG9vME8wID0gdXJsbGliMiAuIFJlcXVlc3QKIElpMTEgPSBvbzBPMCAoIGlJSSAsIG9PTzBvb29vICwgb09PTzAwT29PbyApCiBJMTFJaWkxMWkxSWkxID0gSWlpMTFJaUkxMWkgKCBJaTExICkKIHRyeSA6CiAgaUlJaTEgPSBJMTFJaWkxMWkxSWkxIC4gaW5mbyAoICkgWyAnU2V0LUNvb2tpZScgXQogZXhjZXB0IDoKICByZXR1cm4gb09Pb09PIFsgMCBdIC4gZW5jb2RlICggJ3V0Zi04JyApICsgJyMjTm9Mb2dpbicKIGlpSUkgPSBJMTFJaWkxMWkxSWkxIC4gcmVhZCAoICkKIG8wME9PMDAgPSBJMTFJMUlpaUkxSUlpIC4gc3BsaXQgKCAnOycgKQogTzBPTzAwb08wME9vID0gaUlJaTEgLiBzcGxpdCAoICc7JyApCiBmb3IgT08wMCBpbiBPME9PMDBvTzAwT28gOgogIGlmIE9PMDAgbm90IGluIG8wME9PMDAgOgogICBvMDBPTzAwIC4gYXBwZW5kICggT08wMCApCiAgIGlmIDIxIC0gMjE6IEkxSWlJMUlJSTExaSAtIG9vT29vTzBPT08gJSBPT08gJSBvbyAuIG8wMG9PMG9vME8wTzAgKyBJSUlJCiBPME9PMDBvTzAwT28gPSBbIF0KIGZvciBPTzAwIGluIG8wME9PMDAgOgogIGlmICdwYXRoPS8nIG5vdCBpbiBPTzAwIGFuZCAnSHR0cE9ubHknIG5vdCBpbiBPTzAwIDoKICAgTzBPTzAwb08wME9vIC4gYXBwZW5kICggT08wMCApCiAgIGlmIDE3IC0gMTc6IGkxaUkxICogSWlJSTFpMUkgLiBpSWkxMSAtIE9PTyAqIEkxSWlJMUlJSTExaQogSTExSTFJaWlJMUlJaSA9ICc7ICcgLiBqb2luICggTzBPTzAwb08wME9vICkgLiByZXBsYWNlICggJyAgJyAsICcgJyApCiBpSUlpMSA9ICcnCiBvT09PMDBPb09vID0geyAnVXNlci1BZ2VudCcgOiAnTW96aWxsYS81LjAgKFdpbmRvd3MgTlQgNi4xOyBXT1c2NDsgcnY6NTAuMCkgR2Vja28vMjAxMDAxMDEgRmlyZWZveC81MC4wJyB9CiBvT09PMDBPb09vIFsgJ1JlZmVyZXInIF0gPSBPMG8KIG9PT08wME9vT28gWyAnQ29va2llJyBdID0gSTExSTFJaWlJMUlJaQogb09PTzAwT29PbyBbICdDb25uZWN0aW9uJyBdID0gJ2tlZXAtYWxpdmUnCiBvT08wb29vbyA9ICdmaWxlSWQ9JXMmX19SZXF1ZXN0VmVyaWZpY2F0aW9uVG9rZW49JXMnICUgKCBsaW5rICwgSWkxaUlpMSApCiBJaWkxMUlpSTExaSA9IHVybGxpYjIgLiB1cmxvcGVuCiBvbzBPMCA9IHVybGxpYjIgLiBSZXF1ZXN0CiBJaTExID0gb28wTzAgKCBpSTEgLCBvT08wb29vbyAsIG9PT08wME9vT28gKQogSTExSWlpMTFpMUlpMSA9IElpaTExSWlJMTFpICggSWkxMSApCiBpaUlJID0gSTExSWlpMTFpMUlpMSAuIHJlYWQgKCApCiBPME9vMG9PTyA9IHJlIC4gc2VhcmNoICggJ0Rvd25sb2FkVXJsIjoiKC4qPykiJyAsIGlpSUkgKQogcmV0dXJuIE8wT28wb09PIC4gZ3JvdXAgKCAxICkKIGlmIDYyIC0gNjI6IEkxCiBkZWYgT28wICggaXRlbSApIDoKICBpZiAicXVhbGl0eSIgaW4gaXRlbSBbIDEgXSBbIDAgXSA6CiAgIGlmIDYyIC0gNjI6IElpSUkxaTFJICUgSTFJaUkxSUlJMTFpIC0gaTFpSTEgLyBpMWlJMSAuIGlpSUlpMWkxSWlpCiAgIGlmIDgwIC0gODA6IE9Pb09vTzBvMG8wT08gLyBJSUlJICogaUlpMTEgJSBvb29Pb08gLiBvMDBvTzBvbzBPME8wCiAgIGlmIDYwIC0gNjA6IElJb29vTzBvb08wb28gKiBvb29Pb08gLiBJaSAlIElJSUkKICAgaWYgNzQgLSA3NDogaWlJSWkxaTFJaWkKICAgaWYgNzQgLSA3NDogaTFpSTEgLSBJaTFJIC0gaTFpSTEgKiBPT29Pb08wbzBvME9PICUgSWkxSQogICBpZiA3MyAtIDczOiBJaQogICBpZiA0MiAtIDQyOiBpSWkxMQogICBJaUlpaWkxMTExSTExID0gaXRlbSBbIDEgXSBbIDAgXSBbICJxdWFsaXR5IiBdCiAgZWxzZSA6CiAgIElpSWlpaTExMTFJMTEgPSBpdGVtIFsgMSBdIFsgMCBdIFsgInBhdGgiIF0gWyAicXVhbGl0eSIgXQogICBpZiAxOCAtIDE4OiBvbyAvIG9vT29vTzBPT08KICBpZiAicGF0aCIgaW4gaXRlbSBbIDEgXSBbIDAgXSA6CiAgIGlmICJkZWJyaWRvbmx5IiBpbiBpdGVtIFsgMSBdIFsgMCBdIFsgInBhdGgiIF0gOgogICAgb29JSWkxMWlJSWlpSWkgPSAiQSIKICBlbGlmICJkZWJyaWRvbmx5IiBpbiBpdGVtIFsgMSBdIFsgMCBdIDoKICAgb29JSWkxMWlJSWlpSWkgPSAiQSIKICBlbHNlIDoKICAgb29JSWkxMWlJSWlpSWkgPSAiQiIKICAgaWYgODAgLSA4MDogSWkgLSBJaTFJICUgSTFJaUkxSUlJMTFpIC8gb28gKiBJMUlpSTFJSUkxMWkgKyBvMDBvTzBvbzBPME8wCiAgaWYgb29JSWkxMWlJSWlpSWkgPT0gIkEiIDoKICAgaWYgSWlJaWlpMTExMUkxMSAuIHN0YXJ0c3dpdGggKCAiNEsiICkgOgogICAgSWlJaWlpMTExMUkxMSA9ICJBYSIKICAgZWxpZiBJaUlpaWkxMTExSTExIC4gc3RhcnRzd2l0aCAoICIxMDgwIiApIDoKICAgIElpSWlpaTExMTFJMTEgPSAiQWIiCiAgIGVsaWYgSWlJaWlpMTExMUkxMSAuIHN0YXJ0c3dpdGggKCAiNzIwIiApIDoKICAgIElpSWlpaTExMTFJMTEgPSAiQWMiCiAgIGVsaWYgSWlJaWlpMTExMUkxMSAuIHN0YXJ0c3dpdGggKCAiNTYwIiApIDoKICAgIElpSWlpaTExMTFJMTEgPSAiQWQiCiAgIGVsaWYgSWlJaWlpMTExMUkxMSA9PSAiRFZEIiA6CiAgICBJaUlpaWkxMTExSTExID0gIkFlIgogICBlbGlmIElpSWlpaTExMTFJMTEgPT0gIkhEIiA6CiAgICBJaUlpaWkxMTExSTExID0gIkFmIgogICBlbGlmIElpSWlpaTExMTFJMTEgLiBzdGFydHN3aXRoICggIjQ4MCIgKSA6CiAgICBJaUlpaWkxMTExSTExID0gIkJhIgogICBlbGlmIElpSWlpaTExMTFJMTEgLiBzdGFydHN3aXRoICggIjM2MCIgKSA6CiAgICBJaUlpaWkxMTExSTExID0gIkJiIgogICBlbGlmIElpSWlpaTExMTFJMTEgLiBzdGFydHN3aXRoICggIlNEIiApIDoKICAgIElpSWlpaTExMTFJMTEgPSAiQmMiCiAgIGVsc2UgOgogICAgSWlJaWlpMTExMUkxMSA9ICJDWiIKICAgIGlmIDM1IC0gMzU6IGlpMUkxaWkxSWlJaTEgJSBJSUlJCiAgZWxpZiBJaUlpaWkxMTExSTExIC4gc3RhcnRzd2l0aCAoICI0SyIgKSA6CiAgIElpSWlpaTExMTFJMTEgPSAiSERhIgogIGVsaWYgSWlJaWlpMTExMUkxMSAuIHN0YXJ0c3dpdGggKCAiMTA4MCIgKSA6CiAgIElpSWlpaTExMTFJMTEgPSAiSERiIgogIGVsaWYgSWlJaWlpMTExMUkxMSAuIHN0YXJ0c3dpdGggKCAiNzIwIiApIDoKICAgSWlJaWlpMTExMUkxMSA9ICJIRGMiCiAgZWxpZiBJaUlpaWkxMTExSTExIC4gc3RhcnRzd2l0aCAoICI1NjAiICkgOgogICBJaUlpaWkxMTExSTExID0gIkhEZCIKICBlbGlmIElpSWlpaTExMTFJMTEgPT0gIkRWRCIgOgogICBJaUlpaWkxMTExSTExID0gIkhEZSIKICBlbGlmIElpSWlpaTExMTFJMTEgPT0gIkhEIiA6CiAgIElpSWlpaTExMTFJMTEgPSAiSERmIgogIGVsaWYgSWlJaWlpMTExMUkxMSAuIHN0YXJ0c3dpdGggKCAiNDgwIiApIDoKICAgSWlJaWlpMTExMUkxMSA9ICJTRGEiCiAgZWxpZiBJaUlpaWkxMTExSTExIC4gc3RhcnRzd2l0aCAoICIzNjAiICkgOgogICBJaUlpaWkxMTExSTExID0gIlNEYiIKICBlbGlmIElpSWlpaTExMTFJMTEgLiBzdGFydHN3aXRoICggIlNEIiApIDoKICAgSWlJaWlpMTExMUkxMSA9ICJTRGMiCiAgZWxzZSA6CiAgIElpSWlpaTExMTFJMTEgPSAiWiIKICByZXR1cm4gSWlJaWlpMTExMUkxMQogIGlmIDkwIC0gOTA6IElpMUkgKyBvb29Pb08gLyBvMDBvTzBvbzBPME8wCiBAIHN0YXRpY21ldGhvZAogZGVmIGlpaWkgKCBxdWFsaXR5X3N0cmluZyApIDoKICB0cnkgOgogICBJaUlpaWkxMTExSTExID0gaW50ICggcXVhbGl0eV9zdHJpbmcgKQogICBpZiBJaUlpaWkxMTExSTExID4gNTc2IDoKICAgIHJldHVybiAiSEQiCiAgIGVsc2UgOgogICAgcmV0dXJuICJTRCIKICBleGNlcHQgVmFsdWVFcnJvciA6CiAgIGlmIHF1YWxpdHlfc3RyaW5nIG5vdCBpbiBbICJTRCIgLCAiQ0FNIiAsICJTQ1IiIF0gOgogICAgcmV0dXJuICJIRCIKICAgZWxzZSA6CiAgICByZXR1cm4gIlNEIgogICAgaWYgMzYgLSAzNjogb29vT29PCiBAIHN0YXRpY21ldGhvZAogZGVmIE9PT28wMG9vbzBPbyAoIHNjcmFwZXJfbGluayApIDoKICBpZiAoCiBub3QgQURET04gLiBnZXRTZXR0aW5nICggImFsbG93X29wZW5sb2FkIiApID09ICJ0cnVlIgogYW5kICJvcGVubG9hZCIgaW4gc2NyYXBlcl9saW5rIFsgInVybCIgXQogKSA6CiAgIHJldHVybiBUcnVlCiAgaWYgKAogbm90IEFERE9OIC4gZ2V0U2V0dGluZyAoICJhbGxvd190aGVfdmlkZW9fbWUiICkgPT0gInRydWUiCiBhbmQgInRoZXZpZGVvLm1lIiBpbiBzY3JhcGVyX2xpbmsgWyAidXJsIiBdCiApIDoKICAgcmV0dXJuIFRydWUKICBpZiAoCiBub3QgQURET04gLiBnZXRTZXR0aW5nICggImFsbG93X3RoZV92aWR1cF9tZSIgKSA9PSAidHJ1ZSIKIGFuZCAidmlkdXAubWUiIGluIHNjcmFwZXJfbGluayBbICJ1cmwiIF0KICkgOgogICByZXR1cm4gVHJ1ZQogIHJldHVybiBGYWxzZQogIGlmIDk4IC0gOTg6IElJSUkKICBpZiA1OCAtIDU4OiBvT08KZGVmIGkxMUkgKCBsaW5rICwgbmFtZSA9IE5vbmUgLCBzZWxlY3RlZF9saW5rID0gTm9uZSApIDoKIGltcG9ydCByZQogaWYgMiAtIDI6IEkxICsgSUkgLSBJaQogaWYgNTcgLSA1Nzogb29vT29PCiBpZiAzMCAtIDMwOiBpMWlJMSArIG9vb09vTyAqIElpSUkxaTFJIC8gb09PICUgSTFJaUkxSUlJMTFpCiBpZiA3IC0gNzogSUlJSQogaWYgOTAgLSA5MDogSTEgLSBJaUlJMUlpSSAuIGlJaTExICsgSWlJSTFpMUkgKiBpaTFJMWlpMUlpSWkxIC4gSWlJSTFpMUkKIGlmIDYzIC0gNjM6IE9PTyAvIG9vIC0gaTFpSTEgLSBJSUlJIC0gb29Pb29PME9PTwogaWYgMjIgLSAyMjogSUlJSSAvIG9PTyArIElpMUkgKyBvT08gLyBJSUlJIC0gSTFJaUkxSUlJMTFpCiBpZiAzMSAtIDMxOiBPT08KIGlmIG5hbWUgaXMgTm9uZSA6CiAgbmFtZSA9IHhibWMgLiBnZXRJbmZvTGFiZWwgKCAibGlzdGl0ZW0ubGFiZWwiICkKIGlmIGxpbmsgLiBzdGFydHN3aXRoICggImh0dHAiICkgb3IgbGluayAuIHN0YXJ0c3dpdGggKCAicGx1Z2luIiApIDoKICBpaUlJSWlJaTExMWkgPSBbIGxpbmsgXQogZWxzZSA6CiAgSWlJaUlJMUkxSWkgPSBKZW5JdGVtICggbGluayApCiAgaWlJSUlpSWkxMTFpID0gSWlJaUlJMUkxSWkgLiBnZXRBbGwgKCAic3VibGluayIgKQogIGlmIG5vdCBpaUlJSWlJaTExMWkgOgogICBpaUlJSWlJaTExMWkgPSBbIElpSWlJSTFJMUlpIF0KIElJMUlJaUlJSUlpMWkgPSBbIF0KIG9vT28wMCA9IGdldF9saW5rX21lc3NhZ2UgKCApCiBpZiBzZWxlY3RlZF9saW5rIGlzIE5vbmUgOgogIE9vMG9Pb09PTzAwbyA9IEFERE9OIC4gZ2V0U2V0dGluZyAoICJkZWZhdWx0X2xpbmsiICkKIGVsc2UgOgogIE9vMG9Pb09PTzAwbyA9IHNlbGVjdGVkX2xpbmsKIG9vb28wbyA9IEFERE9OIC4gZ2V0U2V0dGluZyAoICJ1c2VfbGlua19kaWFsb2ciICkgPT0gInRydWUiCiBPT28gPSBGYWxzZQogZm9yIG9vTzBPMG8wb09PTyBpbiBpaUlJSWlJaTExMWkgOgogIGlmIG9vb28wbyBhbmQgInNlYXJjaCIgaW4gb29PME8wbzBvT09PIDoKICAgY29udGludWUKICBpZiAic2VhcmNoc2QiIGluIG9vTzBPMG8wb09PTyA6CiAgIGlmIE9vMG9Pb09PTzAwbyA9PSAiU0QiIDoKICAgIHJldHVybiBvb08wTzBvMG9PT08KICAgbzAwMDBPID0gIlNEIgogICBpZiBvb09vMDAgWyAiU0QiIF0gIT0gIiIgOgogICAgbzAwMDBPICs9ICIgKCVzKSIgJSBvb09vMDAgWyAiU0QiIF0KICAgb09PME8wID0gKCBvMDAwME8gLCBvb08wTzBvMG9PT08gKQogIGVsaWYgInNlYXJjaCIgaW4gb29PME8wbzBvT09PIDoKICAgaWYgT28wb09vT09PMDBvID09ICJIRCIgOgogICAgcmV0dXJuIG9vTzBPMG8wb09PTwogICBvMDAwME8gPSAiSEQiCiAgIGlmIG9vT28wMCBbICJIRCIgXSAhPSAiIiA6CiAgICBvMDAwME8gKz0gIiAoJXMpIiAlIG9vT28wMCBbICJIRCIgXQogICBvT08wTzAgPSAoIG8wMDAwTyAsIG9vTzBPMG8wb09PTyApCiAgZWxzZSA6CiAgIE9PbyA9IFRydWUKICAgb08wb29vT08wME9PbyA9IHJlIC4gZmluZGFsbCAoICIoLio/KVwoKC4qPylcKSIgLCBvb08wTzBvMG9PT08gKQogICBpZiBvTzBvb29PTzAwT09vIDoKICAgIG9PTzBPMCA9ICggIiVzIiAlIG9PMG9vb09PMDBPT28gWyAwIF0gWyAxIF0gLCBvTzBvb29PTzAwT09vIFsgMCBdIFsgMCBdICkKICAgZWxzZSA6CiAgICBvT08wTzAgPSAoICJMaW5rICVzIiAlICggaW50ICggaWlJSUlpSWkxMTFpIC4gaW5kZXggKCBvb08wTzBvMG9PT08gKSApICsgMSApICwgb29PME8wbzBvT09PICkKICBJSTFJSWlJSUlJaTFpIC4gYXBwZW5kICggb09PME8wICkKIGlmIG9vb28wbyBhbmQgKCBub3QgT09vIG9yIGxlbiAoIGlpSUlJaUlpMTExaSApID4gMSApIDoKICBJSTFJSWlJSUlJaTFpIC4gYXBwZW5kICggKCAiU2VhcmNoIiAsICJzZWFyY2giICkgKQogIGlmIDc3IC0gNzc6IGlpSUlpMWkxSWlpIC4gaWkxSTFpaTFJaUlpMSAvIEkxSWlJMUlJSTExaSAqIG9vb09vTwogaWYgbGVuICggSUkxSUlpSUlJSWkxaSApID09IDEgOgogIG9vTzAwMG9PbzAwID0gSUkxSUlpSUlJSWkxaSBbIDAgXSBbIDEgXQogIHJldHVybiBvb08wMDBvT28wMAogIGlmIDIzIC0gMjM6IElpSUkxSWlJICsgSUkgJSBpaTFJMWlpMUlpSWkxICUgSTEgLiBvMDBvTzBvbzBPME8wCiBpMUkgPSB4Ym1jZ3VpIC4gRGlhbG9nICggKSAuIHNlbGVjdCAoIG5hbWUgLCBbIE8wME9vbzBvME9PIFsgMCBdIGZvciBPMDBPb28wbzBPTyBpbiBJSTFJSWlJSUlJaTFpIF0gKQogaWYgaTFJID09IC0gMSA6CiAgcmV0dXJuIEZhbHNlCiBlbHNlIDoKICBvb08wMDBvT28wMCA9IElJMUlJaUlJSUlpMWkgWyBpMUkgXSBbIDEgXQogcmV0dXJuIG9vTzAwMG9PbzAwCiBpZiA5IC0gOTogSWkxSSAtIG9PTyAlIGlJaTExICUgSTFJaUkxSUlJMTFpICogSUlvb29PMG9vTzBvbyAtIGlJaTExCmRlZiBvTzBPbzAwICggbGluayApIDoKIEkxaTFJaTFpSUkgPSByZSAuIGZpbmRhbGwgKCAnbGlzdD0oLio/KSg/OiZ8XHN8JCkrJyAsIG9vMG8gKCBsaW5rICkgLCBmbGFncyA9IHJlIC4gRE9UQUxMICkKIG9Pb09vID0gWyBdCiBpZiBsZW4gKCBJMWkxSWkxaUlJICkgPiAwIDoKICBmb3IgTzAwT29vMG8wT08gaW4gSTFpMUlpMWlJSSA6CiAgIG9Pb09vIC4gYXBwZW5kICggJ3BsdWdpbjovL3BsdWdpbi52aWRlby55b3V0dWJlL3BsYXlsaXN0LyVzLycgJSBzdHIgKCBJMWkxSWkxaUlJIFsgMCBdICkgKQogIHJldHVybiBvT29PbwogZWxzZSA6CiAgcmV0dXJuIE5vbmUKICBpZiA2NiAtIDY2OiBvT08KZGVmIE9vT08wT08wb09PICggbGluayApIDoKIGlpSUkgPSBJMWlpSTFJICggbGluayApCiBpZiA5OCAtIDk4OiBJSUlJICogSWkgKyBJaSAtIElJCiBJMWkxSWkxaUlJID0gcmUgLiBzZWFyY2ggKCAnL3N0cmVhbWluZy8uKj9tM3U4JyAsIGlpSUkgKSAuIGdyb3VwICggMCApCiBpZiBJMWkxSWkxaUlJIDoKICBpZiA4NSAtIDg1OiBJaTFJICogSUkgLiBJaUlJMUlpSSAtIGlpMUkxaWkxSWlJaTEgLSBPT29Pb08wbzBvME9PIC8gSTFJaUkxSUlJMTFpCiAgcmV0dXJuICdodHRwczovL2dsb3JpYS50dicgKyBJMWkxSWkxaUlJCiBlbHNlIDoKICByZXR1cm4gTm9uZQogIGlmIDQyIC0gNDI6IElJSUkgLyBpaTFJMWlpMUlpSWkxICsgb09PIC4gT09PIC8gaUlpMTEKZGVmIG9PSWlJaUlpSWkgKCB0aXQgLCB2aWRlb1VybCApIDoKIGlpMTFpaTFpSUlJMUkgPSBpbnQgKCBzeXMgLiBhcmd2IFsgMSBdICkKIG9vTyA9IHhibWNndWkgLiBMaXN0SXRlbSAoIHBhdGggPSB2aWRlb1VybCApCiBvb08gLiBzZXRJbmZvICggJ3ZpZGVvJyAsIHsgJ3RpdGxlJyA6IHRpdCB9ICkKIHhibWNwbHVnaW4gLiBzZXRSZXNvbHZlZFVybCAoIGlpMTFpaTFpSUlJMUkgLCBUcnVlICwgb29PICkKIGlmIDIyIC0gMjI6IGlpSUlpMWkxSWlpCmRlZiBvMDBPT09vICggcyApIDoKIHJldHVybiAnJyAuIGpvaW4gKCAoIGMgZm9yIGMgaW4gdW5pY29kZWRhdGEgLiBub3JtYWxpemUgKCAnTkZEJyAsIHMgKSBpZiB1bmljb2RlZGF0YSAuIGNhdGVnb3J5ICggYyApICE9ICdNbicgKSApCiBpZiA2MSAtIDYxOiBJaTFJCiBpZiA1NyAtIDU3OiBvb09vb08wT09PICogaUlpMTEgLSBpaTFJMWlpMUlpSWkxICsgSWlJSTFJaUkgKyBvT08gLiBvb09vb08wT09PCmRlZiBpSTFpMTFJSUkxSWkgKCB0aXQgLCB2aWRlb1VybCApIDoKIHRpdCA9IG8wME9PT28gKCB1bmljb2RlICggdGl0IC4gZGVjb2RlICggJ3V0Zi04JyApICkgKQogaWYgOTcgLSA5NzogSUlvb29PMG9vTzBvbyAlIElJIC0gb28gLyBpMWlJMSAqIG9PTyAlIG9vCiBJMUlpSTExMTExMTEgLCBJaTExSTExSWkxMUkgPSBvcyAuIHBhdGggLiBzcGxpdGV4dCAoIHZpZGVvVXJsICkKIG9vb09PME9PMCAsIElJMUlJMUkxMSA9IG9zIC4gcGF0aCAuIHNwbGl0ZXh0ICggdGl0ICkKIGlmIDM0IC0gMzQ6IElpSUkxSWlJICogSTEgLSBJMSAuIElpSUkxSWlJCiBpZiA1NiAtIDU2OiBpaTFJMWlpMUlpSWkxICsgSUlJSSAqIG9vIC0gb09PCiBpZiBub3QgSWkxMUkxMUlpMTFJIGFuZCBub3QgSUkxSUkxSTExIDoKICBJaTExSTExSWkxMUkgPSAnLmF2aScKICBpZiA4OCAtIDg4OiBJaUlJMWkxSSAuIG9vICsgb29Pb29PME9PTyAuIG8wMG9PMG9vME8wTzAgKiBpaUlJaTFpMUlpaSArIElpSUkxSWlJCiBpZiBub3QgdGl0IC4gZW5kc3dpdGggKCBJaTExSTExSWkxMUkgKSA6CiAgdGl0ID0gdGl0ICsgSWkxMUkxMUlpMTFJCiAgaWYgNjQgLSA2NDogaWkxSTFpaTFJaUlpMQogIGlmIDE5IC0gMTk6IG9vIC4gb29Pb29PME9PTyAtIElJIC0gSWkKIGltcG9ydCB4Ym1jYWRkb24KIHRyeSA6CiAgaW1wb3J0IFNpbXBsZURvd25sb2FkZXIgYXMgZG93bmxvYWRlcgogIGRvd25sb2FkZXIgPSBkb3dubG9hZGVyIC4gU2ltcGxlRG93bmxvYWRlciAoICkKICBPMDBvMDAwMDBPMDAgPSB4Ym1jIC4gdHJhbnNsYXRlUGF0aCAoIF9fc2V0dGluZ3NfXyAuIGdldFNldHRpbmcgKCAnRG93bmxvYWRQYXRoJyApICkKICBpMWkxSSA9IHsgInVybCIgOiB2aWRlb1VybCAuIHN0cmlwICggKSAsICJkb3dubG9hZF9wYXRoIiA6IE8wMG8wMDAwME8wMCAsICJmaWxlbmFtZSIgOiB0aXQgfQogIGRvd25sb2FkZXIgLiBkb3dubG9hZCAoIHRpdCAsIGkxaTFJICkKICBJaTFpSSA9IHhibWNndWkgLiBEaWFsb2cgKCApCiAgSWkxaUkgLiBub3RpZmljYXRpb24gKCAnUGFsYW50aXInICwgJ0luaWNpYW5kbyBEZXNjYXJnYS4uLicgLCB4Ym1jZ3VpIC4gTk9USUZJQ0FUSU9OX0lORk8gLCAzMDAwICkKIGV4Y2VwdCA6CiAgdHJhY2ViYWNrIC4gcHJpbnRfZXhjICggZmlsZSA9IHN5cyAuIHN0ZG91dCApCiAgaWlpID0gJ0FkZG9uIFNpbXBsZSBEb3dubG9hZGVyIG5vIGVuY29udHJhZG8sIHBvciBlc28gbm8gc2UgcHVlZGUgZGVzY2FyZ2FyJwogIG9vTyA9IHhibWNndWkgLiBMaXN0SXRlbSAoIGlpaSAsIGljb25JbWFnZSA9ICdEZWZhdWx0VmlkZW8ucG5nJyApCiAgeGJtY3BsdWdpbiAuIHNldFJlc29sdmVkVXJsICggaW50ICggc3lzIC4gYXJndiBbIDEgXSApICwgRmFsc2UgLCBvb08gKQogIElpMWlJID0geGJtY2d1aSAuIERpYWxvZyAoICkKICBJaTFpSSAuIG5vdGlmaWNhdGlvbiAoICdQYWxhbnRpcicgLCBpaWkgLCB4Ym1jZ3VpIC4gTk9USUZJQ0FUSU9OX0lORk8gLCA1MDAwICkKICBpZiAyNSAtIDI1OiBvMDBvTzBvbzBPME8wIC4gb28KZGVmIElJaSAoIHNlciAsIHRpdHVsbyAsIGJhc2UgLCBpZCAsIHR5cGUgLCBhY3Rpb24gLCBwYXJhbXMgKSA6CiBpaTExaWkxaUlJSTFJID0gaW50ICggc3lzIC4gYXJndiBbIDEgXSApCiBpZiBhY3Rpb24gPT0gJ3BsYXknIDoKICBhY3Rpb24gPSBvT0lpSWlJaUlpCiAgdHJ5IDoKICAgSTExaUlpSUlpID0gemxpYiAuIGRlY29tcHJlc3MgKCBiYXNlNjQgLiB1cmxzYWZlX2I2NGRlY29kZSAoIEkxMTFJMTFJMTExMTEgKCBiYXNlICkgKSApCiAgIGlmIDgzIC0gODM6IG9vT29vTzBPT08gLyBpMWlJMSAlIG9PTwogICBvb08wMDBvT28wMCA9ICggYmFzZTY0IC4gdXJsc2FmZV9iNjRkZWNvZGUgKCAnSlhNdlFtRnpaVVJoZEc5ekwzWnBaWGR6TG5Cb2NEOXBaRDBsY3laMGVYQmxQU1Z6JyApICkgJSAoIEkxMWlJaUlJaSAsIGlkICwgdHlwZSApCiAgIEkxaWlJMUkgKCBvb08wMDBvT28wMCApCiAgIGlmIDY0IC0gNjQ6IElJb29vTzBvb08wb28gJSBJaUlJMUlpSSAtIElpSUkxaTFJCiAgIElJSWlpMUlpID0gc3FsaXRlMyAuIGNvbm5lY3QgKCBiYXNlICkKICAgT08wbyA9IElJSWlpMUlpIC4gY3Vyc29yICggKQogICBpZiB0eXBlID09ICdzZXJpZXMnIDoKICAgIGlmIDkgLSA5OiBpMWlJMSAvIG8wMG9PMG9vME8wTzAgJSBpSWkxMQogICAgT08wbyAuIGV4ZWN1dGUgKAogYmFzZTY0IC4gdXJsc2FmZV9iNjRkZWNvZGUgKCAnZFhCa1lYUmxJSE5sY21sbGN5QnpaWFFnZG1sbGQzTTlkbWxsZDNNck1TQjNhR1Z5WlNCelpYSnBaVjlwWkNBOUlEOD0nICkgLAogKCBpZCAsICkgKQogICBlbHNlIDoKICAgIGlmIDU0IC0gNTQ6IElpSUkxaTFJIC8gSWlJSTFpMUkgKiBPT29Pb08wbzBvME9PICsgSWlJSTFpMUkKICAgIE9PMG8gLiBleGVjdXRlICgKIGJhc2U2NCAuIHVybHNhZmVfYjY0ZGVjb2RlICggJ2RYQmtZWFJsSUhCbGJHbHpJSE5sZENCMmFXVjNjejEyYVdWM2N5c3hJSGRvWlhKbElIQmxiR2xmYVdRZ1BTQV8nICkgLCAoIGlkICwgKSApCiAgIElJSWlpMUlpIC4gY29tbWl0ICggKQogICBJSUlpaTFJaSAuIGNsb3NlICggKQogIGV4Y2VwdCA6CiAgIHBhc3MKIGVsc2UgOgogIGFjdGlvbiA9IGlJMWkxMUlJSTFJaQogIHRyeSA6CiAgIGlkID0gaWQgLiBzcGxpdCAoICctJyApIFsgMCBdCiAgIEkxMWlJaUlJaSA9IHpsaWIgLiBkZWNvbXByZXNzICggYmFzZTY0IC4gdXJsc2FmZV9iNjRkZWNvZGUgKCBJMTExSTExSTExMTExICggYmFzZSApICkgKQogICBpZiAxOSAtIDE5OiBJMUlpSTFJSUkxMWkKICAgb29PMDAwb09vMDAgPSAoIGJhc2U2NCAuIHVybHNhZmVfYjY0ZGVjb2RlICggJ0pYTXZRbUZ6WlVSaGRHOXpMMlJ2ZDI0dWNHaHdQMmxrUFNWekpuUjVjR1U5SlhNPScgKSApICUgKCBJMTFpSWlJSWkgLCBpZCAsIHR5cGUgKQogICBJMWlpSTFJICggb29PMDAwb09vMDAgKQogICBpZiA1MyAtIDUzOiBJaUlJMWkxSSArIElJSUkgLyBJSSAtIEkxSWlJMUlJSTExaSAlIGlpMUkxaWkxSWlJaTEKICAgSUlJaWkxSWkgPSBzcWxpdGUzIC4gY29ubmVjdCAoIGJhc2UgKQogICBPTzBvID0gSUlJaWkxSWkgLiBjdXJzb3IgKCApCiAgIGlmIHR5cGUgPT0gJ3NlcmllcycgOgogICAgaWYgMjIgLSAyMjogSUlJSSAqIGlpMUkxaWkxSWlJaTEgLyBvMDBvTzBvbzBPME8wIC0gSUkKICAgIE9PMG8gLiBleGVjdXRlICggYmFzZTY0IC4gdXJsc2FmZV9iNjRkZWNvZGUgKCAnZFhCa1lYUmxJSE5sY21sbGN5QnpaWFFnWkc5M2JqMWtiM2R1S3pFZ2QyaGxjbVVnYzJWeWFXVmZhV1FnUFNBXycgKSAsICggaWQgLCApICkKICAgZWxzZSA6CiAgICBpZiA1OSAtIDU5OiBvMDBvTzBvbzBPME8wCiAgICBpZiA1OCAtIDU4OiBpaTFJMWlpMUlpSWkxICogb29vT29PICUgaWlJSWkxaTFJaWkgLiBJSW9vb08wb29PMG9vICogbzAwb08wb28wTzBPMCAvIElpMUkKICAgIE9PMG8gLiBleGVjdXRlICggYmFzZTY0IC4gdXJsc2FmZV9iNjRkZWNvZGUgKCAnZFhCa1lYUmxJSEJsYkdseklITmxkQ0JrYjNkdVBXUnZkMjRyTVNCM2FHVnlaU0J3Wld4cFgybGtJRDBnUHc9PScgKSAsICggaWQgLCApICkKICAgSUlJaWkxSWkgLiBjb21taXQgKCApCiAgIElJSWlpMUlpIC4gY2xvc2UgKCApCiAgZXhjZXB0IDoKICAgcGFzcwogSUkxSUlpSUlJSWkxaSA9IHNlciAuIHNwbGl0ICggJyAnICkKIGlmIG5vdCBJSTFJSWlJSUlJaTFpIDoKICBpaWkgPSAnVmlkZW8gZW4gcHJlcGFyYWNpXHhjM1x4YjNuJwogIG9vTyA9IHhibWNndWkgLiBMaXN0SXRlbSAoIGlpaSAsIGljb25JbWFnZSA9ICdEZWZhdWx0VmlkZW8ucG5nJyApCiAgeGJtY3BsdWdpbiAuIHNldFJlc29sdmVkVXJsICggaWkxMWlpMWlJSUkxSSAsIEZhbHNlICwgb29PICkKICBJaTFpSSA9IHhibWNndWkgLiBEaWFsb2cgKCApCiAgSWkxaUkgLiBub3RpZmljYXRpb24gKCAnUGFsYW50aXInICwgaWlpICwgeGJtY2d1aSAuIE5PVElGSUNBVElPTl9JTkZPICwgNTAwMCApCiAgaWYgMjUgLSAyNTogSTFJaUkxSUlJMTFpICsgSWkgLSBpaUlJaTFpMUlpaSAuIElpCiB0cnkgOgogIGltcG9ydCByZXNvbHZldXJsCiBleGNlcHQgOgogIGltcG9ydCB0cmFjZWJhY2sKICB0cmFjZWJhY2sgLiBwcmludF9leGMgKCBmaWxlID0gc3lzIC4gc3Rkb3V0ICkKICBpaWkgPSAnQWRkb24gc2NyaXB0Lm1vZHVsZS5yZXNvbHZldXJsIG5vIGVuY29udHJhZG8nCiAgb29PID0geGJtY2d1aSAuIExpc3RJdGVtICggaWlpICwgaWNvbkltYWdlID0gJ0RlZmF1bHRWaWRlby5wbmcnICkKICB4Ym1jcGx1Z2luIC4gc2V0UmVzb2x2ZWRVcmwgKCBpaTExaWkxaUlJSTFJICwgRmFsc2UgLCBvb08gKQogIElpMWlJID0geGJtY2d1aSAuIERpYWxvZyAoICkKICBJaTFpSSAuIG5vdGlmaWNhdGlvbiAoICdQYWxhbnRpcicgLCBpaWkgLCB4Ym1jZ3VpIC4gTk9USUZJQ0FUSU9OX0lORk8gLCA3MDAwICkKICBpZiAxOCAtIDE4OiBJMUlpSTFJSUkxMWkgJSBvb29Pb08KIGZvciBPMDBPb28wbzBPTyBpbiB4cmFuZ2UgKCBsZW4gKCBJSTFJSWlJSUlJaTFpICkgKSA6CiAgaTFpaTEgPSBvbzBvICggSUkxSUlpSUlJSWkxaSBbIE8wME9vbzBvME9PIF0gKQogIGkxMTExMSA9IElpMUlJaUkxMWlJMSAoIGkxaWkxICwgRmFsc2UgKQogIGlmIDg0IC0gODQ6IGlpMUkxaWkxSWlJaTEgKiBpMWlJMSAqIElJb29vTzBvb08wb28gKiBJaTFJCiAgaWYgNDkgLSA0OTogSWlJSTFpMUkgKiBJaUlJMUlpSQogIE8wT29vT09PME8gPSBiYXNlNjQgLiB1cmxzYWZlX2I2NGRlY29kZSAoIHRpdHVsbyApCiAgaWYgODkgLSA4OTogaTFpSTEgLiBJaUlJMWkxSSAtIGlJaTExCiAgaWYgNiAtIDY6IElJICsgaWkxSTFpaTFJaUlpMSAvIGkxaUkxICUgaWkxSTFpaTFJaUlpMSAqIE9Pb09vTzBvMG8wT08KICBpZiAxNCAtIDE0OiBJaSAtIE9Pb09vTzBvMG8wT08gLiBJSW9vb08wb29PMG9vICsgSTEgLiBvb09vb08wT09PIC0gSWkKICBpZiA4MyAtIDgzOiBvb29Pb08gLiBpaUlJaTFpMUlpaSAtIEkxSWlJMUlJSTExaQogIGlmIDIgLSAyOiBJMUlpSTFJSUkxMWkKICBpZiA5NiAtIDk2OiBpaUlJaTFpMUlpaSAuIEkxSWlJMUlJSTExaSAlIGlJaTExIC4gaWlJSWkxaTFJaWkKICBpZiAxIC0gMTogSUlvb29PMG9vTzBvbyAlIE9Pb09vTzBvMG8wT08gJSBvb29Pb08gLiBvT08KICBpZiAxMyAtIDEzOiBpaTFJMWlpMUlpSWkxICsgaUlpMTEgJSBvbwogIGlmIDE0IC0gMTQ6IGlJaTExICsgT09vT29PMG8wbzBPTyAtIG9vIC0gbzAwb08wb28wTzBPMAogIGlmIGkxMTExMSA9PSAnYXInIDoKICAgTzAwTzAwT29Pb28gPSAnYXJjaGl2ZScKICAgdHJ5IDoKICAgIGlJID0gT08gKCBPMDBPMDBPb09vbyAsIGkxaWkxICwgYmFzZSApCiAgICBhY3Rpb24gKCBPME9vb09PTzBPICwgaUkgKQogICBleGNlcHQgSFRUUEVycm9yIDoKICAgIGlmIE8wME9vbzBvME9PID09IGxlbiAoIElJMUlJaUlJSUlpMWkgKSAtIDEgOgogICAgIGlpaSA9ICdFbCBzZXJ2aWRvciAlcyBwYXJlY2UgY2FpZG8sIGludGVudGFsbyBtYXMgdGFyZGUnICUgTzAwTzAwT29Pb28KICAgICBvb08gPSB4Ym1jZ3VpIC4gTGlzdEl0ZW0gKCBpaWkgLCBpY29uSW1hZ2UgPSAnRGVmYXVsdFZpZGVvLnBuZycgKQogICAgIHhibWNwbHVnaW4gLiBzZXRSZXNvbHZlZFVybCAoIGlpMTFpaTFpSUlJMUkgLCBGYWxzZSAsIG9vTyApCiAgICAgSWkxaUkgPSB4Ym1jZ3VpIC4gRGlhbG9nICggKQogICAgIElpMWlJIC4gbm90aWZpY2F0aW9uICggJ1BhbGFudGlyJyAsIGlpaSAsIHhibWNndWkgLiBOT1RJRklDQVRJT05fSU5GTyAsIDUwMDAgKQogICAgIGltcG9ydCB0cmFjZWJhY2sKICAgICB0cmFjZWJhY2sgLiBwcmludF9leGMgKCBmaWxlID0gc3lzIC4gc3Rkb3V0ICkKICAgZXhjZXB0IEV4Y2VwdGlvbiA6CiAgICBpZiBPMDBPb28wbzBPTyA9PSBsZW4gKCBJSTFJSWlJSUlJaTFpICkgLSAxIDoKICAgICBpaWkgPSAnRXJyb3IgZGVsIHNlcnZpZG9yICVzLCBUcmFiYWphbW9zIHBhcmEgc29sdWNpb25hcmxvJyAlIE8wME8wME9vT29vCiAgICAgb29PID0geGJtY2d1aSAuIExpc3RJdGVtICggaWlpICwgaWNvbkltYWdlID0gJ0RlZmF1bHRWaWRlby5wbmcnICkKICAgICB4Ym1jcGx1Z2luIC4gc2V0UmVzb2x2ZWRVcmwgKCBpaTExaWkxaUlJSTFJICwgRmFsc2UgLCBvb08gKQogICAgIElpMWlJID0geGJtY2d1aSAuIERpYWxvZyAoICkKICAgICBJaTFpSSAuIG5vdGlmaWNhdGlvbiAoICdQYWxhbnRpcicgLCBpaWkgLCB4Ym1jZ3VpIC4gTk9USUZJQ0FUSU9OX0lORk8gLCA1MDAwICkKICAgICBpbXBvcnQgdHJhY2ViYWNrCiAgICAgdHJhY2ViYWNrIC4gcHJpbnRfZXhjICggZmlsZSA9IHN5cyAuIHN0ZG91dCApCiAgZWxpZiBpMTExMTEgPT0gJ2tiJyBvciBpMTExMTEgPT0gJ2RrJyA6CiAgIGlmIGkxMTExMSA9PSAna2InIDoKICAgIE8wME8wME9vT29vID0gJ2stYmFnaS5jb20nCiAgICBPTzBvTyA9ICdLYWJhZ2knCiAgIGVsc2UgOgogICAgTzAwTzAwT29Pb28gPSAnZGlza29rb3NtaWtvLm14JwogICAgT08wb08gPSAnRGlza29rb3NtaWNvJwogICB0cnkgOgogICAgaUkgPSBpMWlJSUlpaTEgKCBPMDBPMDBPb09vbyAsIGkxaWkxICwgYmFzZSApCiAgICBpZiBpSSA9PSAnJyBhbmQgTzAwT29vMG8wT08gPT0gbGVuICggSUkxSUlpSUlJSWkxaSApIC0gMSA6CiAgICAgaWlpID0gJ0VsIGVubGFjZSB5YSBubyBleGlzdGUnCiAgICAgb29PID0geGJtY2d1aSAuIExpc3RJdGVtICggaWlpICwgaWNvbkltYWdlID0gJ0RlZmF1bHRWaWRlby5wbmcnICkKICAgICB4Ym1jcGx1Z2luIC4gc2V0UmVzb2x2ZWRVcmwgKCBpaTExaWkxaUlJSTFJICwgRmFsc2UgLCBvb08gKQogICAgIElpMWlJID0geGJtY2d1aSAuIERpYWxvZyAoICkKICAgICBJaTFpSSAuIG5vdGlmaWNhdGlvbiAoICdQYWxhbnRpcicgLCBpaWkgLCB4Ym1jZ3VpIC4gTk9USUZJQ0FUSU9OX0lORk8gLCA1MDAwICkKICAgICBicmVhawogICAgZWxpZiBpSSAuIGVuZHN3aXRoICggJ05vTG9naW4nICkgYW5kIE8wME9vbzBvME9PID09IGxlbiAoIElJMUlJaUlJSUlpMWkgKSAtIDEgOgogICAgIHhibWNndWkgLiBEaWFsb2cgKCApIC4gbm90aWZpY2F0aW9uICggJ1BhbGFudGlyJyAsICclczogVXN1YXJpbyAoJXMpIHkgQ29udHJhc2XDsWEgaW5jb3JyZWN0YXMnICUgKCBPTzBvTyAsIGlJIC4gc3BsaXQgKCAnIyMnICkgWyAwIF0gKSAsIHhibWNndWkgLiBOT1RJRklDQVRJT05fV0FSTklORyAsIDgwMDAgKQogICAgIGJyZWFrCiAgICBlbGlmIG5vdCBpSSAuIGVuZHN3aXRoICggJ05vTG9naW4nICkgOgogICAgIGFjdGlvbiAoIE8wT29vT09PME8gLCBpMWlJSUlpaTEgKCBPMDBPMDBPb09vbyAsIGkxaWkxICwgYmFzZSApICkKICAgICBicmVhawogICBleGNlcHQgSFRUUEVycm9yIDoKICAgIGlmIE8wME9vbzBvME9PID09IGxlbiAoIElJMUlJaUlJSUlpMWkgKSAtIDEgOgogICAgIGlpaSA9ICdFbCBzZXJ2aWRvciAlcyBwYXJlY2UgY2FpZG8sIGludGVudGFsbyBtYXMgdGFyZGUnICUgTzAwTzAwT29Pb28KICAgICBvb08gPSB4Ym1jZ3VpIC4gTGlzdEl0ZW0gKCBpaWkgLCBpY29uSW1hZ2UgPSAnRGVmYXVsdFZpZGVvLnBuZycgKQogICAgIHhibWNwbHVnaW4gLiBzZXRSZXNvbHZlZFVybCAoIGlpMTFpaTFpSUlJMUkgLCBGYWxzZSAsIG9vTyApCiAgICAgSWkxaUkgPSB4Ym1jZ3VpIC4gRGlhbG9nICggKQogICAgIElpMWlJIC4gbm90aWZpY2F0aW9uICggJ1BhbGFudGlyJyAsIGlpaSAsIHhibWNndWkgLiBOT1RJRklDQVRJT05fSU5GTyAsIDUwMDAgKQogICAgIGltcG9ydCB0cmFjZWJhY2sKICAgICB0cmFjZWJhY2sgLiBwcmludF9leGMgKCBmaWxlID0gc3lzIC4gc3Rkb3V0ICkKICAgZXhjZXB0IEV4Y2VwdGlvbiA6CiAgICBpZiBPMDBPb28wbzBPTyA9PSBsZW4gKCBJSTFJSWlJSUlJaTFpICkgLSAxIDoKICAgICBpaWkgPSAnRXJyb3IgZGVsIHNlcnZpZG9yICVzLCBUcmFiYWphbW9zIHBhcmEgc29sdWNpb25hcmxvJyAlIE8wME8wME9vT29vCiAgICAgb29PID0geGJtY2d1aSAuIExpc3RJdGVtICggaWlpICwgaWNvbkltYWdlID0gJ0RlZmF1bHRWaWRlby5wbmcnICkKICAgICB4Ym1jcGx1Z2luIC4gc2V0UmVzb2x2ZWRVcmwgKCBpaTExaWkxaUlJSTFJICwgRmFsc2UgLCBvb08gKQogICAgIElpMWlJID0geGJtY2d1aSAuIERpYWxvZyAoICkKICAgICBJaTFpSSAuIG5vdGlmaWNhdGlvbiAoICdQYWxhbnRpcicgLCBpaWkgLCB4Ym1jZ3VpIC4gTk9USUZJQ0FUSU9OX0lORk8gLCA1MDAwICkKICAgICBpbXBvcnQgdHJhY2ViYWNrCiAgICAgdHJhY2ViYWNrIC4gcHJpbnRfZXhjICggZmlsZSA9IHN5cyAuIHN0ZG91dCApCiAgZWxpZiBpMTExMTEgPT0gJ2RrJyA6CiAgIHRyeSA6CiAgICBpSSA9IE9vMDBPb29PICggYmFzZTY0IC4gdXJsc2FmZV9iNjRkZWNvZGUgKCAnYUhSMGNEb3ZMMlJwYzJ0dmEyOXpiV2xyYnk1dGVBPT0nICkgLCBpMWlpMSApCiAgICBpZiBpSSA9PSAnJyBhbmQgTzAwT29vMG8wT08gPT0gbGVuICggSUkxSUlpSUlJSWkxaSApIC0gMSA6CiAgICAgaWlpID0gJ0VsIGVubGFjZSB5YSBubyBleGlzdGUnCiAgICAgb29PID0geGJtY2d1aSAuIExpc3RJdGVtICggaWlpICwgaWNvbkltYWdlID0gJ0RlZmF1bHRWaWRlby5wbmcnICkKICAgICB4Ym1jcGx1Z2luIC4gc2V0UmVzb2x2ZWRVcmwgKCBpaTExaWkxaUlJSTFJICwgRmFsc2UgLCBvb08gKQogICAgIElpMWlJID0geGJtY2d1aSAuIERpYWxvZyAoICkKICAgICBJaTFpSSAuIG5vdGlmaWNhdGlvbiAoICdQYWxhbnRpcicgLCBpaWkgLCB4Ym1jZ3VpIC4gTk9USUZJQ0FUSU9OX0lORk8gLCA1MDAwICkKICAgICBicmVhawogICAgZWxpZiBpSSAhPSAnJyA6CiAgICAgYWN0aW9uICggTzBPb29PT08wTyAsIGlJICkKICAgICBicmVhawogICBleGNlcHQgSFRUUEVycm9yIDoKICAgIGlmIE8wME9vbzBvME9PID09IGxlbiAoIElJMUlJaUlJSUlpMWkgKSAtIDEgOgogICAgIGlpaSA9ICdFbCBzZXJ2aWRvciAlcyBwYXJlY2UgY2FpZG8sIGludGVudGFsbyBtYXMgdGFyZGUnICUgJ2Rpc2tva29zbWljbycKICAgICBvb08gPSB4Ym1jZ3VpIC4gTGlzdEl0ZW0gKCBpaWkgLCBpY29uSW1hZ2UgPSAnRGVmYXVsdFZpZGVvLnBuZycgKQogICAgIHhibWNwbHVnaW4gLiBzZXRSZXNvbHZlZFVybCAoIGlpMTFpaTFpSUlJMUkgLCBGYWxzZSAsIG9vTyApCiAgICAgSWkxaUkgPSB4Ym1jZ3VpIC4gRGlhbG9nICggKQogICAgIElpMWlJIC4gbm90aWZpY2F0aW9uICggJ1BhbGFudGlyJyAsIGlpaSAsIHhibWNndWkgLiBOT1RJRklDQVRJT05fSU5GTyAsIDUwMDAgKQogICBleGNlcHQgRXhjZXB0aW9uIDoKICAgIGlmIE8wME9vbzBvME9PID09IGxlbiAoIElJMUlJaUlJSUlpMWkgKSAtIDEgOgogICAgIGlpaSA9ICdFcnJvciBkZWwgc2Vydmlkb3IgJXMsIFRyYWJhamFtb3MgcGFyYSBzb2x1Y2lvbmFybG8nICUgJ2Rpc2tva29zbWljbycKICAgICBvb08gPSB4Ym1jZ3VpIC4gTGlzdEl0ZW0gKCBpaWkgLCBpY29uSW1hZ2UgPSAnRGVmYXVsdFZpZGVvLnBuZycgKQogICAgIHhibWNwbHVnaW4gLiBzZXRSZXNvbHZlZFVybCAoIGlpMTFpaTFpSUlJMUkgLCBGYWxzZSAsIG9vTyApCiAgICAgSWkxaUkgPSB4Ym1jZ3VpIC4gRGlhbG9nICggKQogICAgIElpMWlJIC4gbm90aWZpY2F0aW9uICggJ1BhbGFudGlyJyAsIGlpaSAsIHhibWNndWkgLiBOT1RJRklDQVRJT05fSU5GTyAsIDUwMDAgKQogIGVsaWYgaTExMTExID09ICdyZScgb3IgaTExMTExID09ICd5dCcgb3IgaTExMTExID09ICdzdGFuZGFyZCcgOgogICBpZiBpMTExMTEgPT0gJ3l0JyA6CiAgICBpSSA9IG9PME9vMDAgKCBpMWlpMSApCiAgIGVsc2UgOgogICAgaUkgPSBpMWlpMQogICBhY3Rpb24gKCBPME9vb09PTzBPICwgaUkgKQogICBicmVhawogIGVsaWYgaTExMTExID09ICdnbG9yaWEnIDoKICAgaUkgPSBPb09PME9PMG9PTyAoIGkxaWkxICkKICAgaWYgaUkgIT0gTm9uZSA6CiAgICBhY3Rpb24gKCBPME9vb09PTzBPICwgaUkgKQogICBlbHNlIDoKICAgIGlpaSA9ICdFcnJvciBkZWwgc2Vydmlkb3IgJXMsIFRyYWJhamFtb3MgcGFyYSBzb2x1Y2lvbmFybG8nICUgJ2dsb3JpYS50dicKICAgIG9vTyA9IHhibWNndWkgLiBMaXN0SXRlbSAoIGlpaSAsIGljb25JbWFnZSA9ICdEZWZhdWx0VmlkZW8ucG5nJyApCiAgICB4Ym1jcGx1Z2luIC4gc2V0UmVzb2x2ZWRVcmwgKCBpaTExaWkxaUlJSTFJICwgRmFsc2UgLCBvb08gKQogICAgSWkxaUkgPSB4Ym1jZ3VpIC4gRGlhbG9nICggKQogICAgSWkxaUkgLiBub3RpZmljYXRpb24gKCAnUGFsYW50aXInICwgaWlpICwgeGJtY2d1aSAuIE5PVElGSUNBVElPTl9JTkZPICwgNTAwMCApCiAgIGJyZWFrCiAgZWxpZiBpMTExMTEgPT0gJ3NjJyA6CiAgIG9vTzAwMG9PbzAwID0gaTFpaTEKICAgdHJ5IDoKICAgIGlpSUkgPSBJMWlpSTFJICggaTFpaTEgKQogICAgaWYgJzxoMT5GaWxlIE5vdCBGb3VuZDwvaDE+JyBpbiBpaUlJIG9yICc8aDE+QXJjaGl2byBubyBlbmNvbnRyYWRvPC9oMT4nIGluIGlpSUkgb3IgaWlJSSA9PSAnTm90IEZvdW5kJyA6CiAgICAgaWYgTzAwT29vMG8wT08gPT0gbGVuICggSUkxSUlpSUlJSWkxaSApIC0gMSA6CiAgICAgIGlpaSA9ICdFbCBlbmxhY2UgeWEgbm8gZXhpc3RlJwogICAgICBvb08gPSB4Ym1jZ3VpIC4gTGlzdEl0ZW0gKCBpaWkgLCBpY29uSW1hZ2UgPSAnRGVmYXVsdFZpZGVvLnBuZycgKQogICAgICB4Ym1jcGx1Z2luIC4gc2V0UmVzb2x2ZWRVcmwgKCBpaTExaWkxaUlJSTFJICwgRmFsc2UgLCBvb08gKQogICAgICBJaTFpSSA9IHhibWNndWkgLiBEaWFsb2cgKCApCiAgICAgIElpMWlJIC4gbm90aWZpY2F0aW9uICggJ1BhbGFudGlyJyAsIGlpaSAsIHhibWNndWkgLiBOT1RJRklDQVRJT05fSU5GTyAsIDUwMDAgKQogICAgZWxzZSA6CiAgICAgaUkgPSByZSAuIGZpbmRhbGwgKCAnZmlsZVxcOiAiKFteIl0rKSInICwgaWlJSSAsIGZsYWdzID0gcmUgLiBET1RBTEwgKQogICAgIGlmIG5vdCBpSSA6CiAgICAgIG9PTzBvb29vID0gJycKICAgICAgbzAgPSByZSAuIGZpbmRhbGwgKCAnPGlucHV0Lio/bmFtZT0iKFteIl0rKSIuKj92YWx1ZT0iKFteIl0qKSI+JyAsIGlpSUkgLCBmbGFncyA9IHJlIC4gRE9UQUxMICkKICAgICAgZm9yIE8wMDAwbzAgLCBvb29vbzAgaW4gbzAgOgogICAgICAgb09PMG9vb28gKz0gTzAwMDBvMCArICc9JyArIG9vb29vMCArICcmJwogICAgICAgaWYgNyAtIDc6IElpSUkxaTFJIC8gb28KICAgICAgb09PMG9vb28gPSBvT08wb29vbyAuIHJlcGxhY2UgKCAnb3A9ZG93bmxvYWQxJyAsICdvcD1kb3dubG9hZDInICkKICAgICAgaWlJSSA9IEkxaWlJMUkgKCBvb08wMDBvT28wMCAsIHBvc3QgPSBvT08wb29vbyApCiAgICAgIGlmICdpZD0ianVzdGFub3RpY2UiJyBpbiBpaUlJIDoKICAgICAgIHJldHVybiBbIF0KICAgICAgaUkgPSByZSAuIGZpbmRhbGwgKCAnZmlsZVxcOiAiKFteIl0rKSInICwgaWlJSSAsIGZsYWdzID0gcmUgLiBET1RBTEwgKQogICAgIHRyeSA6CiAgICAgIGFjdGlvbiAoIE8wT29vT09PME8gLCBpSSBbIDAgXSApCiAgICAgIGJyZWFrCiAgICAgZXhjZXB0IDoKICAgICAgcGFzcwogICBleGNlcHQgSFRUUEVycm9yIDoKICAgIGlmIE8wME9vbzBvME9PID09IGxlbiAoIElJMUlJaUlJSUlpMWkgKSAtIDEgOgogICAgIGlpaSA9ICdFbCBzZXJ2aWRvciAlcyBwYXJlY2UgY2FpZG8sIGludGVudGFsbyBtYXMgdGFyZGUnICUgJ3N0cmVhbWNsb3VkJwogICAgIG9vTyA9IHhibWNndWkgLiBMaXN0SXRlbSAoIGlpaSAsIGljb25JbWFnZSA9ICdEZWZhdWx0VmlkZW8ucG5nJyApCiAgICAgeGJtY3BsdWdpbiAuIHNldFJlc29sdmVkVXJsICggaWkxMWlpMWlJSUkxSSAsIEZhbHNlICwgb29PICkKICAgICBJaTFpSSA9IHhibWNndWkgLiBEaWFsb2cgKCApCiAgICAgSWkxaUkgLiBub3RpZmljYXRpb24gKCAnUGFsYW50aXInICwgaWlpICwgeGJtY2d1aSAuIE5PVElGSUNBVElPTl9JTkZPICwgNTAwMCApCiAgIGV4Y2VwdCBFeGNlcHRpb24gOgogICAgaWYgTzAwT29vMG8wT08gPT0gbGVuICggSUkxSUlpSUlJSWkxaSApIC0gMSA6CiAgICAgaWlpID0gJ0Vycm9yIGRlbCBzZXJ2aWRvciAlcywgVHJhYmFqYW1vcyBwYXJhIHNvbHVjaW9uYXJsbycgJSAnc3RyZWFtY2xvdWQnCiAgICAgb29PID0geGJtY2d1aSAuIExpc3RJdGVtICggaWlpICwgaWNvbkltYWdlID0gJ0RlZmF1bHRWaWRlby5wbmcnICkKICAgICB4Ym1jcGx1Z2luIC4gc2V0UmVzb2x2ZWRVcmwgKCBpaTExaWkxaUlJSTFJICwgRmFsc2UgLCBvb08gKQogICAgIElpMWlJID0geGJtY2d1aSAuIERpYWxvZyAoICkKICAgICBJaTFpSSAuIG5vdGlmaWNhdGlvbiAoICdQYWxhbnRpcicgLCBpaWkgLCB4Ym1jZ3VpIC4gTk9USUZJQ0FUSU9OX0lORk8gLCA1MDAwICkKICAgICBpZiA2IC0gNjogSTEgLyBPT29Pb08wbzBvME9PICUgSTFJaUkxSUlJMTFpIC8gb28KICBlbGlmIGkxMTExMSA9PSAndGsnIDoKICAgb29PMDAwb09vMDAgPSBpMWlpMQogICBvTzBvID0gZGljdCAoICkKICAgb08wbyBbCiAiVXNlci1BZ2VudCIgXSA9ICJNb3ppbGxhLzUuMCBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBDaHJvbWUvNzAuMC4zMTYzLjEwMCBTYWZhcmkvNTM3LjM2IgogICBvTzBvIFsKICJBY2NlcHQiIF0gPSAidGV4dC9odG1sLGFwcGxpY2F0aW9uL3hodG1sK3htbCxhcHBsaWNhdGlvbi94bWw7cT0wLjksaW1hZ2Uvd2VicCxpbWFnZS9hcG5nLCovKjtxPTAuOCIKICAgb08wbyBbICJBY2NlcHQtTGFuZ3VhZ2UiIF0gPSAiZXMtRVMsZXM7cT0wLjgsZW4tVVM7cT0wLjUsZW47cT0wLjMiCiAgIG9PMG8gWyAiQWNjZXB0LUNoYXJzZXQiIF0gPSAiVVRGLTgiCiAgIG9PMG8gWyAiQWNjZXB0LUVuY29kaW5nIiBdID0gImd6aXAiCiAgIGlmICdiYicgaW4gcGFyYW1zIGFuZCAnbW0nIGluIHBhcmFtcyA6CiAgICBpSSA9ICclcyZiYj0lcyZtbT0lc3xVc2VyLUFnZW50PSVzJyAlICggb29PMDAwb09vMDAgLCBwYXJhbXMgWyAnYmInIF0gLCBwYXJhbXMgWyAnbW0nIF0gLCBvTzBvICkKICAgZWxzZSA6CiAgICBpSSA9ICclc3xVc2VyLUFnZW50PSVzJyAlICggb29PMDAwb09vMDAgLCBvTzBvICkKICAgdHJ5IDoKICAgIGlJSWkgPSB4Ym1jZ3VpIC4gTGlzdEl0ZW0gKCBPME9vb09PTzBPICkKICAgIGlJSWkgLiBzZXRQYXRoICggaUkgKQogICAgeGJtY3BsdWdpbiAuIHNldFJlc29sdmVkVXJsICggaWkxMWlpMWlJSUkxSSAsIFRydWUgLCBpSUlpICkKICAgZXhjZXB0IDoKICAgIGlpaSA9ICdFcnJvciBkZWwgc2Vydmlkb3IgJXMsIFRyYWJhamFtb3MgcGFyYSBzb2x1Y2lvbmFybG8nICUgJ3RrJwogICAgb29PID0geGJtY2d1aSAuIExpc3RJdGVtICggaWlpICwgaWNvbkltYWdlID0gJ0RlZmF1bHRWaWRlby5wbmcnICkKICAgIHhibWNwbHVnaW4gLiBzZXRSZXNvbHZlZFVybCAoIGlpMTFpaTFpSUlJMUkgLCBGYWxzZSAsIG9vTyApCiAgICBJaTFpSSA9IHhibWNndWkgLiBEaWFsb2cgKCApCiAgICBJaTFpSSAuIG5vdGlmaWNhdGlvbiAoICdQYWxhbnRpcicgLCBpaWkgLCB4Ym1jZ3VpIC4gTk9USUZJQ0FUSU9OX0lORk8gLCA1MDAwICkKICAgIGlmIDMzIC0gMzM6IElpSUkxaTFJICUgb29vT29PICogSWlJSTFJaUkgLiBJSSAuIEkxSWlJMUlJSTExaQogIGVsaWYgJ2dvZmlsZS5pbycgaW4gaTFpaTEgOgogICBvTzBvME8gPSBpMWlpMSBbIGkxaWkxIC4gZmluZCAoICc9JyApICsgMSA6IF0KICAgSUlJMWkxSTExaSA9ICdodHRwczovL2FwaXYyLmdvZmlsZS5pby9nZXRTZXJ2ZXI/Yz0nICsgb08wbzBPCiAgIE8wb08gPSByZXF1ZXN0cyAuIGdldCAoIElJSTFpMUkxMWkgKQogICBpaWlpMTExMUlpID0gTzBvTyAuIGpzb24gKCApIFsgJ2RhdGEnIF0gWyAnc2VydmVyJyBdCiAgIGkxaWkxID0gJ2h0dHBzOi8vJyArIGlpaWkxMTExSWkgKyAnLmdvZmlsZS5pby9nZXRVcGxvYWQ/Yz0nICsgb08wbzBPCiAgIE8wb08gPSByZXF1ZXN0cyAuIGdldCAoIGkxaWkxICkKICAgaUkgPSBPMG9PIC4ganNvbiAoICkgWyAnZGF0YScgXSBbICdmaWxlcycgXSBbICcwJyBdIFsgJ2xpbmsnIF0KICAgdHJ5IDoKICAgIGlJSWkgPSB4Ym1jZ3VpIC4gTGlzdEl0ZW0gKCBPME9vb09PTzBPICkKICAgIGlJSWkgLiBzZXRQYXRoICggaUkgKQogICAgeGJtY3BsdWdpbiAuIHNldFJlc29sdmVkVXJsICggaWkxMWlpMWlJSUkxSSAsIFRydWUgLCBpSUlpICkKICAgZXhjZXB0IDoKICAgIGlpaSA9ICdFcnJvciBkZWwgc2Vydmlkb3IgJXMsIFRyYWJhamFtb3MgcGFyYSBzb2x1Y2lvbmFybG8nICUgJ0gyNjUnCiAgICBvb08gPSB4Ym1jZ3VpIC4gTGlzdEl0ZW0gKCBpaWkgLCBpY29uSW1hZ2UgPSAnRGVmYXVsdFZpZGVvLnBuZycgKQogICAgeGJtY3BsdWdpbiAuIHNldFJlc29sdmVkVXJsICggaWkxMWlpMWlJSUkxSSAsIEZhbHNlICwgb29PICkKICAgIElpMWlJID0geGJtY2d1aSAuIERpYWxvZyAoICkKICAgIElpMWlJIC4gbm90aWZpY2F0aW9uICggJ1BhbGFudGlyJyAsIGlpaSAsIHhibWNndWkgLiBOT1RJRklDQVRJT05fSU5GTyAsIDUwMDAgKQogICAgaWYgNTEgLSA1MTogaTFpSTEgLiBJMUlpSTFJSUkxMWkgLSBJMQogIGVsaWYgJ25vZmlsZS5pbycgaW4gaTFpaTEgOgogICBJaUkxaWkxMTFJMTExID0gcmVxdWVzdHMgLiBnZXQgKCBpMWlpMSApCiAgIGkxaWkxID0gcmUgLiBzZWFyY2ggKCAnJycoPzogaHJlZj1bJyJdKShbXCV8XCt8Oi8uQS16PzxfJlxzPT4wLTk7LV0rKSg/OiIgY2xhc3M9ImJ0biknJycgLCBJaUkxaWkxMTFJMTExIC4gdGV4dCApIC4gZ3JvdXAgKCAxICkKICAgaUkgPSAiaHR0cHM6Ly9ub2ZpbGUuaW8vIiArIGkxaWkxCiAgIHRyeSA6CiAgICBpSUlpID0geGJtY2d1aSAuIExpc3RJdGVtICggTzBPb29PT08wTyApCiAgICBpSUlpIC4gc2V0UGF0aCAoIGlJICkKICAgIHhibWNwbHVnaW4gLiBzZXRSZXNvbHZlZFVybCAoIGlpMTFpaTFpSUlJMUkgLCBUcnVlICwgaUlJaSApCiAgIGV4Y2VwdCA6CiAgICBpaWkgPSAnRXJyb3IgZGVsIHNlcnZpZG9yICVzLCBUcmFiYWphbW9zIHBhcmEgc29sdWNpb25hcmxvJyAlICdIMjY1JwogICAgb29PID0geGJtY2d1aSAuIExpc3RJdGVtICggaWlpICwgaWNvbkltYWdlID0gJ0RlZmF1bHRWaWRlby5wbmcnICkKICAgIHhibWNwbHVnaW4gLiBzZXRSZXNvbHZlZFVybCAoIGlpMTFpaTFpSUlJMUkgLCBGYWxzZSAsIG9vTyApCiAgICBJaTFpSSA9IHhibWNndWkgLiBEaWFsb2cgKCApCiAgICBJaTFpSSAuIG5vdGlmaWNhdGlvbiAoICdQYWxhbnRpcicgLCBpaWkgLCB4Ym1jZ3VpIC4gTk9USUZJQ0FUSU9OX0lORk8gLCA1MDAwICkKICBlbGlmICdwaXhlbGRyYWluJyBpbiBpMWlpMSA6CiAgIG9PMG8wTyA9IGkxaWkxIFsgaTFpaTEgLiBmaW5kICggJ3UvJyApICsgMiA6IF0KICAgaUkgPSAnaHR0cHM6Ly9waXhlbGRyYWluLmNvbS9hcGkvZmlsZS8nICsgb08wbzBPICsgJz9kb3dubG9hZCcKICAgdHJ5IDoKICAgIGlJSWkgPSB4Ym1jZ3VpIC4gTGlzdEl0ZW0gKCBPME9vb09PTzBPICkKICAgIGlJSWkgLiBzZXRQYXRoICggaUkgKQogICAgeGJtY3BsdWdpbiAuIHNldFJlc29sdmVkVXJsICggaWkxMWlpMWlJSUkxSSAsIFRydWUgLCBpSUlpICkKICAgZXhjZXB0IDoKICAgIGlpaSA9ICdFcnJvciBkZWwgc2Vydmlkb3IgJXMsIFRyYWJhamFtb3MgcGFyYSBzb2x1Y2lvbmFybG8nICUgJ0gyNjUnCiAgICBvb08gPSB4Ym1jZ3VpIC4gTGlzdEl0ZW0gKCBpaWkgLCBpY29uSW1hZ2UgPSAnRGVmYXVsdFZpZGVvLnBuZycgKQogICAgeGJtY3BsdWdpbiAuIHNldFJlc29sdmVkVXJsICggaWkxMWlpMWlJSUkxSSAsIEZhbHNlICwgb29PICkKICAgIElpMWlJID0geGJtY2d1aSAuIERpYWxvZyAoICkKICAgIElpMWlJIC4gbm90aWZpY2F0aW9uICggJ1BhbGFudGlyJyAsIGlpaSAsIHhibWNndWkgLiBOT1RJRklDQVRJT05fSU5GTyAsIDUwMDAgKQogIGVsaWYgJ215LWZpbGVzLnJ1JyBpbiBpMWlpMSA6CiAgIElpSTFpaTExMUkxMTEgPSByZXF1ZXN0cyAuIGdldCAoIGkxaWkxICwgYWxsb3dfcmVkaXJlY3RzID0gRmFsc2UgLCB2ZXJpZnkgPSBGYWxzZSApCiAgIE9vT28gPSByZSAuIHNlYXJjaCAoICcnJyg/OiJ1cmwiIGhyZWY9WyciXSkoW1wlfFwoKXw6Ly5BLXo/PF8mXHM9PjAtOTstXSspKD86KScnJyAsIElpSTFpaTExMUkxMTEgLiB0ZXh0ICkgLiBncm91cCAoIDEgKQogICBJaUkxaWkxMTFJMTExID0gcmVxdWVzdHMgLiBnZXQgKCBPb09vICwgaGVhZGVycyA9IHsgJ0Nvb2tpZScgOiAnc2Vzc2lvbl90b2tlbj1kMGY2NnNqbDk1cWNkZ3dmYjZzMGZ6bzh5eHU2OWp0NCcgLCAnUmVmZXJlcicgOiBpMWlpMSAsICdBY2NlcHQnIDogJyovKicgfSAsIGFsbG93X3JlZGlyZWN0cyA9IEZhbHNlICwgdmVyaWZ5ID0gRmFsc2UgKQogICBpSSA9IElpSTFpaTExMUkxMTEgLiBoZWFkZXJzIFsgJ0xvY2F0aW9uJyBdCiAgIHRyeSA6CiAgICBpSUlpID0geGJtY2d1aSAuIExpc3RJdGVtICggTzBPb29PT08wTyApCiAgICBpSUlpIC4gc2V0UGF0aCAoIGlJICkKICAgIHhibWNwbHVnaW4gLiBzZXRSZXNvbHZlZFVybCAoIGlpMTFpaTFpSUlJMUkgLCBUcnVlICwgaUlJaSApCiAgIGV4Y2VwdCA6CiAgICBpaWkgPSAnRXJyb3IgZGVsIHNlcnZpZG9yICVzLCBUcmFiYWphbW9zIHBhcmEgc29sdWNpb25hcmxvJyAlICdIMjY1JwogICAgb29PID0geGJtY2d1aSAuIExpc3RJdGVtICggaWlpICwgaWNvbkltYWdlID0gJ0RlZmF1bHRWaWRlby5wbmcnICkKICAgIHhibWNwbHVnaW4gLiBzZXRSZXNvbHZlZFVybCAoIGlpMTFpaTFpSUlJMUkgLCBGYWxzZSAsIG9vTyApCiAgICBJaTFpSSA9IHhibWNndWkgLiBEaWFsb2cgKCApCiAgICBJaTFpSSAuIG5vdGlmaWNhdGlvbiAoICdQYWxhbnRpcicgLCBpaWkgLCB4Ym1jZ3VpIC4gTk9USUZJQ0FUSU9OX0lORk8gLCA1MDAwICkKICAgIGlmIDMgLSAzOiBvT08gLSBJaUlJMUlpSSArIG9vT29vTzBPT08gJSBvMDBvTzBvbzBPME8wIC4gb09PCiAgZWxpZiAnZ2xvYmFsLWZpbGVzLm5ldCcgaW4gaTFpaTEgOgogICBJaUkxaWkxMTFJMTExID0gcmVxdWVzdHMgLiBnZXQgKCBpMWlpMSAsIGFsbG93X3JlZGlyZWN0cyA9IEZhbHNlICwgdmVyaWZ5ID0gRmFsc2UgKQogICBPb09vID0gcmUgLiBzZWFyY2ggKCAnJycoPzoidXJsIiBocmVmPVsnIl0pKFtcJXxcKCl8Oi8uQS16PzxfJlxzPT4wLTk7LV0rKSg/OiknJycgLCBJaUkxaWkxMTFJMTExIC4gdGV4dCApIC4gZ3JvdXAgKCAxICkKICAgSWlJMWlpMTExSTExMSA9IHJlcXVlc3RzIC4gZ2V0ICggT29PbyAsIGhlYWRlcnMgPSB7ICdDb29raWUnIDogJ3Nlc3Npb25fdG9rZW49ZDBmNjZzamw5NXFjZGd3ZmI2czBmem84eXh1NjlqdDQnICwgJ1JlZmVyZXInIDogaTFpaTEgLCAnQWNjZXB0JyA6ICcqLyonIH0gLCBhbGxvd19yZWRpcmVjdHMgPSBGYWxzZSAsIHZlcmlmeSA9IEZhbHNlICkKICAgaUkgPSBJaUkxaWkxMTFJMTExIC4gaGVhZGVycyBbICdMb2NhdGlvbicgXQogICB0cnkgOgogICAgaUlJaSA9IHhibWNndWkgLiBMaXN0SXRlbSAoIE8wT29vT09PME8gKQogICAgaUlJaSAuIHNldFBhdGggKCBpSSApCiAgICB4Ym1jcGx1Z2luIC4gc2V0UmVzb2x2ZWRVcmwgKCBpaTExaWkxaUlJSTFJICwgVHJ1ZSAsIGlJSWkgKQogICBleGNlcHQgOgogICAgaWlpID0gJ0Vycm9yIGRlbCBzZXJ2aWRvciAlcywgVHJhYmFqYW1vcyBwYXJhIHNvbHVjaW9uYXJsbycgJSAnSDI2NScKICAgIG9vTyA9IHhibWNndWkgLiBMaXN0SXRlbSAoIGlpaSAsIGljb25JbWFnZSA9ICdEZWZhdWx0VmlkZW8ucG5nJyApCiAgICB4Ym1jcGx1Z2luIC4gc2V0UmVzb2x2ZWRVcmwgKCBpaTExaWkxaUlJSTFJICwgRmFsc2UgLCBvb08gKQogICAgSWkxaUkgPSB4Ym1jZ3VpIC4gRGlhbG9nICggKQogICAgSWkxaUkgLiBub3RpZmljYXRpb24gKCAnUGFsYW50aXInICwgaWlpICwgeGJtY2d1aSAuIE5PVElGSUNBVElPTl9JTkZPICwgNTAwMCApCiAgZWxpZiAnZGVnb28nIGluIGkxaWkxIDoKICAgaWYgImRlZ29vLmNvbS93LyIgaW4gaTFpaTEgOgogICAgSWlJMWlpMTExSTExMSA9IHJlcXVlc3RzIC4gZ2V0ICggaTFpaTEgKQogICAgaUkgPSByZSAuIGZpbmRhbGwgKCAnJycoPzogaHJlZj1bJyJdKShbXCV8XCt8Oi8uQS16PzxfJlxzPT4wLTk7LV0rKSg/OlwiIHRhcmdldD1cIl9zZWxmXCI+RG93bmxvYWQpJycnICwgSWlJMWlpMTExSTExMSAuIHRleHQgKQogICAgaWYgbGVuICggaUkgKSA+IDEgOgogICAgIElpaUlpSWlJSSA9IHJlIC4gZmluZGFsbCAoICcnJyg/Ojx0cj48dGQ+KShbXCV8XCZ8XCN8XDt8XCt8Oi8uQS16PzxfJlxzPT4wLTk7LV0rKSg/OlwubWt2fFwubXA0fFwuYXZpKSg/OjwvdGQ+PHRkIGNsYXNzPSknJycgLCBJaUkxaWkxMTFJMTExIC4gdGV4dCApCiAgICAgbzBvMDBvbzBPbzBvbyA9IHppcCAoIElpaUlpSWlJSSAsIGlJICkKICAgICBvMG8wMG9vME9vMG9vID0gc2V0ICggbzBvMDBvbzBPbzBvbyApCiAgICAgbzBvMDBvbzBPbzBvbyA9IHNvcnRlZCAoIG8wbzAwb28wT28wb28gKQogICAgIElpaUlpSWlJSSAsIGlJID0gemlwICggKiBvMG8wMG9vME9vMG9vICkKICAgICBpaW9PMG9vMDBPME8gPSBbIF0KICAgICBmb3IgaWlJSWlJSUlpIGluIElpaUlpSWlJSSA6CiAgICAgIE9vb29vMG8wb28wTyA9IEhUTUxQYXJzZXIgLiBIVE1MUGFyc2VyICggKSAuIHVuZXNjYXBlICggaWlJSWlJSUlpICkKICAgICAgaWlvTzBvbzAwTzBPIC4gYXBwZW5kICggT29vb28wbzBvbzBPICkKICAgICBpMWlpSSA9IHhibWNndWkgLiBEaWFsb2cgKCApIC4gc2VsZWN0ICggIlNlbGVjY2lvbmEgdW4gZW5sYWNlIiAsIGlpb08wb28wME8wTyApCiAgICAgaUkgPSBpSSBbIGkxaWlJIF0KICAgIGVsc2UgOgogICAgIGlJID0gaUkgWyAwIF0KICAgZWxzZSA6CiAgICBJaUkxaWkxMTFJMTExID0gcmVxdWVzdHMgLiBnZXQgKCBpMWlpMSAsIGhlYWRlcnMgPSB7ICdIb3N0JyA6ICdjbG91ZC5kZWdvby5jb20nICwgJ0FjY2VwdCcgOiAnKi8qJyAsICdVc2VyLUFnZW50JyA6ICdNb3ppbGxhLzUuMCAoY29tcGF0aWJsZTsgUmlnb3IvMS4wLjA7IGh0dHA6Ly9yaWdvci5jb20pJyB9ICwgYWxsb3dfcmVkaXJlY3RzID0gRmFsc2UgKQogICAgT29PbyA9IElpSTFpaTExMUkxMTEgLiBoZWFkZXJzIFsgJ0xvY2F0aW9uJyBdCiAgICBpSWlJSTFpSUlJID0gT29PbyBbIE9vT28gLiBmaW5kICggJ2h0dHBzOi8vJyApICsgOCA6IE9vT28gLiBmaW5kICggJ2xpbmsnICkgKyA0IF0KICAgIGlpSTFpMTFJMUlpaSA9IHJlcXVlc3RzIC4gZ2V0ICggT29PbyAsIGhlYWRlcnMgPSB7ICdIb3N0JyA6IGlJaUlJMWlJSUkgLCAnQWNjZXB0JyA6ICcqLyonICwgJ1VzZXItQWdlbnQnIDogJ01vemlsbGEvNS4wIChjb21wYXRpYmxlOyBSaWdvci8xLjAuMDsgaHR0cDovL3JpZ29yLmNvbSknIH0gLCBhbGxvd19yZWRpcmVjdHMgPSBGYWxzZSApCiAgICBPbzBPME9vTzBvbyA9IHJlIC4gc2VhcmNoICggJycnKD86d2luZG93LnRvcC5sb2NhdGlvbiA9IHZhbGlkYXRlXChcIikoW1wlfFwrfDovLkEtej88XyZccz0+MC05Oy1dKyknJycgLCBpaUkxaTExSTFJaWkgLiB0ZXh0ICkgLiBncm91cCAoIDEgKQogICAgT09PMG9PTzBPMG9PMCA9IHJlcXVlc3RzIC4gZ2V0ICggT28wTzBPb08wb28gKQogICAgaUkgPSByZSAuIGZpbmRhbGwgKCAnJycoPzogaHJlZj1bJyJdKShbXCV8XCt8Oi8uQS16PzxfJlxzPT4wLTk7LV0rKSg/OlwiIHRhcmdldD1cIl9zZWxmXCI+RG93bmxvYWQpJycnICwgT09PMG9PTzBPMG9PMCAuIHRleHQgKQogICAgaWYgbGVuICggaUkgKSA+IDEgOgogICAgIElpaUlpSWlJSSA9IHJlIC4gZmluZGFsbCAoICcnJyg/Ojx0cj48dGQ+KShbXCV8XCZ8XCN8XDt8XCt8Oi8uQS16PzxfJlxzPT4wLTk7LV0rKSg/OlwubWt2fFwubXA0fFwuYXZpKSg/OjwvdGQ+PHRkIGNsYXNzPSknJycgLCBPT08wb09PME8wb08wIC4gdGV4dCApCiAgICAgbzBvMDBvbzBPbzBvbyA9IHppcCAoIElpaUlpSWlJSSAsIGlJICkKICAgICBvMG8wMG9vME9vMG9vID0gc2V0ICggbzBvMDBvbzBPbzBvbyApCiAgICAgbzBvMDBvbzBPbzBvbyA9IHNvcnRlZCAoIG8wbzAwb28wT28wb28gKQogICAgIElpaUlpSWlJSSAsIGlJID0gemlwICggKiBvMG8wMG9vME9vMG9vICkKICAgICBpaW9PMG9vMDBPME8gPSBbIF0KICAgICBmb3IgaWlJSWlJSUlpIGluIElpaUlpSWlJSSA6CiAgICAgIE9vb29vMG8wb28wTyA9IEhUTUxQYXJzZXIgLiBIVE1MUGFyc2VyICggKSAuIHVuZXNjYXBlICggaWlJSWlJSUlpICkKICAgICAgaWlvTzBvbzAwTzBPIC4gYXBwZW5kICggT29vb28wbzBvbzBPICkKICAgICBpMWlpSSA9IHhibWNndWkgLiBEaWFsb2cgKCApIC4gc2VsZWN0ICggIlNlbGVjY2lvbmEgdW4gZW5sYWNlIiAsIGlpb08wb28wME8wTyApCiAgICAgaUkgPSBpSSBbIGkxaWlJIF0KICAgIGVsc2UgOgogICAgIGlJID0gaUkgWyAwIF0KICAgdHJ5IDoKICAgIGlJSWkgPSB4Ym1jZ3VpIC4gTGlzdEl0ZW0gKCBPME9vb09PTzBPICkKICAgIGlJSWkgLiBzZXRQYXRoICggaUkgKQogICAgeGJtY3BsdWdpbiAuIHNldFJlc29sdmVkVXJsICggaWkxMWlpMWlJSUkxSSAsIFRydWUgLCBpSUlpICkKICAgZXhjZXB0IDoKICAgIGlpaSA9ICdFcnJvciBkZWwgc2Vydmlkb3IgJXMsIFRyYWJhamFtb3MgcGFyYSBzb2x1Y2lvbmFybG8nICUgJ0gyNjUnCiAgICBvb08gPSB4Ym1jZ3VpIC4gTGlzdEl0ZW0gKCBpaWkgLCBpY29uSW1hZ2UgPSAnRGVmYXVsdFZpZGVvLnBuZycgKQogICAgeGJtY3BsdWdpbiAuIHNldFJlc29sdmVkVXJsICggaWkxMWlpMWlJSUkxSSAsIEZhbHNlICwgb29PICkKICAgIElpMWlJID0geGJtY2d1aSAuIERpYWxvZyAoICkKICAgIElpMWlJIC4gbm90aWZpY2F0aW9uICggJ1BhbGFudGlyJyAsIGlpaSAsIHhibWNndWkgLiBOT1RJRklDQVRJT05fSU5GTyAsIDUwMDAgKQogIGVsaWYgJ2ZpbGVzY2RuLm5ldCcgaW4gaTFpaTEgOgogICBpZiBub3QgJ3hmc3NfZmlsZXNjZG4nIGluIGxvY2FscyAoICkgOgogICAgSUlpaUkgPSAnaHR0cHM6Ly9maWxlc2Nkbi5uZXQnCiAgICBpaTExaTFJMTFpID0gWyBbICdQYWwwMScgLCAncGFsMDEyMDE5JyBdICwgWyAnUGFsMDInICwgJ3BhbDAyMjAxOScgXSBdCiAgICBpSTFJaUkxSUlpSWkgPSByYW5kb20gLiByYW5kaW50ICggMCAsIGxlbiAoIGlpMTFpMUkxMWkgKSAtIDEgKQogICAgaWlJSSA9IHsgJ29wJyA6ICdsb2dpbicgLAogJ3JhbmQnIDogJycgLAogJ3JlZGlyZWN0JyA6ICcnICwKICdsb2dpbicgOiBpaTExaTFJMTFpIFsgaUkxSWlJMUlJaUlpIF0gWyAwIF0gLAogJ3Bhc3N3b3JkJyA6IGlpMTFpMUkxMWkgWyBpSTFJaUkxSUlpSWkgXSBbIDEgXSB9CiAgICBJMTFJID0gcmVxdWVzdHMgLiBwb3N0ICggSUlpaUkgLCBkYXRhID0gaWlJSSAsIGFsbG93X3JlZGlyZWN0cyA9IEZhbHNlICkKICAgIE9vb28gPSByZSAuIGZpbmRhbGwgKCAnJycoPzp4ZnNzPSkoW2EtekEtWjAtOV0rKSg/Olw7KScnJyAsIEkxMUkgLiBoZWFkZXJzIFsgJ1NldC1Db29raWUnIF0gKQogICBJaUkxaWkxMTFJMTExID0gcmVxdWVzdHMgLiBnZXQgKCBpMWlpMSApCiAgIG9PT29vMG9vb09PID0gcmUgLiBmaW5kYWxsICggJycnKD86bmFtZVw9XCJvcFwiIHZhbHVlXD1cIikoW2EtekEtWjAtOV0rKSg/OlwiXD4pJycnICwgSWlJMWlpMTExSTExMSAuIHRleHQgKQogICBpZCA9IHJlIC4gZmluZGFsbCAoICcnJyg/Om5hbWVcPVwiaWRcIiB2YWx1ZVw9XCIpKFthLXpBLVowLTldKykoPzpcIlw+KScnJyAsIElpSTFpaTExMUkxMTEgLiB0ZXh0ICkKICAgaUlJaTExSUlJMUkxID0gcmUgLiBmaW5kYWxsICggJycnKD86bmFtZVw9XCJyYW5kXCIgdmFsdWVcPVwiKShbYS16QS1aMC05XSspKD86XCJcPiknJycgLCBJaUkxaWkxMTFJMTExIC4gdGV4dCApCiAgIGlpSUkgPSB7ICdvcCcgOiBvT09vbzBvb29PTyBbIDAgXSAsCiAnaWQnIDogaWQgWyAwIF0gLAogJ3JhbmQnIDogaUlJaTExSUlJMUkxIFsgMCBdICwKICdyZWZlcmVyJyA6ICcnICwKICdtZXRob2RfZnJlZScgOiAnJyAsCiAnbWV0aG9kX3ByZW1pdW0nIDogJycgfQogICBpSWlpSWkxaTFpMWkxID0geyAnQ29va2llJyA6ICdsb2dpbj0nICsgaWkxMWkxSTExaSBbIGlJMUlpSTFJSWlJaSBdIFsgMCBdICsgJzsnICsgJ2ZpbGVfc29ydF9maWVsZD1maWxlX2NyZWF0ZWQ7IGZpbGVfc29ydF9vcmRlcj1kb3duOyBsYW5nPXNwYW5pc2g7IHhmc3M9JyArIE9vb28gWyAwIF0gfQogICBvb09PME9PbzAgPSByZXF1ZXN0cyAuIHBvc3QgKCBpMWlpMSAsIGRhdGEgPSBpaUlJICwgaGVhZGVycyA9IGlJaWlJaTFpMWkxaTEgLCBhbGxvd19yZWRpcmVjdHMgPSBGYWxzZSApCiAgIG9vbzBvb29PTyA9IG9vT08wT09vMCAuIGhlYWRlcnMgWyAnTG9jYXRpb24nIF0KICAgaTFpSTExSWlJID0gcmUgLiBzZWFyY2ggKCAnJycoXDpbYS16QS1aMC05XSspJycnICwgb29vMG9vb09PICkgLiBncm91cCAoIDEgKQogICBpSSA9IG9vbzBvb29PTyAuIHJlcGxhY2UgKCBpMWlJMTFJaUkgLCAnJyApIC4gcmVwbGFjZSAoICcgJyAsICclMjAnICkgLiByZXBsYWNlICggJ2h0dHBzJyAsICdodHRwJyApCiAgIHRyeSA6CiAgICBpSUlpID0geGJtY2d1aSAuIExpc3RJdGVtICggTzBPb29PT08wTyApCiAgICBpSUlpIC4gc2V0UGF0aCAoIGlJICkKICAgIHhibWNwbHVnaW4gLiBzZXRSZXNvbHZlZFVybCAoIGlpMTFpaTFpSUlJMUkgLCBUcnVlICwgaUlJaSApCiAgICB4Ym1jIC4gc2xlZXAgKCAxMDAwICkKICAgIHdoaWxlIHhibWMgLiBQbGF5ZXIgKCApIC4gaXNQbGF5aW5nICggKSA9PSAxIDoKICAgICBJaWlpMTExaTFpID0geGJtYyAuIFBsYXllciAoICkgLiBnZXRUaW1lICggKQogICAgIHhibWMgLiBzbGVlcCAoIDIwMCApCiAgICAgaWYgeGJtYyAuIFBsYXllciAoICkgLiBnZXRUaW1lICggKSA+IElpaWkxMTFpMWkgOgogICAgICBicmVhawogICAgeGJtYyAuIFBsYXllciAoICkgLiBzZWVrVGltZSAoIHhibWMgLiBQbGF5ZXIgKCApIC4gZ2V0VGltZSAoICkgKQogICBleGNlcHQgOgogICAgaWlpID0gJ0Vycm9yIGRlbCBzZXJ2aWRvciAlcywgVHJhYmFqYW1vcyBwYXJhIHNvbHVjaW9uYXJsbycgJSAnSDI2NScKICAgIG9vTyA9IHhibWNndWkgLiBMaXN0SXRlbSAoIGlpaSAsIGljb25JbWFnZSA9ICdEZWZhdWx0VmlkZW8ucG5nJyApCiAgICB4Ym1jcGx1Z2luIC4gc2V0UmVzb2x2ZWRVcmwgKCBpaTExaWkxaUlJSTFJICwgRmFsc2UgLCBvb08gKQogICAgSWkxaUkgPSB4Ym1jZ3VpIC4gRGlhbG9nICggKQogICAgSWkxaUkgLiBub3RpZmljYXRpb24gKCAnUGFsYW50aXInICwgaWlpICwgeGJtY2d1aSAuIE5PVElGSUNBVElPTl9JTkZPICwgNTAwMCApCiAgZWxpZiAndXNlcnNjbG91ZC5jb20nIGluIGkxaWkxIDoKICAgdHJ5IDoKICAgIGlmIGxlbiAoIElpaWkxSSBbIDAgXSApID4gMiA6CiAgICAgcGFzcwogICBleGNlcHQgOgogICAgSUlpaUkgPSAnaHR0cHM6Ly91c2Vyc2Nsb3VkLmNvbScKICAgIGlmIDIgLSAyOiBvT08KICAgIGlpMTFpMUkxMWkgPSBbIFsgJ1BhbDAxJyAsICdwYWwwMTIwMTknIF0gLCBbICdQYWwwMicgLCAncGFsMDIyMDE5JyBdICwgWyAnUGFsMDMnICwgJ3BhbDAzMjAxOScgXSBdCiAgICBpSTFJaUkxSUlpSWkgPSByYW5kb20gLiByYW5kaW50ICggMCAsIGxlbiAoIGlpMTFpMUkxMWkgKSAtIDEgKQogICAgaWlJSSA9IHsgJ29wJyA6ICdsb2dpbicgLAogJ3JhbmQnIDogJycgLAogJ3JlZGlyZWN0JyA6ICcnICwKICdsb2dpbicgOiBpaTExaTFJMTFpIFsgaUkxSWlJMUlJaUlpIF0gWyAwIF0gLAogJ3Bhc3N3b3JkJyA6IGlpMTFpMUkxMWkgWyBpSTFJaUkxSUlpSWkgXSBbIDEgXSB9CiAgICBJMTFJID0gcmVxdWVzdHMgLiBwb3N0ICggSUlpaUkgLCBkYXRhID0gaWlJSSAsIGFsbG93X3JlZGlyZWN0cyA9IEZhbHNlICkKICAgIElpaWkxSSA9IHJlIC4gZmluZGFsbCAoICcnJyg/Onhmc3M9KShbYS16QS1aMC05XSspKD86XDspJycnICwgSTExSSAuIGhlYWRlcnMgWyAnU2V0LUNvb2tpZScgXSApCiAgIElpSTFpaTExMUkxMTEgPSByZXF1ZXN0cyAuIGdldCAoIGkxaWkxICkKICAgaWQgPSByZSAuIGZpbmRhbGwgKCAnJycoPzpuYW1lXD1cImlkXCIgdmFsdWVcPVwiKShbYS16QS1aMC05XSspKD86XCJcPiknJycgLCBJaUkxaWkxMTFJMTExIC4gdGV4dCApCiAgIGlJSWkxMUlJSTFJMSA9IHJlIC4gZmluZGFsbCAoICcnJyg/Om5hbWVcPVwicmFuZFwiIHZhbHVlXD1cIikoW2EtekEtWjAtOV0rKSg/OlwiXD4pJycnICwgSWlJMWlpMTExSTExMSAuIHRleHQgKQogICBpaUlJID0geyAnb3AnIDogJ2Rvd25sb2FkMicgLAogJ2lkJyA6IGlkIFsgMCBdICwKICdyYW5kJyA6ICcnICwKICdyZWZlcmVyJyA6ICcnICwKICdtZXRob2RfZnJlZScgOiAnJyAsCiAnbWV0aG9kX3ByZW1pdW0nIDogJycgfQogICBpSWlpSWkxaTFpMWkxID0geyAnQ29va2llJyA6ICdsb2dpbj0nICsgaWkxMWkxSTExaSBbIGlJMUlpSTFJSWlJaSBdIFsgMCBdICsgJzsgeGZzcz0nICsgSWlpaTFJIFsgMCBdIH0KICAgb29PTzBPT28wID0gcmVxdWVzdHMgLiBwb3N0ICggaTFpaTEgLCBkYXRhID0gaWlJSSAsIGhlYWRlcnMgPSBpSWlpSWkxaTFpMWkxICwgYWxsb3dfcmVkaXJlY3RzID0gRmFsc2UgKQogICBpZiA3MyAtIDczOiBJMUlpSTFJSUkxMWkgLiBJaTFJIC0gT09vT29PMG8wbzBPTyAuIElpSUkxaTFJCiAgIG9vbzBvb29PTyA9IG9vT08wT09vMCAuIGhlYWRlcnMgWyAnTG9jYXRpb24nIF0KICAgaTFpSTExSWlJID0gcmUgLiBzZWFyY2ggKCAnJycoXDpbYS16QS1aMC05XSspJycnICwgb29vMG9vb09PICkgLiBncm91cCAoIDEgKQogICBpSSA9IG9vbzBvb29PTyAuIHJlcGxhY2UgKCBpMWlJMTFJaUkgLCAnJyApIC4gcmVwbGFjZSAoIGkxaUkxMUlpSSAsICcnICkgLiByZXBsYWNlICggJyAnICwgJyUyMCcgKQogICB0cnkgOgogICAgaUlJaSA9IHhibWNndWkgLiBMaXN0SXRlbSAoIE8wT29vT09PME8gKQogICAgaUlJaSAuIHNldFBhdGggKCBpSSApCiAgICB4Ym1jcGx1Z2luIC4gc2V0UmVzb2x2ZWRVcmwgKCBpaTExaWkxaUlJSTFJICwgVHJ1ZSAsIGlJSWkgKQogICBleGNlcHQgOgogICAgaWlpID0gJ0Vycm9yIGRlbCBzZXJ2aWRvciAlcywgVHJhYmFqYW1vcyBwYXJhIHNvbHVjaW9uYXJsbycgJSAnSDI2NScKICAgIG9vTyA9IHhibWNndWkgLiBMaXN0SXRlbSAoIGlpaSAsIGljb25JbWFnZSA9ICdEZWZhdWx0VmlkZW8ucG5nJyApCiAgICB4Ym1jcGx1Z2luIC4gc2V0UmVzb2x2ZWRVcmwgKCBpaTExaWkxaUlJSTFJICwgRmFsc2UgLCBvb08gKQogICAgSWkxaUkgPSB4Ym1jZ3VpIC4gRGlhbG9nICggKQogICAgSWkxaUkgLiBub3RpZmljYXRpb24gKCAnUGFsYW50aXInICwgaWlpICwgeGJtY2d1aSAuIE5PVElGSUNBVElPTl9JTkZPICwgNTAwMCApCiAgICBpZiA5NCAtIDk0OiBpaUlJaTFpMUlpaSAqIElpCiAgZWxpZiAnZGVzaXVwbG9hZC5pbicgaW4gaTFpaTEgOgogICB0cnkgOgogICAgaWYgbGVuICggb29vbzBvMDBPMCBbIDAgXSApID4gMiA6CiAgICAgcGFzcwogICBleGNlcHQgOgogICAgSUlpaUkgPSAnaHR0cHM6Ly9kZXNpdXBsb2FkLmluLycKICAgIGlmIDk4IC0gOTg6IEkxCiAgICBpaTExaTFJMTFpID0gWyBbICdQYWwwMScgLCAncGFsMDEyMDE5JyBdICwgWyAnUGFsMDInICwgJ3BhbDAyMjAxOScgXSAsIFsgJ1BhbDAzJyAsICdwYWwwMzIwMTknIF0gXQogICAgaUkxSWlJMUlJaUlpID0gcmFuZG9tIC4gcmFuZGludCAoIDAgLCBsZW4gKCBpaTExaTFJMTFpICkgLSAxICkKICAgIGlpSUkgPSB7ICdvcCcgOiAnbG9naW4nICwKICd0b2tlbicgOiAnJyAsCiAncmFuZCcgOiAnJyAsCiAncmVkaXJlY3QnIDogJycgLAogJ2xvZ2luJyA6IGlpMTFpMUkxMWkgWyBpSTFJaUkxSUlpSWkgXSBbIDAgXSAsCiAncGFzc3dvcmQnIDogaWkxMWkxSTExaSBbIGlJMUlpSTFJSWlJaSBdIFsgMSBdIH0KICAgIEkxMUkgPSByZXF1ZXN0cyAuIHBvc3QgKCBJSWlpSSAsIGRhdGEgPSBpaUlJICwgYWxsb3dfcmVkaXJlY3RzID0gRmFsc2UgKQogICAgb29vbzBvMDBPMCA9IHJlIC4gZmluZGFsbCAoICcnJyg/Onhmc3M9KShbYS16QS1aMC05XSspKD86XDspJycnICwgSTExSSAuIGhlYWRlcnMgWyAnU2V0LUNvb2tpZScgXSApCiAgIGlJaWlJaTFpMWkxaTEgPSB7ICdDb29raWUnIDogJ3hmc3M9JyArIG9vb28wbzAwTzAgWyAwIF0gfQogICBvTzBvME8gPSBpMWlpMSBbIGkxaWkxIC4gZmluZCAoICdpbi8nICkgKyAzIDogXQogICBpaUlJID0geyAnb3AnIDogJ2Rvd25sb2FkMicgLAogJ2lkJyA6IG9PMG8wTyAsCiAncmFuZCcgOiAnJyAsCiAncmVmZXJlcicgOiAnJyAsCiAnbWV0aG9kX2ZyZWUnIDogJycgLAogJ21ldGhvZF9wcmVtaXVtJyA6ICcnICwKICdhZGJsb2NrX2RldGVjdGVkJyA6ICcxJyB9CiAgIGlmIDQ3IC0gNDc6IE9Pb09vTzBvMG8wT08gJSBpSWkxMSAvIElpSUkxSWlJICsgT09vT29PMG8wbzBPTyAlIG9vICogSWlJSTFJaUkKICAgSWlJMWlpMTExSTExMSA9IHJlcXVlc3RzIC4gcG9zdCAoIGkxaWkxICwgZGF0YSA9IGlpSUkgLCBoZWFkZXJzID0gaUlpaUlpMWkxaTFpMSAsIGFsbG93X3JlZGlyZWN0cyA9IEZhbHNlICkKICAgaWYgMTUgLSAxNTogSUlvb29PMG9vTzBvbyArIE9PTyAvIG9vb09vTwogICBpMWlpMSA9IHJlIC4gZmluZGFsbCAoICcnJyg/OlwiZG93bmxvYWRidG5cIiBzdHlsZVw9XCJwYWRkaW5nOjE1cHggMzBweDtcIj48YSBocmVmPVwiKShbXCV8XCt8Oi8uQS16PzxfJlxzPT4wLTk7LV0rKScnJyAsIElpSTFpaTExMUkxMTEgLiB0ZXh0ICkKICAgaUkgPSBpMWlpMSBbIDAgXQogICB0cnkgOgogICAgaUlJaSA9IHhibWNndWkgLiBMaXN0SXRlbSAoIE8wT29vT09PME8gKQogICAgaUlJaSAuIHNldFBhdGggKCBpSSApCiAgICB4Ym1jcGx1Z2luIC4gc2V0UmVzb2x2ZWRVcmwgKCBpaTExaWkxaUlJSTFJICwgVHJ1ZSAsIGlJSWkgKQogICBleGNlcHQgOgogICAgaWlpID0gJ0Vycm9yIGRlbCBzZXJ2aWRvciAlcywgVHJhYmFqYW1vcyBwYXJhIHNvbHVjaW9uYXJsbycgJSAnSDI2NScKICAgIG9vTyA9IHhibWNndWkgLiBMaXN0SXRlbSAoIGlpaSAsIGljb25JbWFnZSA9ICdEZWZhdWx0VmlkZW8ucG5nJyApCiAgICB4Ym1jcGx1Z2luIC4gc2V0UmVzb2x2ZWRVcmwgKCBpaTExaWkxaUlJSTFJICwgRmFsc2UgLCBvb08gKQogICAgSWkxaUkgPSB4Ym1jZ3VpIC4gRGlhbG9nICggKQogICAgSWkxaUkgLiBub3RpZmljYXRpb24gKCAnUGFsYW50aXInICwgaWlpICwgeGJtY2d1aSAuIE5PVElGSUNBVElPTl9JTkZPICwgNTAwMCApCiAgICBpZiAxMyAtIDEzOiBJaTFJICsgb09PICsgb29Pb29PME9PTyAqIElJb29vTzBvb08wb28gJSBJaTFJIC0gaWkxSTFpaTFJaUlpMQogIGVsaWYgJ2RidXBsb2FkLmluJyBpbiBpMWlpMSA6CiAgIHRyeSA6CiAgICBpZiBsZW4gKCBJMWlJaTFpIFsgMCBdICkgPiAyIDoKICAgICBwYXNzCiAgIGV4Y2VwdCA6CiAgICBJSWlpSSA9ICdodHRwczovL2RidXBsb2FkLmluLycKICAgIGlmIDcxIC0gNzE6IG9vb09vTyAlIGkxaUkxIC4gSUlJSQogICAgaWkxMWkxSTExaSA9IFsgWyAnUGFsMDEnICwgJ3BhbDAxMjAxOScgXSAsIFsgJ1BhbDAyJyAsICdwYWwwMjIwMTknIF0gLCBbICdQYWwwMycgLCAncGFsMDMyMDE5JyBdIF0KICAgIGlJMUlpSTFJSWlJaSA9IHJhbmRvbSAuIHJhbmRpbnQgKCAwICwgbGVuICggaWkxMWkxSTExaSApIC0gMSApCiAgICBpaUlJID0geyAnb3AnIDogJ2xvZ2luJyAsCiAndG9rZW4nIDogJycgLAogJ3JhbmQnIDogJycgLAogJ3JlZGlyZWN0JyA6ICcnICwKICdsb2dpbicgOiBpaTExaTFJMTFpIFsgaUkxSWlJMUlJaUlpIF0gWyAwIF0gLAogJ3Bhc3N3b3JkJyA6IGlpMTFpMUkxMWkgWyBpSTFJaUkxSUlpSWkgXSBbIDEgXSB9CiAgICBJMTFJID0gcmVxdWVzdHMgLiBwb3N0ICggSUlpaUkgLCBkYXRhID0gaWlJSSAsIGFsbG93X3JlZGlyZWN0cyA9IEZhbHNlICkKICAgIEkxaUlpMWkgPSByZSAuIGZpbmRhbGwgKCAnJycoPzp4ZnNzPSkoW2EtekEtWjAtOV0rKSg/Olw7KScnJyAsIEkxMUkgLiBoZWFkZXJzIFsgJ1NldC1Db29raWUnIF0gKQogICBpSWlpSWkxaTFpMWkxID0geyAnQ29va2llJyA6ICd4ZnNzPScgKyBJMWlJaTFpIFsgMCBdIH0KICAgb08wbzBPID0gaTFpaTEgWyBpMWlpMSAuIGZpbmQgKCAnaW4vJyApICsgMyA6IF0KICAgaWlJSSA9IHsgJ29wJyA6ICdkb3dubG9hZDInICwKICdpZCcgOiBvTzBvME8gLAogJ3JhbmQnIDogJycgLAogJ3JlZmVyZXInIDogJycgLAogJ21ldGhvZF9mcmVlJyA6ICcnICwKICdtZXRob2RfcHJlbWl1bScgOiAnJyAsCiAnYWRibG9ja19kZXRlY3RlZCcgOiAnMScgfQogICBpZiA0MSAtIDQxOiBJaSAlIE9PTyAvIElpSUkxaTFJIC8gb29vT29PCiAgIElpSTFpaTExMUkxMTEgPSByZXF1ZXN0cyAuIHBvc3QgKCBpMWlpMSAsIGRhdGEgPSBpaUlJICwgaGVhZGVycyA9IGlJaWlJaTFpMWkxaTEgLCBhbGxvd19yZWRpcmVjdHMgPSBGYWxzZSApCiAgIGkxaWkxID0gcmUgLiBmaW5kYWxsICggJycnKD86PGEgaHJlZj1cIikoW1wlfFwrfDovLkEtej88XyZccz0+MC05Oy1dKykoPzoiIGNsYXNzPVwiZG93bmxvYWRidG5cIiknJycgLCBJaUkxaWkxMTFJMTExIC4gdGV4dCApCiAgIGlJID0gaTFpaTEgWyAwIF0KICAgdHJ5IDoKICAgIGlJSWkgPSB4Ym1jZ3VpIC4gTGlzdEl0ZW0gKCBPME9vb09PTzBPICkKICAgIGlJSWkgLiBzZXRQYXRoICggaUkgKQogICAgeGJtY3BsdWdpbiAuIHNldFJlc29sdmVkVXJsICggaWkxMWlpMWlJSUkxSSAsIFRydWUgLCBpSUlpICkKICAgZXhjZXB0IDoKICAgIGlpaSA9ICdFcnJvciBkZWwgc2Vydmlkb3IgJXMsIFRyYWJhamFtb3MgcGFyYSBzb2x1Y2lvbmFybG8nICUgJ0gyNjUnCiAgICBvb08gPSB4Ym1jZ3VpIC4gTGlzdEl0ZW0gKCBpaWkgLCBpY29uSW1hZ2UgPSAnRGVmYXVsdFZpZGVvLnBuZycgKQogICAgeGJtY3BsdWdpbiAuIHNldFJlc29sdmVkVXJsICggaWkxMWlpMWlJSUkxSSAsIEZhbHNlICwgb29PICkKICAgIElpMWlJID0geGJtY2d1aSAuIERpYWxvZyAoICkKICAgIElpMWlJIC4gbm90aWZpY2F0aW9uICggJ1BhbGFudGlyJyAsIGlpaSAsIHhibWNndWkgLiBOT1RJRklDQVRJT05fSU5GTyAsIDUwMDAgKQogICAgaWYgMyAtIDM6IG8wMG9PMG9vME8wTzAgKyBJSW9vb08wb29PMG9vICsgT09PICogT09vT29PMG8wbzBPTwogIGVsaWYgJ3RoZWZpbGVzbG9ja2VyLmNvbScgaW4gaTFpaTEgOgogICB0cnkgOgogICAgaWYgbGVuICggbzBPIFsgMCBdICkgPiAyIDoKICAgICBwYXNzCiAgIGV4Y2VwdCA6CiAgICBJSWlpSSA9ICdodHRwczovL3RoZWZpbGVzbG9ja2VyLmNvbS8nCiAgICBpZiA3NSAtIDc1OiBpaUlJaTFpMUlpaSAuIE9PTyAtIG9PTyAlIG9vb09vTwogICAgaWkxMWkxSTExaSA9IFsgWyAnUGFsMDEnICwgJ3BhbDAxMjAxOScgXSAsIFsgJ1BhbDAyJyAsICdwYWwwMjIwMTknIF0gLCBbICdQYWwwMycgLCAncGFsMDMyMDE5JyBdIF0KICAgIGlJMUlpSTFJSWlJaSA9IHJhbmRvbSAuIHJhbmRpbnQgKCAwICwgbGVuICggaWkxMWkxSTExaSApIC0gMSApCiAgICBpaUlJID0geyAnb3AnIDogJ2xvZ2luJyAsCiAncmFuZCcgOiAnJyAsCiAncmVkaXJlY3QnIDogJ2h0dHBzOi8vdGhlZmlsZXNsb2NrZXIuY29tLycgLAogJ2xvZ2luJyA6IGlpMTFpMUkxMWkgWyBpSTFJaUkxSUlpSWkgXSBbIDAgXSAsCiAncGFzc3dvcmQnIDogaWkxMWkxSTExaSBbIGlJMUlpSTFJSWlJaSBdIFsgMSBdIH0KICAgIEkxMUkgPSByZXF1ZXN0cyAuIHBvc3QgKCBJSWlpSSAsIGRhdGEgPSBpaUlJICwgYWxsb3dfcmVkaXJlY3RzID0gRmFsc2UgKQogICAgbzBPID0gcmUgLiBmaW5kYWxsICggJycnKD86eGZzcz0pKFthLXpBLVowLTldKykoPzpcOyknJycgLCBJMTFJIC4gaGVhZGVycyBbICdTZXQtQ29va2llJyBdICkKICAgb29Pb09vT29Pb29vID0gcmVxdWVzdHMgLiBwb3N0ICggSUlpaUkgLCBkYXRhID0gaWlJSSAsIGFsbG93X3JlZGlyZWN0cyA9IEZhbHNlICkKICAgaTExaUlJaSA9IHJlIC4gZmluZGFsbCAoICcnJyg/Onhmc3M9KShbYS16QS1aMC05XSspKD86XDspJycnICwgb29Pb09vT29Pb29vIC4gaGVhZGVycyBbICdTZXQtQ29va2llJyBdICkKICAgSUlpMTFJMTFpID0gcmUgLiBmaW5kYWxsICggJycnKD86bG9naW49KShbYS16QS1aMC05XSspKD86XDspJycnICwgb29Pb09vT29Pb29vIC4gaGVhZGVycyBbICdTZXQtQ29va2llJyBdICkKICAgaWYgNzYgLSA3NjogSUlJSSAtIG9vb09vTyAvIG9vb09vTyAvIElJSUkKICAgSWlJMWlpMTExSTExMSA9IHJlcXVlc3RzIC4gZ2V0ICggaTFpaTEgKQogICBpZCA9IHJlIC4gZmluZGFsbCAoICcnJyg/Om5hbWU9XCJpZFwiIHZhbHVlPVwiKShbXCV8XCt8Oi8uQS16PzxfJlxzPT4wLTk7LV0rKScnJyAsIElpSTFpaTExMUkxMTEgLiB0ZXh0ICkKICAgaTExSWlJaSA9IHJlIC4gZmluZGFsbCAoICcnJyg/Om5hbWU9XCJmbmFtZVwiIHZhbHVlPVwiKShbXCV8XCt8Oi8uQS16PzxfJlxzPT4wLTk7LV0rKScnJyAsIElpSTFpaTExMUkxMTEgLiB0ZXh0ICkKICAgaWlJSSA9IHsgJ29wJyA6ICdkb3dubG9hZDInICwKICd1c3JfbG9naW4nIDogJycgLAogJ2lkJyA6IGlkICwKICdmbmFtZScgOiBpMTFJaUlpICwKICdyZWZlcmVyJyA6IGkxaWkxICwKICdtZXRob2RfZnJlZScgOiAnTGliZXJ0YSBEZXNjYXJnYSA+PicgfQogICBpZiA5NCAtIDk0OiBJSSAqIE9PTyAlIE9PTyArIG9vCiAgIGlJaWlJaTFpMWkxaTEgPSB7ICdDb29raWUnIDogJ3hmc3M9JyArIG8wTyBbIDAgXSArICc7ICcgKyAnbG9naW49JyArIGlpMTFpMUkxMWkgWyBpSTFJaUkxSUlpSWkgXSBbIDAgXSAsICdSZWZlcmVyJyA6IGkxaWkxIH0KICAgSWlJMWlpMTExSTExMSA9IHJlcXVlc3RzIC4gcG9zdCAoIGkxaWkxICwgaGVhZGVycyA9IGlJaWlJaTFpMWkxaTEgLCBkYXRhID0gaWlJSSApCiAgIGkxaWkxID0gcmUgLiBmaW5kYWxsICggJycnKD86aHJlZj1cIikoW1wlfFwrfDovLkEtej88XyZccz0+MC05Oy1dKykoPzpcIj4pKD86aHR0cCknJycgLCBJaUkxaWkxMTFJMTExIC4gdGV4dCApCiAgIGlJID0gaTFpaTEgWyAwIF0KICAgdHJ5IDoKICAgIGlJSWkgPSB4Ym1jZ3VpIC4gTGlzdEl0ZW0gKCBPME9vb09PTzBPICkKICAgIGlJSWkgLiBzZXRQYXRoICggaUkgKQogICAgeGJtY3BsdWdpbiAuIHNldFJlc29sdmVkVXJsICggaWkxMWlpMWlJSUkxSSAsIFRydWUgLCBpSUlpICkKICAgZXhjZXB0IDoKICAgIGlpaSA9ICdFcnJvciBkZWwgc2Vydmlkb3IgJXMsIFRyYWJhamFtb3MgcGFyYSBzb2x1Y2lvbmFybG8nICUgJ0gyNjUnCiAgICBvb08gPSB4Ym1jZ3VpIC4gTGlzdEl0ZW0gKCBpaWkgLCBpY29uSW1hZ2UgPSAnRGVmYXVsdFZpZGVvLnBuZycgKQogICAgeGJtY3BsdWdpbiAuIHNldFJlc29sdmVkVXJsICggaWkxMWlpMWlJSUkxSSAsIEZhbHNlICwgb29PICkKICAgIElpMWlJID0geGJtY2d1aSAuIERpYWxvZyAoICkKICAgIElpMWlJIC4gbm90aWZpY2F0aW9uICggJ1BhbGFudGlyJyAsIGlpaSAsIHhibWNndWkgLiBOT1RJRklDQVRJT05fSU5GTyAsIDUwMDAgKQogICAgaWYgOTkgLSA5OTogaTFpSTEgJSBvMDBvTzBvbzBPME8wCiAgZWxpZiAnb251cGxvYWRzLmNvbScgaW4gaTFpaTEgOgogICBJaUkxaWkxMTFJMTExID0gcmVxdWVzdHMgLiBnZXQgKCBpMWlpMSApCiAgIHhibWMgLiBzbGVlcCAoIDIwMCApCiAgIG9PT29vMG9vb09PID0gcmUgLiBmaW5kYWxsICggJycnKD86bmFtZT1cIm9wXCIgdmFsdWU9XCIpKFtcJXxcK3w6Ly5BLXo/PF8mXHM9PjAtOTstXSspJycnICwgSWlJMWlpMTExSTExMSAuIHRleHQgKQogICBpZCA9IHJlIC4gZmluZGFsbCAoICcnJyg/Om5hbWU9XCJpZFwiIHZhbHVlPVwiKShbXCV8XCt8Oi8uQS16PzxfJlxzPT4wLTk7LV0rKScnJyAsIElpSTFpaTExMUkxMTEgLiB0ZXh0ICkKICAgaWlJSSA9IHsgJ29wJyA6IG9PT29vMG9vb09PICwKICdpZCcgOiBpZCAsCiAncmFuZCcgOiAnJyAsCiAncmVmZXJlcicgOiAnJyAsCiAnbWV0aG9kX2ZyZWUnIDogJycgLAogJ21ldGhvZF9wcmVtaXVtJyA6ICcnICwKICdhZGJsb2NrX2RldGVjdGVkJyA6ICcwJyB9CiAgIGlmIDU0IC0gNTQ6IG9vb09vTyAtIGlpMUkxaWkxSWlJaTEgLiBvMDBvTzBvbzBPME8wIC8gSUlJSSAtIG9PTwogICBJaUkxaWkxMTFJMTExID0gcmVxdWVzdHMgLiBwb3N0ICggaTFpaTEgLCBkYXRhID0gaWlJSSApCiAgIHhibWMgLiBzbGVlcCAoIDIwMCApCiAgIGkxaWkxID0gcmUgLiBmaW5kYWxsICggJycnKD86PGEgaHJlZj1cIikoW1wlfFwrfDovLkEtej88XyZccz0+MC05Oy1dKykoPzpcIj48aW1nIHNyYz1cIi4uL2ltYWdlcy9kYnRuLmpwZ1wiKScnJyAsIElpSTFpaTExMUkxMTEgLiB0ZXh0ICkKICAgaUkgPSBpMWlpMSBbIDAgXQogICB0cnkgOgogICAgaUlJaSA9IHhibWNndWkgLiBMaXN0SXRlbSAoIE8wT29vT09PME8gKQogICAgaUlJaSAuIHNldFBhdGggKCBpSSApCiAgICB4Ym1jcGx1Z2luIC4gc2V0UmVzb2x2ZWRVcmwgKCBpaTExaWkxaUlJSTFJICwgVHJ1ZSAsIGlJSWkgKQogICAgZGVsIGlJICwgaTFpaTEgLCBJaUkxaWkxMTFJMTExICwgaWlJSSAsIGlkICwgb09Pb28wb29vT08gLCBJaUkxaWkxMTFJMTExCiAgIGV4Y2VwdCA6CiAgICBpaWkgPSAnRXJyb3IgZGVsIHNlcnZpZG9yICVzLCBUcmFiYWphbW9zIHBhcmEgc29sdWNpb25hcmxvJyAlICdIMjY1JwogICAgb29PID0geGJtY2d1aSAuIExpc3RJdGVtICggaWlpICwgaWNvbkltYWdlID0gJ0RlZmF1bHRWaWRlby5wbmcnICkKICAgIHhibWNwbHVnaW4gLiBzZXRSZXNvbHZlZFVybCAoIGlpMTFpaTFpSUlJMUkgLCBGYWxzZSAsIG9vTyApCiAgICBJaTFpSSA9IHhibWNndWkgLiBEaWFsb2cgKCApCiAgICBJaTFpSSAuIG5vdGlmaWNhdGlvbiAoICdQYWxhbnRpcicgLCBpaWkgLCB4Ym1jZ3VpIC4gTk9USUZJQ0FUSU9OX0lORk8gLCA1MDAwICkKICAgIGlmIDc3IC0gNzc6IG9vb09vTyAtIE9PTyAtIEkxICogSTEKICBlbGlmICd1cGZpbGUubW9iaScgaW4gaTFpaTEgOgogICBJaUkxaWkxMTFJMTExID0gcmVxdWVzdHMgLiBnZXQgKCBpMWlpMSAsIGhlYWRlcnMgPSB7ICdSZWZlcmVyJyA6IGkxaWkxIH0gLCBhbGxvd19yZWRpcmVjdHMgPSBGYWxzZSApCiAgIGlpSWkxSTFpaSA9IHJlIC4gZmluZGFsbCAoICcnJyg/OiBocmVmPVsnIl0pKFtcJXxcK3w6Ly5BLXo/PF8mXHM9PjAtOTstXStcP3BhZ2VcPWZpbGUmW1wlfFwrfDovLkEtej88XyZccz0+MC05Oy1dKyknJycgLCBJaUkxaWkxMTFJMTExIC4gdGV4dCApCiAgIGlpSTFpMTFJMUlpaSA9IHJlcXVlc3RzIC4gZ2V0ICggaWlJaTFJMWlpIFsgMCBdICwgaGVhZGVycyA9IHsgJ1JlZmVyZXInIDogaTFpaTEgfSAsIGFsbG93X3JlZGlyZWN0cyA9IEZhbHNlICkKICAgaUlJID0gcmUgLiBmaW5kYWxsICggJycnKD86IGhyZWY9WyciXSkoW1wlfFwrfDovLkEtej88XyZccz0+MC05Oy1dK1w/cGFnZT1kb3dubG9hZCZzZXJ2ZXJbXCV8XCt8Oi8uQS16PzxfJlxzPT4wLTk7LV0rKScnJyAsIGlpSTFpMTFJMUlpaSAuIHRleHQgKQogICBpMWlpMSA9IGlJSSBbIDAgXQogICBPT08wb09PME8wb08wID0gcmVxdWVzdHMgLiBnZXQgKCBpSUkgWyAwIF0gLCBoZWFkZXJzID0geyAnUmVmZXJlcicgOiBpMWlpMSB9ICwgYWxsb3dfcmVkaXJlY3RzID0gRmFsc2UgKQogICBpMWlpMSA9IE9PTzBvT08wTzBvTzAgLiBoZWFkZXJzIFsgJ0xvY2F0aW9uJyBdCiAgIGkxaUkxMUlpSSA9IHJlIC4gc2VhcmNoICggJycnKFw6W2EtekEtWjAtOV0rKScnJyAsIGkxaWkxICkgLiBncm91cCAoIDEgKQogICBpSSA9IGkxaWkxIC4gcmVwbGFjZSAoIGkxaUkxMUlpSSAsICcnICkKICAgdHJ5IDoKICAgIGlJSWkgPSB4Ym1jZ3VpIC4gTGlzdEl0ZW0gKCBPME9vb09PTzBPICkKICAgIGlJSWkgLiBzZXRQYXRoICggaUkgKQogICAgeGJtY3BsdWdpbiAuIHNldFJlc29sdmVkVXJsICggaWkxMWlpMWlJSUkxSSAsIFRydWUgLCBpSUlpICkKICAgZXhjZXB0IDoKICAgIGlpaSA9ICdFcnJvciBkZWwgc2Vydmlkb3IgJXMsIFRyYWJhamFtb3MgcGFyYSBzb2x1Y2lvbmFybG8nICUgJ0gyNjUnCiAgICBvb08gPSB4Ym1jZ3VpIC4gTGlzdEl0ZW0gKCBpaWkgLCBpY29uSW1hZ2UgPSAnRGVmYXVsdFZpZGVvLnBuZycgKQogICAgeGJtY3BsdWdpbiAuIHNldFJlc29sdmVkVXJsICggaWkxMWlpMWlJSUkxSSAsIEZhbHNlICwgb29PICkKICAgIElpMWlJID0geGJtY2d1aSAuIERpYWxvZyAoICkKICAgIElpMWlJIC4gbm90aWZpY2F0aW9uICggJ1BhbGFudGlyJyAsIGlpaSAsIHhibWNndWkgLiBOT1RJRklDQVRJT05fSU5GTyAsIDUwMDAgKQogICAgaWYgMTEgLSAxMTogaUlpMTEgKiBvbyAvIE9Pb09vTzBvMG8wT08gLyBpaUlJaTFpMUlpaQogIGVsaWYgJ3F0ZmlsZS5jb20nIGluIGkxaWkxIDoKICAgSWlJMWlpMTExSTExMSA9IHJlcXVlc3RzIC4gZ2V0ICggaTFpaTEgLCBoZWFkZXJzID0geyAnUmVmZXJlcicgOiBpMWlpMSB9ICwgYWxsb3dfcmVkaXJlY3RzID0gRmFsc2UgKQogICBpaUlpMUkxaWkgPSByZSAuIGZpbmRhbGwgKCAnJycoPzogaHJlZj1bJyJdKShbXCV8XCt8Oi8uQS16PzxfJlxzPT4wLTk7LV0rXD9wYWdlXD1maWxlJltcJXxcK3w6Ly5BLXo/PF8mXHM9PjAtOTstXSspJycnICwgSWlJMWlpMTExSTExMSAuIHRleHQgKQogICBpaUkxaTExSTFJaWkgPSByZXF1ZXN0cyAuIGdldCAoIGlpSWkxSTFpaSBbIDAgXSAsIGhlYWRlcnMgPSB7ICdSZWZlcmVyJyA6IGkxaWkxIH0gLCBhbGxvd19yZWRpcmVjdHMgPSBGYWxzZSApCiAgIGlJSSA9IHJlIC4gZmluZGFsbCAoICcnJyg/OiBocmVmPVsnIl0pKFtcJXxcK3w6Ly5BLXo/PF8mXHM9PjAtOTstXStcP3BhZ2U9ZG93bmxvYWQmc2VydmVyW1wlfFwrfDovLkEtej88XyZccz0+MC05Oy1dKyknJycgLCBpaUkxaTExSTFJaWkgLiB0ZXh0ICkKICAgaTFpaTEgPSBpSUkgWyAwIF0KICAgT09PMG9PTzBPMG9PMCA9IHJlcXVlc3RzIC4gZ2V0ICggaUlJIFsgMCBdICwgaGVhZGVycyA9IHsgJ1JlZmVyZXInIDogaTFpaTEgfSAsIGFsbG93X3JlZGlyZWN0cyA9IEZhbHNlICkKICAgaTFpaTEgPSBPT08wb09PME8wb08wIC4gaGVhZGVycyBbICdMb2NhdGlvbicgXQogICBpMWlJMTFJaUkgPSByZSAuIHNlYXJjaCAoICcnJyhcOlthLXpBLVowLTldKyknJycgLCBpMWlpMSApIC4gZ3JvdXAgKCAxICkKICAgaUkgPSBpMWlpMSAuIHJlcGxhY2UgKCBpMWlJMTFJaUkgLCAnJyApCiAgIHRyeSA6CiAgICBpSUlpID0geGJtY2d1aSAuIExpc3RJdGVtICggTzBPb29PT08wTyApCiAgICBpSUlpIC4gc2V0UGF0aCAoIGlJICkKICAgIHhibWNwbHVnaW4gLiBzZXRSZXNvbHZlZFVybCAoIGlpMTFpaTFpSUlJMUkgLCBUcnVlICwgaUlJaSApCiAgIGV4Y2VwdCA6CiAgICBpaWkgPSAnRXJyb3IgZGVsIHNlcnZpZG9yICVzLCBUcmFiYWphbW9zIHBhcmEgc29sdWNpb25hcmxvJyAlICdIMjY1JwogICAgb29PID0geGJtY2d1aSAuIExpc3RJdGVtICggaWlpICwgaWNvbkltYWdlID0gJ0RlZmF1bHRWaWRlby5wbmcnICkKICAgIHhibWNwbHVnaW4gLiBzZXRSZXNvbHZlZFVybCAoIGlpMTFpaTFpSUlJMUkgLCBGYWxzZSAsIG9vTyApCiAgICBJaTFpSSA9IHhibWNndWkgLiBEaWFsb2cgKCApCiAgICBJaTFpSSAuIG5vdGlmaWNhdGlvbiAoICdQYWxhbnRpcicgLCBpaWkgLCB4Ym1jZ3VpIC4gTk9USUZJQ0FUSU9OX0lORk8gLCA1MDAwICkKICAgIGlmIDcxIC0gNzE6IElpMUkgKiBJaTFJICUgb28gLyBJaTFJICogSUlJSQogIGVsaWYgJzlmaWxlcy5jbycgaW4gaTFpaTEgOgogICBJaUkxaWkxMTFJMTExID0gcmVxdWVzdHMgLiBnZXQgKCBpMWlpMSAsIGhlYWRlcnMgPSB7ICdSZWZlcmVyJyA6IGkxaWkxIH0gLCBhbGxvd19yZWRpcmVjdHMgPSBGYWxzZSApCiAgIGlpSWkxSTFpaSA9IHJlIC4gZmluZGFsbCAoICcnJyg/OiBocmVmPVsnIl0pKFtcJXxcK3w6Ly5BLXo/PF8mXHM9PjAtOTstXStcP3BhZ2VcPWZpbGUmW1wlfFwrfDovLkEtej88XyZccz0+MC05Oy1dKyknJycgLCBJaUkxaWkxMTFJMTExIC4gdGV4dCApCiAgIGlpSTFpMTFJMUlpaSA9IHJlcXVlc3RzIC4gZ2V0ICggaWlJaTFJMWlpIFsgMCBdICwgaGVhZGVycyA9IHsgJ1JlZmVyZXInIDogaTFpaTEgfSAsIGFsbG93X3JlZGlyZWN0cyA9IEZhbHNlICkKICAgaUlJID0gcmUgLiBmaW5kYWxsICggJycnKD86IGhyZWY9WyciXSkoW1wlfFwrfDovLkEtej88XyZccz0+MC05Oy1dK1w/cGFnZT1kb3dubG9hZCZzZXJ2ZXJbXCV8XCt8Oi8uQS16PzxfJlxzPT4wLTk7LV0rKScnJyAsIGlpSTFpMTFJMUlpaSAuIHRleHQgKQogICBpMWlpMSA9IGlJSSBbIDAgXQogICBPT08wb09PME8wb08wID0gcmVxdWVzdHMgLiBnZXQgKCBpSUkgWyAwIF0gLCBoZWFkZXJzID0geyAnUmVmZXJlcicgOiBpMWlpMSB9ICwgYWxsb3dfcmVkaXJlY3RzID0gRmFsc2UgKQogICBpMWlpMSA9IE9PTzBvT08wTzBvTzAgLiBoZWFkZXJzIFsgJ0xvY2F0aW9uJyBdCiAgIGkxaUkxMUlpSSA9IHJlIC4gc2VhcmNoICggJycnKFw6W2EtekEtWjAtOV0rKScnJyAsIGkxaWkxICkgLiBncm91cCAoIDEgKQogICBpSSA9IGkxaWkxIC4gcmVwbGFjZSAoIGkxaUkxMUlpSSAsICcnICkKICAgdHJ5IDoKICAgIGlJSWkgPSB4Ym1jZ3VpIC4gTGlzdEl0ZW0gKCBPME9vb09PTzBPICkKICAgIGlJSWkgLiBzZXRQYXRoICggaUkgKQogICAgeGJtY3BsdWdpbiAuIHNldFJlc29sdmVkVXJsICggaWkxMWlpMWlJSUkxSSAsIFRydWUgLCBpSUlpICkKICAgZXhjZXB0IDoKICAgIGlpaSA9ICdFcnJvciBkZWwgc2Vydmlkb3IgJXMsIFRyYWJhamFtb3MgcGFyYSBzb2x1Y2lvbmFybG8nICUgJ0gyNjUnCiAgICBvb08gPSB4Ym1jZ3VpIC4gTGlzdEl0ZW0gKCBpaWkgLCBpY29uSW1hZ2UgPSAnRGVmYXVsdFZpZGVvLnBuZycgKQogICAgeGJtY3BsdWdpbiAuIHNldFJlc29sdmVkVXJsICggaWkxMWlpMWlJSUkxSSAsIEZhbHNlICwgb29PICkKICAgIElpMWlJID0geGJtY2d1aSAuIERpYWxvZyAoICkKICAgIElpMWlJIC4gbm90aWZpY2F0aW9uICggJ1BhbGFudGlyJyAsIGlpaSAsIHhibWNndWkgLiBOT1RJRklDQVRJT05fSU5GTyAsIDUwMDAgKQogICAgaWYgNjcgLSA2Nzogb28gLyBJaUlJMWkxSSAtIElJSUkKICBlbGlmICdtZWdhdXAnIGluIGkxaWkxIDoKICAgdHJ5IDoKICAgIElpSTFpaTExMUkxMTEgPSByZXF1ZXN0cyAuIGdldCAoIGkxaWkxICkKICAgIG9vTzAwMG9PbzAwID0gcmUgLiBmaW5kYWxsICggJycnKD86Y2xhc3NcPVwnYnRuIGJ0bi1kZWZhdWx0XCcgaHJlZj1cJykoW1wlfFwrfDovLkEtej88XyZccz0+MC05Oy1dKzNEKScnJyAsIElpSTFpaTExMUkxMTEgLiB0ZXh0ICkKICAgIElpSTFpaTExMUkxMTEgPSByZXF1ZXN0cyAuIGdldCAoIG9vTzAwMG9PbzAwIFsgMCBdICwgaGVhZGVycyA9IHsgJ2Nvb2tpZScgOiAnZmlsZWhvc3Rpbmc9N2I1NmQyZHVmY2k0bmJkdG45dG5xZDBldTUnIH0gLCBhbGxvd19yZWRpcmVjdHMgPSBGYWxzZSApCiAgICBpSSA9IElpSTFpaTExMUkxMTEgLiBoZWFkZXJzIFsgJ2xvY2F0aW9uJyBdCiAgIGV4Y2VwdCA6CiAgICBJaUkxaWkxMTFJMTExID0gcmVxdWVzdHMgLiBnZXQgKCBpMWlpMSApCiAgICBvb08wMDBvT28wMCA9IHJlIC4gZmluZGFsbCAoICcnJyg/OmNsYXNzXD1cJ2J0biBidG4tZGVmYXVsdFwnIGhyZWY9XCcpKFtcJXxcK3w6Ly5BLXo/PF8mXHM9PjAtOTstXSszRCknJycgLCBJaUkxaWkxMTFJMTExIC4gdGV4dCApCiAgICBJaUkxaWkxMTFJMTExID0gcmVxdWVzdHMgLiBnZXQgKCBvb08wMDBvT28wMCBbIDAgXSAsIGhlYWRlcnMgPSB7ICdjb29raWUnIDogJ2ZpbGVob3N0aW5nPTE5aGE1aGt1aW9hZmdwaWVsbG5haTA0YmczJyB9ICwgYWxsb3dfcmVkaXJlY3RzID0gRmFsc2UgKQogICAgaUkgPSBJaUkxaWkxMTFJMTExIC4gaGVhZGVycyBbICdsb2NhdGlvbicgXQogICB0cnkgOgogICAgaUlJaSA9IHhibWNndWkgLiBMaXN0SXRlbSAoIE8wT29vT09PME8gKQogICAgaUlJaSAuIHNldFBhdGggKCBpSSApCiAgICB4Ym1jcGx1Z2luIC4gc2V0UmVzb2x2ZWRVcmwgKCBpaTExaWkxaUlJSTFJICwgVHJ1ZSAsIGlJSWkgKQogICBleGNlcHQgOgogICAgaWlpID0gJ0Vycm9yIGRlbCBzZXJ2aWRvciAlcywgVHJhYmFqYW1vcyBwYXJhIHNvbHVjaW9uYXJsbycgJSAnSDI2NScKICAgIG9vTyA9IHhibWNndWkgLiBMaXN0SXRlbSAoIGlpaSAsIGljb25JbWFnZSA9ICdEZWZhdWx0VmlkZW8ucG5nJyApCiAgICB4Ym1jcGx1Z2luIC4gc2V0UmVzb2x2ZWRVcmwgKCBpaTExaWkxaUlJSTFJICwgRmFsc2UgLCBvb08gKQogICAgSWkxaUkgPSB4Ym1jZ3VpIC4gRGlhbG9nICggKQogICAgSWkxaUkgLiBub3RpZmljYXRpb24gKCAnUGFsYW50aXInICwgaWlpICwgeGJtY2d1aSAuIE5PVElGSUNBVElPTl9JTkZPICwgNTAwMCApCiAgICBpZiAyIC0gMjogb29Pb29PME9PTyAqIElJb29vTzBvb08wb28gKyBJMUlpSTFJSUkxMWkgLyBpMWlJMQogIGVsaWYgJ2pldGxvYWQubmV0JyBpbiBpMWlpMSA6CiAgIGkxMW9vMG8gPSBpMWlpMSBbIGkxaWkxIC4gZmluZCAoICcvZC8nICkgKyBsZW4gKCAnL2QvJyApIDogXQogICBJMWkxSUlJSTFJSSA9ICdodHRwczovL2pldGxvYWQubmV0L2FwaS9nZXRfZGlyZWN0X3ZpZGVvLycgKyBpMTFvbzBvCiAgIElpSTFpaTExMUkxMTEgPSByZXF1ZXN0cyAuIGdldCAoIEkxaTFJSUlJMUlJICkKICAgaUkxaUkxMUlJID0gSWlJMWlpMTExSTExMSAuIGpzb24gKCApCiAgIE9vbzBvT08wMG8wb28gPSBpSTFpSTExSUkgWyAnZmlsZScgXSBbICdmaWxlX25hbWUnIF0KICAgaTFpaTFpaWkxSUlJSSA9ICcuJyArIGlJMWlJMTFJSSBbICdmaWxlJyBdIFsgJ2ZpbGVfZXh0JyBdCiAgIElJaUlpSTExID0gaUkxaUkxMUlJIFsgJ2ZpbGUnIF0gWyAnc3J2X2lkJyBdCiAgIG8wT29vTzAwT09vID0gJ2h0dHBzOi8vamV0bG9hZC5uZXQvYXBpL2Rvd25sb2FkJwogICBpaUkxaTExSTFJaWkgPSByZXF1ZXN0cyAuIHBvc3QgKCBvME9vb08wME9PbyAsIGRhdGEgPSB7ICdmaWxlX25hbWUnIDogT29vMG9PTzAwbzBvbyArIGkxaWkxaWlpMUlJSUkgLCAnc3J2JyA6IElJaUlpSTExIH0gKQogICBpSSA9IGlpSTFpMTFJMUlpaSAuIHRleHQKICAgdHJ5IDoKICAgIGlJSWkgPSB4Ym1jZ3VpIC4gTGlzdEl0ZW0gKCBPME9vb09PTzBPICkKICAgIGlJSWkgLiBzZXRQYXRoICggaUkgKQogICAgeGJtY3BsdWdpbiAuIHNldFJlc29sdmVkVXJsICggaWkxMWlpMWlJSUkxSSAsIFRydWUgLCBpSUlpICkKICAgZXhjZXB0IDoKICAgIGlpaSA9ICdFcnJvciBkZWwgc2Vydmlkb3IgJXMsIFRyYWJhamFtb3MgcGFyYSBzb2x1Y2lvbmFybG8nICUgJ09jZWFuJwogICAgb29PID0geGJtY2d1aSAuIExpc3RJdGVtICggaWlpICwgaWNvbkltYWdlID0gJ0RlZmF1bHRWaWRlby5wbmcnICkKICAgIHhibWNwbHVnaW4gLiBzZXRSZXNvbHZlZFVybCAoIGlpMTFpaTFpSUlJMUkgLCBGYWxzZSAsIG9vTyApCiAgICBJaTFpSSA9IHhibWNndWkgLiBEaWFsb2cgKCApCiAgICBJaTFpSSAuIG5vdGlmaWNhdGlvbiAoICdQYWxhbnRpcicgLCBpaWkgLCB4Ym1jZ3VpIC4gTk9USUZJQ0FUSU9OX0lORk8gLCA1MDAwICkKICAgIGlmIDQwIC0gNDA6IElJICogT09PICogSWlJSTFJaUkgKyBvMDBvTzBvbzBPME8wICogT09PCiAgZWxpZiAnc2FydWNoLmNvJyBpbiBpMWlpMSA6CiAgIG9PMG8wTyA9IGkxaWkxIFsgaTFpaTEgLiBmaW5kICggJ3ZpZGVvLycgKSArIGxlbiAoICd2aWRlby8nICkgOiBdCiAgIG9vTzBPMG9Pb28gPSAnaHR0cHM6Ly9hcGkuc2FydWNoLmNvL3ZpZGVvcy8nICsgb08wbzBPICsgJy9zdHJlYW0nCiAgIElpSTFpaTExMUkxMTEgPSByZXF1ZXN0cyAuIGdldCAoIG9vTzBPMG9Pb28gKQogICBJSTFJSWlJSUlJaTFpID0gWyBdCiAgIGlJMU9PME9PTzAwT28gPSBbIF0KICAgT08wME8wTzBPTyA9IElpSTFpaTExMUkxMTEgLiBqc29uICggKSBbICd2aWRlbycgXSBbICdzb3VyY2VzJyBdCiAgIGZvciBPMDBPb28wbzBPTyBpbiByYW5nZSAoIDAgLCBsZW4gKCBPTzAwTzBPME9PICkgKSA6CiAgICBpMWlpMSA9IE9PMDBPME8wT08gWyBPMDBPb28wbzBPTyBdCiAgICBpSTFPTzBPT08wME9vIC4gYXBwZW5kICggaTFpaTEgWyAnbGFiZWwnIF0gKQogICAgSUkxSUlpSUlJSWkxaSAuIGFwcGVuZCAoIGkxaWkxIFsgJ2ZpbGUnIF0gKQogICBvT29vT29vbyA9IF9fc2V0dGluZ3NfXyAuIGdldFNldHRpbmcgKCAnYXV0b19vY2VhbicgKQogICBpZiBvT29vT29vbyA9PSAiZmFsc2UiIDoKICAgIGlmIGxlbiAoIElJMUlJaUlJSUlpMWkgKSA+IDEgOgogICAgIGkxaWlJID0geGJtY2d1aSAuIERpYWxvZyAoICkgLiBzZWxlY3QgKCAiU2VsZWNjaW9uYSB1biBlbmxhY2UiICwgaUkxT08wT09PMDBPbyApCiAgICAgaWYgaTFpaUkgPT0gLSAxIDoKICAgICAgb29PbzAwID0gIiVzIiAlICdIYXMgY2FuY2VsYWRvJwogICAgICByZXR1cm4geGJtYyAuIGV4ZWN1dGVidWlsdGluICggIk5vdGlmaWNhdGlvbihcIlBhbGFudGlyIElORk86XCIsIFwiJXNcIikiICUgb29PbzAwICkKICAgICBlbHNlIDoKICAgICAgaUkgPSBJSTFJSWlJSUlJaTFpIFsgaTFpaUkgXQogICBlbHNlIDoKICAgIGlJID0gSUkxSUlpSUlJSWkxaSBbIDAgXQogICB0cnkgOgogICAgaUlJaSA9IHhibWNndWkgLiBMaXN0SXRlbSAoIE8wT29vT09PME8gKQogICAgaUlJaSAuIHNldFBhdGggKCBpSSApCiAgICB4Ym1jcGx1Z2luIC4gc2V0UmVzb2x2ZWRVcmwgKCBpaTExaWkxaUlJSTFJICwgVHJ1ZSAsIGlJSWkgKQogICBleGNlcHQgOgogICAgaWlpID0gJ0Vycm9yIGRlbCBzZXJ2aWRvciAlcywgVHJhYmFqYW1vcyBwYXJhIHNvbHVjaW9uYXJsbycgJSAnT2NlYW4nCiAgICBvb08gPSB4Ym1jZ3VpIC4gTGlzdEl0ZW0gKCBpaWkgLCBpY29uSW1hZ2UgPSAnRGVmYXVsdFZpZGVvLnBuZycgKQogICAgeGJtY3BsdWdpbiAuIHNldFJlc29sdmVkVXJsICggaWkxMWlpMWlJSUkxSSAsIEZhbHNlICwgb29PICkKICAgIElpMWlJID0geGJtY2d1aSAuIERpYWxvZyAoICkKICAgIElpMWlJIC4gbm90aWZpY2F0aW9uICggJ1BhbGFudGlyJyAsIGlpaSAsIHhibWNndWkgLiBOT1RJRklDQVRJT05fSU5GTyAsIDUwMDAgKQogICAgaWYgOTIgLSA5Mjogb28gKyBvbyAqIElpICsgSTEKICBlbGlmICdwb3lib3guY29tJyBpbiBpMWlpMSA6CiAgIGlJID0gaTFpaTEKICAgdHJ5IDoKICAgIGlJSWkgPSB4Ym1jZ3VpIC4gTGlzdEl0ZW0gKCBPME9vb09PTzBPICkKICAgIGlJSWkgLiBzZXRQYXRoICggaUkgKQogICAgeGJtY3BsdWdpbiAuIHNldFJlc29sdmVkVXJsICggaWkxMWlpMWlJSUkxSSAsIFRydWUgLCBpSUlpICkKICAgZXhjZXB0IDoKICAgIGlpaSA9ICdFcnJvciBkZWwgc2Vydmlkb3IgJXMsIFRyYWJhamFtb3MgcGFyYSBzb2x1Y2lvbmFybG8nICUgJ09jZWFuJwogICAgb29PID0geGJtY2d1aSAuIExpc3RJdGVtICggaWlpICwgaWNvbkltYWdlID0gJ0RlZmF1bHRWaWRlby5wbmcnICkKICAgIHhibWNwbHVnaW4gLiBzZXRSZXNvbHZlZFVybCAoIGlpMTFpaTFpSUlJMUkgLCBGYWxzZSAsIG9vTyApCiAgICBJaTFpSSA9IHhibWNndWkgLiBEaWFsb2cgKCApCiAgICBJaTFpSSAuIG5vdGlmaWNhdGlvbiAoICdQYWxhbnRpcicgLCBpaWkgLCB4Ym1jZ3VpIC4gTk9USUZJQ0FUSU9OX0lORk8gLCA1MDAwICkKICAgIGlmIDI4IC0gMjg6IElpMUkgKyBJMSAqIGkxaUkxIC4gb29Pb29PME9PTyAvIGlJaTExICsgaWlJSWkxaTFJaWkKICBlbGlmICdkZmlsZS5zcGFjZScgaW4gaTFpaTEgOgogICBJaUkxaWkxMTFJMTExID0gcmVxdWVzdHMgLiBnZXQgKCBpMWlpMSAsIGFsbG93X3JlZGlyZWN0cyA9IEZhbHNlICwgdmVyaWZ5ID0gVHJ1ZSApCiAgIGkxaWkxID0gSWlJMWlpMTExSTExMSAuIGhlYWRlcnMgWyAnTG9jYXRpb24nIF0KICAgaUkgPSBpMWlpMSAuIHJlcGxhY2UgKCAnaHR0cHMnICwgJ2h0dHAnICkKICAgdHJ5IDoKICAgIGlJSWkgPSB4Ym1jZ3VpIC4gTGlzdEl0ZW0gKCBPME9vb09PTzBPICkKICAgIGlJSWkgLiBzZXRQYXRoICggaUkgKQogICAgeGJtY3BsdWdpbiAuIHNldFJlc29sdmVkVXJsICggaWkxMWlpMWlJSUkxSSAsIFRydWUgLCBpSUlpICkKICAgZXhjZXB0IDoKICAgIGlpaSA9ICdFcnJvciBkZWwgc2Vydmlkb3IgJXMsIFRyYWJhamFtb3MgcGFyYSBzb2x1Y2lvbmFybG8nICUgJ09jZWFuJwogICAgb29PID0geGJtY2d1aSAuIExpc3RJdGVtICggaWlpICwgaWNvbkltYWdlID0gJ0RlZmF1bHRWaWRlby5wbmcnICkKICAgIHhibWNwbHVnaW4gLiBzZXRSZXNvbHZlZFVybCAoIGlpMTFpaTFpSUlJMUkgLCBGYWxzZSAsIG9vTyApCiAgICBJaTFpSSA9IHhibWNndWkgLiBEaWFsb2cgKCApCiAgICBJaTFpSSAuIG5vdGlmaWNhdGlvbiAoICdQYWxhbnRpcicgLCBpaWkgLCB4Ym1jZ3VpIC4gTk9USUZJQ0FUSU9OX0lORk8gLCA1MDAwICkKICAgIGlmIDQ1IC0gNDU6IE9PTyAuIGkxaUkxCiAgZWxpZiAna3VzdG9kLmlvJyBpbiBpMWlpMSA6CiAgIElpMTFpaWkgPSByZXF1ZXN0cyAuIHNlc3Npb24gKCApCiAgIG9vbzAwT29vMDAgPSBpMWlpMSBbIGkxaWkxIC4gZmluZCAoICcvcy8nICkgKyBsZW4gKCAnL3MvJyApIDogXQogICBJSUkxSSA9ICdodHRwczovL2JyYWluLmt1c3RvZC5pby92MS90YWdnaW5ncy8nICsgb29vMDBPb28wMCArICcvZmlsZS91cmwnCiAgIG9vT08wT09vMCA9IElpMTFpaWkgLiBnZXQgKCBJSUkxSSAsIGFsbG93X3JlZGlyZWN0cyA9IEZhbHNlICkKICAgaUkgPSBvb09PME9PbzAgLiBoZWFkZXJzIFsgJ2xvY2F0aW9uJyBdCiAgIElpMTFpaWkgLiBjbG9zZSAoICkKICAgdHJ5IDoKICAgIGlJSWkgPSB4Ym1jZ3VpIC4gTGlzdEl0ZW0gKCBPME9vb09PTzBPICkKICAgIGlJSWkgLiBzZXRQYXRoICggaUkgKQogICAgeGJtY3BsdWdpbiAuIHNldFJlc29sdmVkVXJsICggaWkxMWlpMWlJSUkxSSAsIFRydWUgLCBpSUlpICkKICAgZXhjZXB0IDoKICAgIGlpaSA9ICdFcnJvciBkZWwgc2Vydmlkb3IgJXMsIFRyYWJhamFtb3MgcGFyYSBzb2x1Y2lvbmFybG8nICUgJ0Fyd2VuJwogICAgb29PID0geGJtY2d1aSAuIExpc3RJdGVtICggaWlpICwgaWNvbkltYWdlID0gJ0RlZmF1bHRWaWRlby5wbmcnICkKICAgIHhibWNwbHVnaW4gLiBzZXRSZXNvbHZlZFVybCAoIGlpMTFpaTFpSUlJMUkgLCBGYWxzZSAsIG9vTyApCiAgICBJaTFpSSA9IHhibWNndWkgLiBEaWFsb2cgKCApCiAgICBJaTFpSSAuIG5vdGlmaWNhdGlvbiAoICdQYWxhbnRpcicgLCBpaWkgLCB4Ym1jZ3VpIC4gTk9USUZJQ0FUSU9OX0lORk8gLCA1MDAwICkKICAgIGlmIDQ1IC0gNDU6IE9PTyAlIElpSUkxSWlJICogSUlJSQogIGVsaWYgInVwdy5pbyIgaW4gaTFpaTEgOgogICBJaTExaWlpID0gcmVxdWVzdHMgLiBzZXNzaW9uICggKQogICBpaWlJaSA9ICJNb3ppbGxhLzUuMCAoV2luZG93cyBOVCAxMC4wOyBXT1c2NCkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzc3LjAuMzg2NS4xMjAgU2FmYXJpLzUzNy4zNiIKICAgb29PTzBPT28wID0gSWkxMWlpaSAuIGdldCAoIGkxaWkxICwgYWxsb3dfcmVkaXJlY3RzID0gRmFsc2UgLCBoZWFkZXJzID0geyAndXNlci1hZ2VudCcgOiBpaWlJaSB9ICkKICAgaTFpaTEgPSByZSAuIHNlYXJjaCAoICcnJyg/OmhyZWY9WyciXSkoWzovLkEtej88XyZccz0+MC05Oy1dKyUzRCkoPzonPmRvd25sb2FkKScnJyAsIG9vT08wT09vMCAuIHRleHQgKSAuIGdyb3VwICggMSApCiAgIGlpSTFpMTFJMUlpaSA9IElpMTFpaWkgLiBnZXQgKCBpMWlpMSAsIGFsbG93X3JlZGlyZWN0cyA9IEZhbHNlICkKICAgaUkgPSBpaUkxaTExSTFJaWkgLiBoZWFkZXJzIFsgJ2xvY2F0aW9uJyBdCiAgIElpMTFpaWkgLiBjbG9zZSAoICkKICAgdHJ5IDoKICAgIGlJSWkgPSB4Ym1jZ3VpIC4gTGlzdEl0ZW0gKCBPME9vb09PTzBPICkKICAgIGlJSWkgLiBzZXRQYXRoICggaUkgKQogICAgeGJtY3BsdWdpbiAuIHNldFJlc29sdmVkVXJsICggaWkxMWlpMWlJSUkxSSAsIFRydWUgLCBpSUlpICkKICAgZXhjZXB0IDoKICAgIGlpaSA9ICdFcnJvciBkZWwgc2Vydmlkb3IgJXMsIFRyYWJhamFtb3MgcGFyYSBzb2x1Y2lvbmFybG8nICUgJ1NhbXdpc2UnCiAgICBvb08gPSB4Ym1jZ3VpIC4gTGlzdEl0ZW0gKCBpaWkgLCBpY29uSW1hZ2UgPSAnRGVmYXVsdFZpZGVvLnBuZycgKQogICAgeGJtY3BsdWdpbiAuIHNldFJlc29sdmVkVXJsICggaWkxMWlpMWlJSUkxSSAsIEZhbHNlICwgb29PICkKICAgIElpMWlJID0geGJtY2d1aSAuIERpYWxvZyAoICkKICAgIElpMWlJIC4gbm90aWZpY2F0aW9uICggJ1BhbGFudGlyJyAsIGlpaSAsIHhibWNndWkgLiBOT1RJRklDQVRJT05fSU5GTyAsIDUwMDAgKQogICAgaWYgMTkgLSAxOTogSWlJSTFJaUkgKyBJaUlJMUlpSSAlIE9Pb09vTzBvMG8wT08KICBlbGlmICd1cHRvc3RyZWFtLmNvbScgaW4gaTFpaTEgOgogICBpZiAyNSAtIDI1OiBPT29Pb08wbzBvME9PICsgSUlJSSArIElpSUkxSWlJICogaWkxSTFpaTFJaUlpMSAlIE9PTyAqIG9PTwogICBpZiAzNCAtIDM0OiBPT08gJSBpaUlJaTFpMUlpaSAlIEkxICUgaWkxSTFpaTFJaUlpMSAqIGlJaTExICUgb29vT29PCiAgIGlmIDcgLSA3OiBvT08gKiBJSSAtIElJSUkgLiBJMSAlIElpSUkxaTFJCiAgIHRyeSA6CiAgICBpZiBsZW4gKCBvT29PT28wIFsgMSBdICkgPiAyIDoKICAgICBwYXNzCiAgIGV4Y2VwdCA6CiAgICB0cnkgOgogICAgIGlmIDY2IC0gNjY6IElpSUkxSWlJCiAgICAgSUlJMWkxID0gInNjcmlwdC5jdWVudGFzLnBhbGFudGlyIgogICAgIE9vbzBvMG9vID0geGJtY2FkZG9uIC4gQWRkb24gKCBJSUkxaTEgKQogICAgZXhjZXB0IDoKICAgICBwYXNzCiAgICB0cnkgOgogICAgIGlmIE9vbzBvMG9vIDoKICAgICAgSTFvT09PMG8gPSBPb28wbzBvbyAuIGdldFNldHRpbmcgKCAndXNlcm5hbWVfdXB0b2JveCcgKQogICAgICBpMWlpID0gT29vMG8wb28gLiBnZXRTZXR0aW5nICggJ3Bhc3NfdXB0b2JveCcgKQogICAgICBpZiBJMW9PT08wbyAhPSAnJyA6CiAgICAgICBJSWlpSSA9ICdodHRwczovL3VwdG9zdHJlYW0uY29tL2xvZ2luP3JlZmVyZXI9aG9tZXBhZ2UnCiAgICAgICBpaUlJID0geyAnbG9naW4nIDogSTFvT09PMG8gLAogJ3Bhc3N3b3JkJyA6IGkxaWkgfQogICAgICAgSTExSSA9IHJlcXVlc3RzIC4gcG9zdCAoIElJaWlJICwgZGF0YSA9IGlpSUkgLCBoZWFkZXJzID0geyAnUmVmZXJlcicgOiBJSWlpSSB9ICwgYWxsb3dfcmVkaXJlY3RzID0gRmFsc2UgKQogICAgICAgb09vT09vMCA9IHJlIC4gZmluZGFsbCAoICcnJyg/Onhmc3M9KShbYS16QS1aMC05XSspKD86XDspJycnICwgSTExSSAuIGhlYWRlcnMgWyAnU2V0LUNvb2tpZScgXSApCiAgICBleGNlcHQgOgogICAgIHBhc3MKICAgICBpZiAzOSAtIDM5OiBJaUlJMUlpSSAtIElJIC8gSUlJSSAqIG9PTyAvIG9vT29vTzBPT08gLSBJaQogICB0cnkgOgogICAgaWYgbGVuICggb09vT09vMCBbIDEgXSApID4gMiA6CiAgICAgaUlpaUlpMWkxaTFpMSA9IHsgJ0Nvb2tpZScgOiAneGZzcz0nICsgb09vT09vMCBbIDEgXSAsICdSZWZlcmVyJyA6IGkxaWkxIH0KICAgICBvTzBvME8gPSBpMWlpMSBbIGkxaWkxIC4gZmluZCAoICdjb20vJyApICsgNCA6IF0KICAgICBvT29vT08gPSAnaHR0cHM6Ly91cHRvYm94LmNvbS8nICsgb08wbzBPCiAgICAgT28wME9vID0gcmVxdWVzdHMgLiBnZXQgKCBvT29vT08gLCBoZWFkZXJzID0gaUlpaUlpMWkxaTFpMSAsIGFsbG93X3JlZGlyZWN0cyA9IEZhbHNlICkKICAgZXhjZXB0IDoKICAgIHRyeSA6CiAgICAgaWYgbGVuICggTzBvMCBbIDEgXSApID4gMiA6CiAgICAgIHBhc3MKICAgIGV4Y2VwdCA6CiAgICAgdHJ5IDoKICAgICAgSUlpaUkgPSAnaHR0cHM6Ly91cHRvc3RyZWFtLmNvbS9sb2dpbj9yZWZlcmVyPWhvbWVwYWdlJwogICAgICBpaTExaTFJMTFpID0gWyBbICdQYWwwMScgLCAncGFsMDEyMDE5JyBdIF0KICAgICAgaUkxSWlJMUlJaUlpID0gcmFuZG9tIC4gcmFuZGludCAoIDAgLCBsZW4gKCBpaTExaTFJMTFpICkgLSAxICkKICAgICAgaWlJSSA9IHsgJ2xvZ2luJyA6IGlpMTFpMUkxMWkgWyBpSTFJaUkxSUlpSWkgXSBbIDAgXSAsCiAncGFzc3dvcmQnIDogaWkxMWkxSTExaSBbIGlJMUlpSTFJSWlJaSBdIFsgMSBdIH0KICAgICAgSTExSSA9IHJlcXVlc3RzIC4gcG9zdCAoIElJaWlJICwgZGF0YSA9IGlpSUkgKQogICAgICBPMG8wID0gcmUgLiBmaW5kYWxsICggJycnKD86eGZzcz0pKFthLXpBLVowLTldKykoPzpcOyknJycgLCBJMTFJIC4gaGVhZGVycyBbICdTZXQtQ29va2llJyBdICkKICAgICBleGNlcHQgOgogICAgICBwYXNzCiAgICB0cnkgOgogICAgIGlJaWlJaTFpMWkxaTEgPSB7ICdDb29raWUnIDogJ3hmc3M9JyArIE8wbzAgWyAxIF0gLCAnUmVmZXJlcicgOiBpMWlpMSB9CiAgICBleGNlcHQgOgogICAgIGlJaWlJaTFpMWkxaTEgPSB7ICdSZWZlcmVyJyA6IGkxaWkxIH0KICAgSWlJMWlpMTExSTExMSA9IHJlcXVlc3RzIC4gZ2V0ICggaTFpaTEgLCBoZWFkZXJzID0gaUlpaUlpMWkxaTFpMSApCiAgIElJMUlJaUlJSUlpMWkgPSByZSAuIGZpbmRhbGwgKCAnJycoPzp7XCJzcmNcIlw6XCIpKFtcJXxcK3w6Ly5BLXo/PF8mXHM9PjAtOTstXSspKD86XCIsXCJ0eXBlXCIpJycnICwgSWlJMWlpMTExSTExMSAuIHRleHQgKQogICBpZiBsZW4gKCBJSTFJSWlJSUlJaTFpICkgPCAxIDoKICAgIElpSTFpaTExMUkxMTEgPSByZXF1ZXN0cyAuIGdldCAoIGkxaWkxICwgaGVhZGVycyA9IGlJaWlJaTFpMWkxaTEgLCBhbGxvd19yZWRpcmVjdHMgPSBGYWxzZSApCiAgICBJSTFJSWlJSUlJaTFpID0gcmUgLiBmaW5kYWxsICggJycnKD86e1wic3JjXCJcOlwiKShbXCV8XCt8Oi8uQS16PzxfJlxzPT4wLTk7LV0rKSg/OlwiLFwidHlwZVwiKScnJyAsIElpSTFpaTExMUkxMTEgLiB0ZXh0ICkKICAgTzBvb08gPSByZSAuIGZpbmRhbGwgKCAnJycoRmlsZSBub3QgZm91bmQpJycnICwgSWlJMWlpMTExSTExMSAuIHRleHQgKQogICBpZiBPMG9vTyA6CiAgICByZXR1cm4geGJtYyAuIGV4ZWN1dGVidWlsdGluICggIk5vdGlmaWNhdGlvbihcIlBhbGFudGlyIElORk86XCIsIFwiUG9zaWJsZSBlbmxhY2UgYm9ycmFkbywgbm90aWZpY2EgZW4gVGVsZWdyYW0uIEdyYWNpYXMuXCIpIiApCiAgIElJMUlJaUlJSUlpMWkgPSByZSAuIGZpbmRhbGwgKCAnJycoPzp7XCJzcmNcIlw6XCIpKFtcJXxcK3w6Ly5BLXo/PF8mXHM9PjAtOTstXSspKD86XCIsXCJ0eXBlXCIpJycnICwgSWlJMWlpMTExSTExMSAuIHRleHQgKQogICBpMUkxSSA9IHJlIC4gZmluZGFsbCAoICcnJyg/OlwibGFiZWxcIlw6XCIpKFtcJXxcK3w6Ly5BLXo/PF8mXHM9PjAtOTstXSspKD86XCJcLFwicmVzXCIpJycnICwgSWlJMWlpMTExSTExMSAuIHRleHQgKQogICBpSTExSTEgPSByZSAuIGZpbmRhbGwgKCAnJycoPzpcImxhbmdcIlw6XCIpKFtcJXxcK3w6Ly5BLXo/PF8mXHM9PjAtOTstXSspKD86XCJcLFwiaWRMYW5nXCIpJycnICwgSWlJMWlpMTExSTExMSAuIHRleHQgKQogICB0cnkgOgogICAgSUkxSSA9IHJlIC4gZmluZGFsbCAoICcnJyg/OmtpbmQ9XCdzdWJ0aXRsZXNcJyBzcmM9XCcpKFtcJXxcK3w6Ly5BLXo/PF8mXHM9PjAtOTstXSspKD86XCcgc3JjbGFuZz1cJyknJycgLCBJaUkxaWkxMTFJMTExIC4gdGV4dCApCiAgICBpZiA4MiAtIDgyOiBJSUlJIC8gb09PIC0gT09vT29PMG8wbzBPTwogICAgaWYgNjAgLSA2MDogb09PIC8gb29Pb29PME9PTyAlIEkxIC0gSUlvb29PMG9vTzBvbyAqIElJb29vTzBvb08wb28gKyBJSUlJCiAgICBpZiA1MCAtIDUwOiBvT08gKyBpaUlJaTFpMUlpaSArIE9PTyArIG9vICUgSTEKICAgIGlmIDU2IC0gNTY6IElpICUgSUlJSQogICAgaWYgNjggLSA2ODogbzAwb08wb28wTzBPMCAvIG8wMG9PMG9vME8wTzAgLiBJMUlpSTFJSUkxMWkgLiBJSSAlIE9PTwogICAgaUlpMUlpSWlpID0gWyBdCiAgICBpZiA5NCAtIDk0OiBpaUlJaTFpMUlpaSArIE9Pb09vTzBvMG8wT08gKyBJMUlpSTFJSUkxMWkgJSBvb29Pb08gKiBJaSAqIGlJaTExCiAgICBmb3IgSUkxaWkxMTFJSWkgaW4gcmFuZ2UgKCAwICwgbGVuICggSUkxSSApICkgOgogICAgIGlmIDQ5IC0gNDk6IElJb29vTzBvb08wb28gJSBpaTFJMWlpMUlpSWkxIC0gT09vT29PMG8wbzBPTyAlIG8wMG9PMG9vME8wTzAgKiBpSWkxMSAlIG9vT29vTzBPT08KICAgICBvME8wMDBPMG8wMCA9IElJMUkgWyBJSTFpaTExMUlJaSBdIFsgOiAtIDMgXQogICAgIGlmIDUyIC0gNTI6IElpMUkgKyBPT08gJSBvbyAlIG8wMG9PMG9vME8wTzAKICAgICBpSWkxSWlJaWkgLiBhcHBlbmQgKCBvME8wMDBPMG8wMCArICdzcnQnICkKICAgZXhjZXB0IDoKICAgIHBhc3MKICAgb29vbzAgPSBbIF0KICAgZm9yIGkxaWkxIGluIElJMUlJaUlJSUlpMWkgOgogICAgb29vbzAgLiBhcHBlbmQgKCBpMWlpMSAuIHJlcGxhY2UgKCAiXFwiICwgJycgKSApCiAgICBvT09PT29PMG9vT09vT29vbyA9IFsgXQogICBmb3IgTzAwT29vMG8wT08gaW4gcmFuZ2UgKCAwICwgbGVuICggaUkxMUkxICkgKSA6CiAgICBpaWlpSWlJMSA9IGlJMTFJMSBbIE8wME9vbzBvME9PIF0gLiByZXBsYWNlICggJ3NwYScgLCB1J0VzcGHDsW9sJyApIC4gcmVwbGFjZSAoICdlbmcnICwgJ0VuZ2xpc2gnICkgKyAnIC0gJyArIGkxSTFJIFsgTzAwT29vMG8wT08gXSAuIHJlcGxhY2UgKCAnMjE2MHAnICwgJzRLICgyMTYwcCknICkKICAgIG9PT09Pb08wb29PT29Pb29vIC4gYXBwZW5kICggaWlpaUlpSTEgKQogICB0cnkgOgogICAgaWYgbGVuICggb09vT09vMCBbIDEgXSApID4gMiA6CiAgICAgdHJ5IDoKICAgICAgb09PT09vTzBvb09Pb09vb28gPSBbICdDdWVudGEgUHJlbWl1bScgXSArIG9PT09Pb08wb29PT29Pb29vCiAgICAgZXhjZXB0IDoKICAgICAgb09PT09vTzBvb09Pb09vb28gPSBbICdDdWVudGEgUHJlbWl1bScgXQogICAgIHRyeSA6CiAgICAgIG9vb28wID0gWyBPbzAwT28gLiBoZWFkZXJzIFsgJ0xvY2F0aW9uJyBdIF0gKyBvb29vMAogICAgIGV4Y2VwdCA6CiAgICAgIG9vb28wID0gWyBPbzAwT28gLiBoZWFkZXJzIFsgJ0xvY2F0aW9uJyBdIF0KICAgZXhjZXB0IDoKICAgIHRyeSA6CiAgICAgaWYgbGVuICggTzBvMCBbIDEgXSApID4gMiA6CiAgICAgIG9Pb29vID0gcmUgLiBmaW5kYWxsICggJycnKD86d2luZG93LnRva2VuID0gXCcpKFtcJXxcK3w6Ly5BLXo/PF8mXHM9PjAtOTstXSspJycnICwgSWlJMWlpMTExSTExMSAuIHRleHQgKQogICAgICBPT08wME9PMDAgPSAnaHR0cHM6Ly91cHRvc3RyZWFtLmNvbS9hcGkvY2hlY2tJcD90b2tlbj0nICsgb09vb28gWyAwIF0KICAgICAgb29vT09vID0gcmVxdWVzdHMgLiBnZXQgKCBPT08wME9PMDAgLCBoZWFkZXJzID0gaUlpaUlpMWkxaTFpMSApCiAgICBleGNlcHQgOgogICAgIE9PTzAwT08wMCA9ICdodHRwczovL3VwdG9zdHJlYW0uY29tL2FwaS9jaGVja0lwJwogICAgIG9vb09PbyA9IHJlcXVlc3RzIC4gZ2V0ICggT09PMDBPTzAwICkKICAgIHRyeSA6CiAgICAgb29PbzAwID0gIiVzIiAlIHN0ciAoIGRhdGV0aW1lIC4gdGltZWRlbHRhICggc2Vjb25kcyA9IGludCAoIG9vb09PbyAuIHRleHQgKSApICkKICAgIGV4Y2VwdCA6CiAgICAgb29PbzAwID0gJzAnCiAgICB4Ym1jIC4gZXhlY3V0ZWJ1aWx0aW4gKCAiTm90aWZpY2F0aW9uKFwiUGFsYW50aXIgSU5GTzpcIiwgXCJUZSBxdWVkYW4gJXMgZGUgdmlzaW9uYWRvLCBsdWVnbyBjYW1iaWEgbGEgSVBcIikiICUgb29PbzAwICkKICAgIGlmIDQ2IC0gNDY6IE9Pb09vTzBvMG8wT08gJSBpMWlJMSAtIG8wMG9PMG9vME8wTzAgLSBvMDBvTzBvbzBPME8wCiAgIGlJaWkgPSBfX3NldHRpbmdzX18gLiBnZXRTZXR0aW5nICggJ2F1dG9fdG9wJyApCiAgIGlmIGlJaWkgPT0gImZhbHNlIiA6CiAgICBpZiBsZW4gKCBvb29vMCApID4gMSA6CiAgICAgaTFpaUkgPSB4Ym1jZ3VpIC4gRGlhbG9nICggKSAuIHNlbGVjdCAoICJTZWxlY2Npb25hIHVuIGVubGFjZSIgLCBvT09PT29PMG9vT09vT29vbyApCiAgICAgaWYgaTFpaUkgPT0gLSAxIDoKICAgICAgb29PbzAwID0gIiVzIiAlICdIYXMgY2FuY2VsYWRvJwogICAgICByZXR1cm4geGJtYyAuIGV4ZWN1dGVidWlsdGluICggIk5vdGlmaWNhdGlvbihcIlBhbGFudGlyIElORk86XCIsIFwiJXNcIikiICUgb29PbzAwICkKICAgICBlbHNlIDoKICAgICAgaUkgPSBvb29vMCBbIGkxaWlJIF0KICAgZWxzZSA6CiAgICBpSSA9IG9vb28wIFsgMCBdCiAgICBpZiAxOCAtIDE4OiBJSUlJICsgSTEgJSBJMSAuIElpSUkxSWlJIC4gb09PCiAgIElpSTFpaTExMUkxMTEgLiBjb25uZWN0aW9uIC4gY2xvc2UgKCApCiAgIHRyeSA6CiAgICBpSUlpID0geGJtY2d1aSAuIExpc3RJdGVtICggTzBPb29PT08wTyApCiAgICBpSUlpIC4gc2V0UGF0aCAoIGlJICkKICAgIHRyeSA6CiAgICAgaUlJaSAuIHNldFN1YnRpdGxlcyAoIGlJaTFJaUlpaSApCiAgICAgZGVsIGlJaTFJaUlpaQogICAgIGRlbCBJSTFJCiAgICBleGNlcHQgOgogICAgIHBhc3MKICAgIHhibWNwbHVnaW4gLiBzZXRSZXNvbHZlZFVybCAoIGlpMTFpaTFpSUlJMUkgLCBUcnVlICwgaUlJaSApCiAgIGV4Y2VwdCA6CiAgICBpaWkgPSAnRXJyb3IgZGVsIHNlcnZpZG9yICVzLCBUcmFiYWphbW9zIHBhcmEgc29sdWNpb25hcmxvJyAlICdUb3AnCiAgICBvb08gPSB4Ym1jZ3VpIC4gTGlzdEl0ZW0gKCBpaWkgLCBpY29uSW1hZ2UgPSAnRGVmYXVsdFZpZGVvLnBuZycgKQogICAgeGJtY3BsdWdpbiAuIHNldFJlc29sdmVkVXJsICggaWkxMWlpMWlJSUkxSSAsIEZhbHNlICwgb29PICkKICAgIElpMWlJID0geGJtY2d1aSAuIERpYWxvZyAoICkKICAgIElpMWlJIC4gbm90aWZpY2F0aW9uICggJ1BhbGFudGlyJyAsIGlpaSAsIHhibWNndWkgLiBOT1RJRklDQVRJT05fSU5GTyAsIDUwMDAgKQogIGVsaWYgJ2dvb2dsZS5jb20nIGluIGkxaWkxIDoKICAgdHJ5IDoKICAgIElJMWkxaTFpSWlJSSA9ICJodHRwcz86Ly8oPzpkcml2ZXxkb2NzKVxcLmdvb2dsZVxcLmNvbS8oPzpmaWxlL2QvfHVjXFw/aWQ9fGdldF92aWRlb19pbmZvXFw/ZG9jaWQ9KShbXi8mXSspIgogICAgaWQgPSByZSAuIGZpbmRhbGwgKCBJSTFpMWkxaUlpSUkgLCBpMWlpMSAsIGZsYWdzID0gcmUgLiBET1RBTEwgKSBbIDAgXQogICAgT29PbyA9ICdodHRwczovL2RyaXZlLmdvb2dsZS5jb20vdWM/ZXhwb3J0PWRvd25sb2FkJmlkPSVzJyAlIGlkCiAgICB4Ym1jIC4gbG9nICggJyMjIyMjIyMjIyMjIyAlcycgJSBPb09vICkKICAgIGlmIDY2IC0gNjY6IElJCiAgICBvb08wMDBvT28wMCA9IGlJID0gJycKICAgIHRyeSA6CiAgICAgaWlJSSA9IElpSTFpaTExMWkxaSAoIE9vT28gKSAuIGRhdGEKICAgICBvb08wMDBvT28wMCA9IHJlIC4gZmluZGFsbCAoICdocmVmPSIoL3VjXD9leHBvcnQ9ZG93bmxvYWQmY29uZmlybT1bXiZdKyZpZD1bXiJdKykiJyAsIGlpSUkgLCBmbGFncyA9IHJlIC4gRE9UQUxMICkKICAgICB4Ym1jIC4gbG9nICggJyMjIyMjIyMjIyMjIyAlcycgJSBvb08wMDBvT28wMCApCiAgICBleGNlcHQgOgogICAgIHhibWMgLiBsb2cgKCAnIyMjIyMjIyMjIyMjIGVycm9yIGRvd25sb2FkcGFnZScgKQogICAgIHBhc3MKICAgICBpZiA4IC0gODogb29Pb29PME9PTyAvIEkxICsgSUkKICAgIGlmIGlzaW5zdGFuY2UgKCBvb08wMDBvT28wMCAsIGxpc3QgKSBhbmQgb29PMDAwb09vMDAgOgogICAgIGlpSUkgPSBJaUkxaWkxMTFpMWkgKCB1cmxwYXJzZSAuIHVybGpvaW4gKCBPb09vICwgb29PMDAwb09vMDAgWyAwIF0gKSAsIGZvbGxvd19yZWRpcmVjdHMgPSBGYWxzZSApCiAgICAgaUkgPSBpaUlJIC4gaGVhZGVycyAuIGdldCAoICdsb2NhdGlvbicgKQogICAgIHhibWMgLiBsb2cgKCAnIyMjIyMjIyMjIyMjIG1ldG9kbyAxOiAlcycgJSBpSSApCiAgICAgaWYgODEgLSA4MTogaTFpSTEgJSBvbyAqIG8wMG9PMG9vME8wTzAKICAgIGlmIG5vdCAoIGlJIGFuZCBJaUkxaWkxMTFpMWkgKCBpSSAsIGZvbGxvd19yZWRpcmVjdHMgPSBGYWxzZSAsIG9ubHlfaGVhZGVycyA9IFRydWUgKSAuIGhlYWRlcnMgLiBnZXQgKCAnY29udGVudC1kaXNwb3NpdGlvbicgKSApIDoKICAgICB4Ym1jIC4gbG9nICggJyMjIyMjIyMjIyMjIyBtZXRvZG8gMicgKQogICAgIGlJID0gcmVzb2x2ZXVybCAuIHJlc29sdmUgKCBpMWlpMSApCiAgICAgeGJtYyAuIGxvZyAoICcjIyMjIyMjIyMjIyMgbWV0b2RvIDI6ICVzJyAlIGlJICkKICAgICBpZiA5MCAtIDkwOiBJaTFJICUgSTEgKyBvb29Pb08gKyBJSQogICAgaWYgaUkgOgogICAgIHhibWMgLiBsb2cgKCAnIyMjIyMjIyMjIyMjIGV4aXRvICVzJyAlIGlJICkKICAgICBhY3Rpb24gKCBPME9vb09PTzBPICwgaUkgKQogICAgZWxzZSA6CiAgICAgeGJtYyAuIGxvZyAoICcjIyMjIyMjIyMjIyMgZXJyb3InICkKICAgICByYWlzZQogICAgIGlmIDM4IC0gMzg6IGlpMUkxaWkxSWlJaTEKICAgZXhjZXB0IDoKICAgIGltcG9ydCB0cmFjZWJhY2sKICAgIHRyYWNlYmFjayAuIHByaW50X2V4YyAoIGZpbGUgPSBzeXMgLiBzdGRvdXQgKQogICAgaWlpID0gJ0xpbmsgY2FpZG8saW50ZW50YWxvIG1hcyB0YXJkZS4nCiAgICBvb08gPSB4Ym1jZ3VpIC4gTGlzdEl0ZW0gKCBpaWkgLCBpY29uSW1hZ2UgPSAnRGVmYXVsdFZpZGVvLnBuZycgKQogICAgeGJtY3BsdWdpbiAuIHNldFJlc29sdmVkVXJsICggaWkxMWlpMWlJSUkxSSAsIEZhbHNlICwgb29PICkKICAgIElpMWlJID0geGJtY2d1aSAuIERpYWxvZyAoICkKICAgIElpMWlJIC4gbm90aWZpY2F0aW9uICggJ1BhbGFudGlyJyAsIGlpaSAsIHhibWNndWkgLiBOT1RJRklDQVRJT05fSU5GTyAsIDcwMDAgKQogICAgaWYgODMgLSA4MzogaUlpMTEKICBlbHNlIDoKICAgdHJ5IDoKICAgIGlJID0gcmVzb2x2ZXVybCAuIHJlc29sdmUgKCBpMWlpMSApCiAgICBpZiBpSSA9PSBGYWxzZSA6CiAgICAgaWlJaWkgPSB4Ym1jYWRkb24gLiBBZGRvbiAoIGlkID0gInNjcmlwdC5tb2R1bGUucmVzb2x2ZXVybCIgKQogICAgIGlpaSA9ICdMaW5rIHBvc2libGVtZW50ZSBjYWlkby4gUmVjdWVyZGEgdGVuZXIgZWwgcmVzb2x2ZXVybCB2ZXJzaW9uICVzICcgJSBpaUlpaSAuIGdldEFkZG9uSW5mbyAoCiAnaW5zdGFsYWRvJyApCiAgICAgb29PID0geGJtY2d1aSAuIExpc3RJdGVtICggaWlpICwgaWNvbkltYWdlID0gJ0RlZmF1bHRWaWRlby5wbmcnICkKICAgICB4Ym1jcGx1Z2luIC4gc2V0UmVzb2x2ZWRVcmwgKCBpaTExaWkxaUlJSTFJICwgRmFsc2UgLCBvb08gKQogICAgIElpMWlJID0geGJtY2d1aSAuIERpYWxvZyAoICkKICAgICBJaTFpSSAuIG5vdGlmaWNhdGlvbiAoICdQYWxhbnRpcicgLCBpaWkgLCB4Ym1jZ3VpIC4gTk9USUZJQ0FUSU9OX0lORk8gLCAxMDAwMCApCiAgICBlbHNlIDoKICAgICBhY3Rpb24gKCBPME9vb09PTzBPICwgaUkgKQogICBleGNlcHQgOgogICAgaW1wb3J0IHRyYWNlYmFjawogICAgdHJhY2ViYWNrIC4gcHJpbnRfZXhjICggZmlsZSA9IHN5cyAuIHN0ZG91dCApCiAgICBpaWkgPSAnTGluayBjYWlkbyxpbnRlbnRhbG8gbWFzIHRhcmRlLicKICAgIG9vTyA9IHhibWNndWkgLiBMaXN0SXRlbSAoIGlpaSAsIGljb25JbWFnZSA9ICdEZWZhdWx0VmlkZW8ucG5nJyApCiAgICB4Ym1jcGx1Z2luIC4gc2V0UmVzb2x2ZWRVcmwgKCBpaTExaWkxaUlJSTFJICwgRmFsc2UgLCBvb08gKQogICAgSWkxaUkgPSB4Ym1jZ3VpIC4gRGlhbG9nICggKQogICAgSWkxaUkgLiBub3RpZmljYXRpb24gKCAnUGFsYW50aXInICwgaWlpICwgeGJtY2d1aSAuIE5PVElGSUNBVElPTl9JTkZPICwgNzAwMCApCiAgICBpZiA3NiAtIDc2OiBJSUlJICogSWlJSTFJaUkgLSBPT08gJSBJSW9vb08wb29PMG9vICUgb09PCiAgICBpZiAxNiAtIDE2OiBvb09vb08wT09PIC8gaTFpSTEgLyBvMDBvTzBvbzBPME8wCmRlZiBpSUlpSTEgKCBiYXMgLCBkYXRhICkgOgogTzBPb08wT28wT08gPSBkYXRhIC4gc3BsaXQgKCAnLicgKQogaWYgTzBPb08wT28wT08gWyAwIF0gPT0gJ2NwJyA6CiAgTzBPb08wT28wT08gPSBpMWlJSUlpaTEgKCBiYXNlNjQgLiB1cmxzYWZlX2I2NGRlY29kZSAoICdZMjl3YVdGd2IzQXVZMjl0JyApICwgTzBPb08wT28wT08gWyAxIF0gLCBiYXMgKQogZWxpZiBPME9vTzBPbzBPTyBbIDAgXSA9PSAnZGsnIDoKICBPME9vTzBPbzBPTyA9IE9vMDBPb29PICggYmFzZTY0IC4gdXJsc2FmZV9iNjRkZWNvZGUgKCAnYUhSMGNEb3ZMMlJwYzJ0dmEyOXpiV2xyYnk1dGVBPT0nICkgLCBPME9vTzBPbzBPTyBbIDEgXSApCiBlbHNlIDoKICBpZiA2MyAtIDYzOiBvb29Pb08gJSBvbwogIE8wT29PME9vME9PID0gYmFzZTY0IC4gdXJsc2FmZV9iNjRkZWNvZGUgKCAnSlhNdmJXOXlhV0V1WTIxdycgKSAlIGRhdGEKIGRhdGEgPSBJMWlpSTFJICggTzBPb08wT28wT08gKQogdHJ5IDoKICBkYXRhID0gemxpYiAuIGRlY29tcHJlc3MgKCBkYXRhICkKIGV4Y2VwdCA6CiAgeGJtYyAuIGxvZyAoICdbYWRkb24uUGFsYW50aXJdIEVycm9yIGRlY3J5cHQgYmQgJXMnICUgKCBkYXRhICkgKQogIHBhc3MKIGlpSWlpMUlJaTFJID0gb3BlbiAoIGJhcyAsICd3YicgKQogaWlJaWkxSUlpMUkgLiB3cml0ZSAoIGRhdGEgKQogaWlJaWkxSUlpMUkgLiBjbG9zZSAoICkKIHRyeSA6CiAgSUlJaWkxSWkgPSBzcWxpdGUzIC4gY29ubmVjdCAoIGJhcyApCiAgT08wbyA9IElJSWlpMUlpIC4gY3Vyc29yICggKQogIGlmIDYyIC0gNjI6IEkxCiAgT08wbyAuIGV4ZWN1dGUgKCBiYXNlNjQgLiB1cmxzYWZlX2I2NGRlY29kZSAoICdjMlZzWldOMElIWmxjbk5wYjI0c0lDaHpaV3hsWTNRZ1kyOTFiblFvS2lrZ1puSnZiU0FvYzJWc1pXTjBJR3hwYm1zZ1puSnZiU0J6WlhKcFpYTWdkMmhsY21VZ2JHbHVheUIxYm1sdmJpQnpaV3hsWTNRZ2JHbHVheUJtY205dElIQmxiR2x6S1NrZ1puSnZiU0IyWlhKemFXOXUnICkgKQogIG9vbyA9IE9PMG8gLiBmZXRjaG9uZSAoICkKICBJSUlpaTFJaSAuIGNsb3NlICggKQogIGlpaSA9ICdWZXJzLiAlcyAoTcOhcyBkZSAlcyBjb250ZW5pZG9zIGRpZmVyZW50ZXMpJyAlICggb29vIFsgMCBdICwgb29vIFsgMSBdICkKICB4Ym1jZ3VpIC4gRGlhbG9nICggKSAuIG5vdGlmaWNhdGlvbiAoICdQYWxhbnRpcicgLCBpaWkgLCB4Ym1jZ3VpIC4gTk9USUZJQ0FUSU9OX0lORk8gLCA1MDAwICkKIGV4Y2VwdCBEYXRhYmFzZUVycm9yIGFzIG8wbzAwMDBPMCA6CiAgaWYgMjkgLSAyOTogaTFpSTEKICBpZiBvcyAuIHBhdGggLiBpc2ZpbGUgKCBiYXMgKSA6CiAgIG9zIC4gcmVtb3ZlICggYmFzICkKICAgaWYgNzYgLSA3NjogSTEgJSBvbyAvIElJb29vTzBvb08wb28gKiBpSWkxMSArIElJIC8gSWlJSTFpMUkKICByYWlzZSBvMG8wMDAwTzAKICBpZiAxOSAtIDE5OiBPT29Pb08wbzBvME9PCmRlZiBpSUkxaUlJaUlpMTFJICggYmFzICwgcHJvdmlkZXIgKSA6CiBJSUlpaTFJaSA9IHNxbGl0ZTMgLiBjb25uZWN0ICggYmFzICkKIE9PMG8gPSBJSUlpaTFJaSAuIGN1cnNvciAoICkKIGlmIDU0IC0gNTQ6IE9Pb09vTzBvMG8wT08gJSBvb29Pb08gLyBJaQogT08wbyAuIGV4ZWN1dGUgKCBiYXNlNjQgLiB1cmxzYWZlX2I2NGRlY29kZSAoICdjMlZzWldOMElHTnlaV1JsYm5ScFlXeHpJR1p5YjIwZ2RtVnljMmx2Ymc9PScgKSApCiBvb28gPSBPTzBvIC4gZmV0Y2hvbmUgKCApCiBJSUlpaTFJaSAuIGNsb3NlICggKQogaWYgb29vIFsgMCBdIDoKICBpaTEgPSBvb28gWyAwIF0gLiBzcGxpdCAoICcjIycgKQogIGZvciBPMDBPb28wbzBPTyBpbiB4cmFuZ2UgKCBsZW4gKCBpaTEgKSAvIDMgKSA6CiAgIGlmIGlpMSBbIE8wME9vbzBvME9PICogMyBdID09IHByb3ZpZGVyIDoKICAgIGlmIHByb3ZpZGVyID09ICdrLWJhZ2kuY29tJyA6CiAgICAgcHJvdmlkZXIgPSAna2JnJwogICAgZWxpZiBwcm92aWRlciA9PSAna2JhZ2kuY29tJyA6CiAgICAgcHJvdmlkZXIgPSAna2JnJwogICAgZWxzZSA6CiAgICAgcHJvdmlkZXIgPSAnZGsnCiAgICByZXR1cm4gWyBfX3NldHRpbmdzX18gLiBnZXRTZXR0aW5nICggJyVzVXNlck5hbWUnICUgcHJvdmlkZXIgKSBvciBpaTEgWyBPMDBPb28wbzBPTyAqIDMgKyAxIF0gLAogX19zZXR0aW5nc19fIC4gZ2V0U2V0dGluZyAoICclc1Bhc3N3b3JkJyAlIHByb3ZpZGVyICkgb3IgaWkxIFsgTzAwT29vMG8wT08gKiAzICsgMiBdIF0KICAgIGlmIDE5IC0gMTk6IG9vICogaUlpMTEgLiBPT29Pb08wbzBvME9PIC4gb09PIC0gSTFJaUkxSUlJMTFpCiByZXR1cm4gWyAnTm9CRE5vVXNlcicgXSAqIDIKIGlmIDcgLSA3OiBvb09vb08wT09PCmltcG9ydCB1cmxwYXJzZQppZiAzNiAtIDM2OiBpSWkxMSAqIGlpMUkxaWkxSWlJaTEgLiBJMUlpSTFJSUkxMWkgLiBvbyAlIGlpSUlpMWkxSWlpICUgSWlJSTFpMUkKaWYgNTIgLSA1MjogSUkgJSBJSSArIE9PTwppZiAyOSAtIDI5OiBpSWkxMSAtIG9PTyAuIElpIC0gSUlJSSAlIElpCmltcG9ydCBnemlwCmltcG9ydCBjb29raWVsaWIKZnJvbSBTdHJpbmdJTyBpbXBvcnQgU3RyaW5nSU8KZnJvbSB0aHJlYWRpbmcgaW1wb3J0IExvY2sKaWYgOTEgLSA5MTogT09vT29PMG8wbzBPTyAvIElpSUkxaTFJIC4gSWlJSTFJaUkgLSBJaUlJMWkxSSAqIElpSUkxSWlJICsgb28KTzAwb08wbzBvMG8wbyA9IExvY2sgKCApCmlJSUlpMUlJID0gY29va2llbGliIC4gTW96aWxsYUNvb2tpZUphciAoICkKaWkxMTFJID0geGJtYyAuIHRyYW5zbGF0ZVBhdGggKCB4Ym1jYWRkb24gLiBBZGRvbiAoICkgLiBnZXRBZGRvbkluZm8gKCAnUHJvZmlsZScgKSAuIGRlY29kZSAoICd1dGYtOCcgKSApCk9vT28wTzBPID0gb3MgLiBwYXRoIC4gam9pbiAoIGlpMTExSSAsICJjb29raWVzLmRhdCIgKQppZiAxOCAtIDE4OiBvbyAqIGlpSUlpMWkxSWlpCk8wMG9PMG8wbzBvMG8gLiBhY3F1aXJlICggKQppZiBvcyAuIHBhdGggLiBpc2ZpbGUgKCBPb09vME8wTyApIDoKIHRyeSA6CiAgaUlJSWkxSUkgLiBsb2FkICggT29PbzBPME8gLCBpZ25vcmVfZGlzY2FyZCA9IFRydWUgKQogZXhjZXB0IEV4Y2VwdGlvbiA6CiAgb3MgLiByZW1vdmUgKCBPb09vME8wTyApCk8wMG9PMG8wbzBvMG8gLiByZWxlYXNlICggKQppZiA3NSAtIDc1OiBPT29Pb08wbzBvME9PICogSTEgLyBvb29Pb08gLyBvb29Pb08gLSBPT08KZGVmIE8wMDBvMG9vMG8gKCApIDoKIE8wMG9PMG8wbzBvMG8gLiBhY3F1aXJlICggKQogaUlJSWkxSUkgLiBzYXZlICggT29PbzBPME8gLCBpZ25vcmVfZGlzY2FyZCA9IFRydWUgKQogTzAwb08wbzBvMG8wbyAuIHJlbGVhc2UgKCApCiBpZiA3MyAtIDczOiBpaUlJaTFpMUlpaSArIE9Pb09vTzBvMG8wT08gJSBJSW9vb08wb29PMG9vICogSUlvb29PMG9vTzBvbyAvIElJICsgSWkxSQpkZWYgSTFJSSAoIGRvbWFpbiApIDoKIHJldHVybiBkaWN0ICggKCBjIC4gbmFtZSAsIGMgLiB2YWx1ZSApIGZvciBjIGluIGlJSUlpMUlJIC4gX2Nvb2tpZXMgLiBnZXQgKCAiLiIgKyBkb21haW4gLCB7IH0gKSAuIGdldCAoICIvIiAsIHsgfSApIC4gdmFsdWVzICggKSApCiBpZiA5OSAtIDk5OiBJSUlJIC8gaTFpSTEgKyBvb29Pb08gLSBJSQpkZWYgSWlJMWlpMTExaTFpICggdXJsICwgcG9zdCA9IE5vbmUgLCBoZWFkZXJzID0gTm9uZSAsIGZvbGxvd19yZWRpcmVjdHMgPSBUcnVlICwgb25seV9oZWFkZXJzID0gRmFsc2UgLCByZXBsYWNlX2hlYWRlcnMgPSBGYWxzZSApIDoKIEkxMUlpaTExaTFJaTEgPSB7IH0KIGlmIDY5IC0gNjk6IElJb29vTzBvb08wb28gLiBvb09vb08wT09PICsgSUkgLiBvbyArIGlpMUkxaWkxSWlJaTEgJSBJaUlJMUlpSQogaWYgNjUgLSA2NTogSTFJaUkxSUlJMTFpICogaUlpMTEgKiBvT08gKiBpMWlJMSAlIElpCiBpZiB0eXBlICggcG9zdCApID09IGRpY3QgOgogIHBvc3QgPSB1cmxsaWIgLiB1cmxlbmNvZGUgKCBwb3N0ICkKICBpZiAxNSAtIDE1OiBPT08gLyBpSWkxMSAqIElpSUkxSWlJCiAgaWYgMjYgLSAyNjogaWkxSTFpaTFJaUlpMSArIE9PTwogdXJsID0gdXJsbGliIC4gcXVvdGUgKCB1cmwgLCBzYWZlID0gIiUvOj0mP34jKyEkLDsnQCgpKltdIiApCiBpZiAzOSAtIDM5OiBvT08gJSBJaTFJICsgaWkxSTFpaTFJaUlpMQogaWYgMiAtIDI6IElpMUkgKiBvT08KIG9PMG8gPSBkaWN0ICggKQogb08wbyBbICJVc2VyLUFnZW50IiBdID0gIk1vemlsbGEvNS4wIChYMTE7IExpbnV4IGk2ODY7IHJ2OjQ0LjApIEdlY2tvLzIwMTAwMTAxIEZpcmVmb3gvNDQuMCBJY2V3ZWFzZWwvNDQuMCIKIG9PMG8gWyAiQWNjZXB0IiBdID0gInRleHQvaHRtbCxhcHBsaWNhdGlvbi94aHRtbCt4bWwsYXBwbGljYXRpb24veG1sO3E9MC45LCovKjtxPTAuOCIKIG9PMG8gWyAiQWNjZXB0LUxhbmd1YWdlIiBdID0gImVzLUVTLGVzO3E9MC44LGVuLVVTO3E9MC41LGVuO3E9MC4zIgogb08wbyBbICJBY2NlcHQtQ2hhcnNldCIgXSA9ICJVVEYtOCIKIG9PMG8gWyAiQWNjZXB0LUVuY29kaW5nIiBdID0gImd6aXAiCiBpSTExID0gb08wbyAuIGNvcHkgKCApCiBpZiAxNyAtIDE3OiBJaTFJICogSWlJSTFpMUkgLiBJaUlJMUlpSSAqIG9vT29vTzBPT08gLyBJaSAuIE9PTwogaWYgNjMgLSA2MzogSTFJaUkxSUlJMTFpIC8gaWlJSWkxaTFJaWkgKiBJMSArIElpMUkgJSBJMUlpSTFJSUkxMWkgLSBPT08KIGlmIGhlYWRlcnMgaXMgbm90IE5vbmUgOgogIGlmIG5vdCByZXBsYWNlX2hlYWRlcnMgOgogICBpSTExIC4gdXBkYXRlICggZGljdCAoIGhlYWRlcnMgKSApCiAgZWxzZSA6CiAgIGlJMTEgPSBkaWN0ICggaGVhZGVycyApCiAgIGlmIDE4IC0gMTg6IE9Pb09vTzBvMG8wT08gLiBvb09vb08wT09PIC0gb28gJSBvbwogICBpZiAyOCAtIDI4OiBvbyAqIElJSUkgKyBpaTFJMWlpMUlpSWkxICogT09PIC8gaTFpSTEKIElpaTFpSTExaSA9IGxpc3QgKCApCiBJaWkxaUkxMWkgLiBhcHBlbmQgKCB1cmxsaWIyIC4gSFRUUEhhbmRsZXIgKCBkZWJ1Z2xldmVsID0gRmFsc2UgKSApCiBJaWkxaUkxMWkgLiBhcHBlbmQgKCB1cmxsaWIyIC4gSFRUUENvb2tpZVByb2Nlc3NvciAoIGlJSUlpMUlJICkgKQogaWYgMTIgLSAxMjogb09PCiBpZiA2MiAtIDYyOiBJMUlpSTFJSUkxMWkgKiBJSW9vb08wb29PMG9vIC0gSTFJaUkxSUlJMTFpIC4gSTFJaUkxSUlJMTFpIC8gT09vT29PMG8wbzBPTwogaWYgbm90IGZvbGxvd19yZWRpcmVjdHMgOgogIElpaTFpSTExaSAuIGFwcGVuZCAoIE9PT28gKCApICkKIGVsc2UgOgogIElpaTFpSTExaSAuIGFwcGVuZCAoIG9vME9Pb29vMCAoICkgKQogIGlmIDk4IC0gOTg6IG8wMG9PMG9vME8wTzAgLiBJMUlpSTFJSUkxMWkgJSBPT29Pb08wbzBvME9PICUgaUlpMTEgKyBJaSAlIG9PTwogIGlmIDkyIC0gOTI6IElpIC8gSWlJSTFpMUkKIGkxSTFpMWlJSUlpaSA9IHVybGxpYjIgLiBidWlsZF9vcGVuZXIgKCAqIElpaTFpSTExaSApCiBpZiAyOCAtIDI4OiBJMSArIElpMUkgKyBJaUlJMUlpSSAvIG8wMG9PMG9vME8wTzAgJSBPT29Pb08wbzBvME9PCiBpZiAxOSAtIDE5OiBpMWlJMSArIElpMUkgLiBJaTFJIC0gSWlJSTFpMUkKIElpMTEgPSB1cmxsaWIyIC4gUmVxdWVzdCAoIHVybCAsIHBvc3QgLCBpSTExICkKIGlmIDI1IC0gMjU6IElpMUkgLyBPT29Pb08wbzBvME9PIC8gT09PCiB0cnkgOgogIGlmIDc1IC0gNzU6IE9Pb09vTzBvMG8wT08KICBPb28wID0gaTFJMWkxaUlJSWlpIC4gb3BlbiAoIElpMTEgKQogIGlmIDUyIC0gNTI6IG9vb09vTyAuIEkxIC0gaTFpSTEgLiBJaUlJMUlpSQogIGlmIDQ1IC0gNDU6IElpSUkxaTFJICsgb29Pb29PME9PTyArIG9vIC8gaUlpMTEgKiBvMDBvTzBvbzBPME8wCiBleGNlcHQgdXJsbGliMiAuIEhUVFBFcnJvciAsIE9vbzAgOgogIHhibWMgLiBsb2cgKCAnIyMjIyMjIFBldGljaW9uIHJlYWxpemFkYSBjb24gZXJyb3InICkKICBJMTFJaWkxMWkxSWkxIFsgInN1Y2VzcyIgXSA9IEZhbHNlCiAgSTExSWlpMTFpMUlpMSBbICJjb2RlIiBdID0gT29vMCAuIGNvZGUKICBJMTFJaWkxMWkxSWkxIFsgImVycm9yIiBdID0gT29vMCAuIF9fZGljdF9fIC4gZ2V0ICggInJlYXNvbiIgLCBzdHIgKCBPb28wICkgKQogIEkxMUlpaTExaTFJaTEgWyAiaGVhZGVycyIgXSA9IE9vbzAgLiBoZWFkZXJzIC4gZGljdAogIEkxMUlpaTExaTFJaTEgWyAnY29va2llcycgXSA9IEkxSUkgKCB1cmxwYXJzZSAuIHVybHBhcnNlICggdXJsICkgWyAxIF0gKQogIEkxMUlpaTExaTFJaTEgWyAiZGF0YSIgXSA9ICIiIGlmIG9ubHlfaGVhZGVycyBlbHNlIE9vbzAgLiByZWFkICggKQogIEkxMUlpaTExaTFJaTEgWyAidXJsIiBdID0gT29vMCAuIGdldHVybCAoICkKICBpZiA0MCAtIDQwOiBvb29Pb08KIGV4Y2VwdCBFeGNlcHRpb24gLCBvMG8wMDAwTzAgOgogIHhibWMgLiBsb2cgKCAnIyMjIyMjIFBldGljaW9uIE5PIHJlYWxpemFkYScgKQogIEkxMUlpaTExaTFJaTEgWyAic3VjZXNzIiBdID0gRmFsc2UKICBJMTFJaWkxMWkxSWkxIFsgImNvZGUiIF0gPSBvMG8wMDAwTzAgLiBfX2RpY3RfXyAuIGdldCAoICJlcnJubyIgLCBvMG8wMDAwTzAgLiBfX2RpY3RfXyAuIGdldCAoICJjb2RlIiAsIHN0ciAoIG8wbzAwMDBPMCApICkgKQogIEkxMUlpaTExaTFJaTEgWyAiZXJyb3IiIF0gPSBvMG8wMDAwTzAgLiBfX2RpY3RfXyAuIGdldCAoICJyZWFzb24iICwgc3RyICggbzBvMDAwME8wICkgKQogIEkxMUlpaTExaTFJaTEgWyAiaGVhZGVycyIgXSA9IHsgfQogIEkxMUlpaTExaTFJaTEgWyAnY29va2llcycgXSA9IEkxSUkgKCB1cmxwYXJzZSAuIHVybHBhcnNlICggdXJsICkgWyAxIF0gKQogIEkxMUlpaTExaTFJaTEgWyAiZGF0YSIgXSA9ICIiCiAgSTExSWlpMTFpMUlpMSBbICJ1cmwiIF0gPSB1cmwKICBpZiA0NyAtIDQ3OiBPT29Pb08wbzBvME9PICogaWkxSTFpaTFJaUlpMSArIGlpSUlpMWkxSWlpICsgSWkgLyBpSWkxMQogZWxzZSA6CiAgSTExSWlpMTFpMUlpMSBbICJzdWNlc3MiIF0gPSBUcnVlCiAgSTExSWlpMTFpMUlpMSBbICJjb2RlIiBdID0gT29vMCAuIGNvZGUKICBJMTFJaWkxMWkxSWkxIFsgImVycm9yIiBdID0gTm9uZQogIEkxMUlpaTExaTFJaTEgWyAiaGVhZGVycyIgXSA9IE9vbzAgLiBoZWFkZXJzIC4gZGljdAogIEkxMUlpaTExaTFJaTEgWyAnY29va2llcycgXSA9IEkxSUkgKCB1cmxwYXJzZSAuIHVybHBhcnNlICggdXJsICkgWyAxIF0gKQogIEkxMUlpaTExaTFJaTEgWyAiZGF0YSIgXSA9ICIiIGlmIG9ubHlfaGVhZGVycyBlbHNlIE9vbzAgLiByZWFkICggKQogIEkxMUlpaTExaTFJaTEgWyAidXJsIiBdID0gT29vMCAuIGdldHVybCAoICkKICBpZiA2NiAtIDY2OiBvT08KICBpZiAxOCAtIDE4OiBJSW9vb08wb29PMG9vICUgb09PIC4gb28gLiBpaUlJaTFpMUlpaSAvIE9Pb09vTzBvMG8wT08KIGlmIEkxMUlpaTExaTFJaTEgWyAiaGVhZGVycyIgXSAuIGdldCAoICdjb250ZW50LWVuY29kaW5nJyApID09ICdnemlwJyA6CiAgSTExSWlpMTFpMUlpMSBbICJkYXRhIiBdID0gZ3ppcCAuIEd6aXBGaWxlICggZmlsZW9iaiA9IFN0cmluZ0lPICggSTExSWlpMTFpMUlpMSBbICJkYXRhIiBdICkgKSAuIHJlYWQgKCApCiAgaWYgMjYgLSAyNjogb29vT29PCiBJMTFJaWkxMWkxSWkxIFsgImRhdGEiIF0gPSBIVE1MUGFyc2VyIC4gSFRNTFBhcnNlciAoICkgLiB1bmVzY2FwZSAoIHVuaWNvZGUgKCBJMTFJaWkxMWkxSWkxIFsgImRhdGEiIF0gLCAndXRmOCcgKSApIC4gZW5jb2RlICggJ3V0ZjgnICkKIHJldHVybiBJMWlJaUlpaSAoIEkxMUlpaTExaTFJaTEgKQogaWYgMzQgLSAzNDogaUlpMTEgJSBvb29Pb08gLSBJMQogaWYgMzMgLSAzMzogb29vT29PICogSUkKY2xhc3MgT09PbyAoIHVybGxpYjIgLiBIVFRQUmVkaXJlY3RIYW5kbGVyICkgOgogZGVmIGh0dHBfZXJyb3JfMzAyICggc2VsZiAsIHJlcSAsIGZwICwgY29kZSAsIG1zZyAsIGhlYWRlcnMgKSA6CiAgSTFJMTFJaUkxaTEgPSB1cmxsaWIgLiBhZGRpbmZvdXJsICggZnAgLCBoZWFkZXJzICwgcmVxIC4gZ2V0X2Z1bGxfdXJsICggKSApCiAgSTFJMTFJaUkxaTEgLiBzdGF0dXMgPSBjb2RlCiAgSTFJMTFJaUkxaTEgLiBjb2RlID0gY29kZQogIHJldHVybiBJMUkxMUlpSTFpMQogIGlmIDczIC0gNzM6IEkxSWlJMUlJSTExaSAqIElpSUkxSWlJICsgSUlJSSAqIGlpSUlpMWkxSWlpICUgb09PCiBodHRwX2Vycm9yXzMwMCA9IGh0dHBfZXJyb3JfMzAyCiBodHRwX2Vycm9yXzMwMSA9IGh0dHBfZXJyb3JfMzAyCiBodHRwX2Vycm9yXzMwMyA9IGh0dHBfZXJyb3JfMzAyCiBodHRwX2Vycm9yXzMwNyA9IGh0dHBfZXJyb3JfMzAyCiBpZiAzMyAtIDMzOiBPT29Pb08wbzBvME9PCmNsYXNzIG9vME9Pb29vMCAoIHVybGxpYjIgLiBIVFRQUmVkaXJlY3RIYW5kbGVyICkgOgogZGVmIHJlZGlyZWN0X3JlcXVlc3QgKCBzZWxmICwgcmVxICwgZnAgLCBjb2RlICwgbXNnICwgaGVhZGVycyAsIG5ld3VybCApIDoKICBpZiAnQXV0aG9yaXphdGlvbicgaW4gcmVxIC4gaGVhZGVycyA6CiAgIHJlcSAuIGhlYWRlcnMgLiBwb3AgKCAnQXV0aG9yaXphdGlvbicgKQogIHJldHVybiB1cmxsaWIyIC4gSFRUUFJlZGlyZWN0SGFuZGxlciAuIHJlZGlyZWN0X3JlcXVlc3QgKCBzZWxmICwgcmVxICwgZnAgLCBjb2RlICwgbXNnICwgaGVhZGVycyAsIG5ld3VybCApCiAgaWYgNzkgLSA3OTogSWkxSSAtIGlJaTExCmNsYXNzIEkxaUlpSWlpIDoKIGRlZiBfX2luaXRfXyAoIHNlbGYgLCByZXNwb25zZSApIDoKICBzZWxmIC4gc3VjZXNzID0gTm9uZQogIHNlbGYgLiBjb2RlID0gTm9uZQogIHNlbGYgLiBlcnJvciA9IE5vbmUKICBzZWxmIC4gaGVhZGVycyA9IE5vbmUKICBzZWxmIC4gY29va2llcyA9IE5vbmUKICBzZWxmIC4gZGF0YSA9IE5vbmUKICBzZWxmIC4gdGltZSA9IE5vbmUKICBzZWxmIC4gdXJsID0gTm9uZQogIHNlbGYgLiBfX2RpY3RfXyA9IHJlc3BvbnNlCiAgaWYgNDkgLSA0OTogb29vT29PIC4gaWlJSWkxaTFJaWkgKyBvb29Pb08gKyBpSWkxMSAqIElpIC0gSUkKZGVmIE9PMG9vT08wT08wICggYmFzICkgOgogSTExaUlpSUlpID0gSTExMUkxMUkxMTExMSAoIGJhcyApCiBpZiBJMTFpSWlJSWkgPT0gJycgOgogIEkxMWlJaUlJaSA9IE9PbzAwMDBvTyAoICkKIEkxMWlJaUlJaSA9IHpsaWIgLiBkZWNvbXByZXNzICggYmFzZTY0IC4gdXJsc2FmZV9iNjRkZWNvZGUgKCBJMTFpSWlJSWkgKSApCiBpbXBvcnQgeGJtY2FkZG9uCiBpSUlJSUkxaWkgPSB4Ym1jYWRkb24gLiBBZGRvbiAoICkKIE9vID0geGJtYyAuIHRyYW5zbGF0ZVBhdGggKCBpSUlJSUkxaWkgLiBnZXRBZGRvbkluZm8gKCAncGF0aCcgKSAuIGRlY29kZSAoICd1dGYtOCcgKSApCiBpZiBvcyAuIHBhdGggLiBpc2ZpbGUgKCBiYXMgKSA6CiAgdHJ5IDoKICAgaWYgNSAtIDU6IElpMUkgLiBpMWlJMSArIE9PTyAlIEkxIC4gSWkxSSAtIGlpMUkxaWkxSWlJaTEKICAgb29vID0gSTFpaUkxSSAoIGJhc2U2NCAuIHVybHNhZmVfYjY0ZGVjb2RlICggJ0pYTXZZbUZzY205bkxtbHVabTg9JyApICUgSTExaUlpSUlpICkKICAgaWYgMTMgLSAxMzogSUkgKyBJaUlJMWkxSSAtIElpSUkxaTFJCiAgIElpMTFpaWkgPSBvb28gLiBzcGxpdCAoICcgJyApCiAgIHRyeSA6CiAgICBJSUlpaTFJaSA9IHNxbGl0ZTMgLiBjb25uZWN0ICggYmFzICkKICAgIE9PMG8gPSBJSUlpaTFJaSAuIGN1cnNvciAoICkKICAgIGlmIDQ2IC0gNDY6IElpMUkKICAgIE9PMG8gLiBleGVjdXRlICggYmFzZTY0IC4gdXJsc2FmZV9iNjRkZWNvZGUgKCAnVTJWc1pXTjBJSFpsY25OcGIyNHNJSFpsY25OcGIyNWZZV1JrYjI0c0lHUmhkR0VnWm5KdmJTQjJaWEp6YVc5dScgKSApCiAgICBvTyA9IE9PMG8gLiBmZXRjaG9uZSAoICkKICAgIElJSWlpMUlpIC4gY2xvc2UgKCApCiAgICBvMG9PbzBPME8wTyA9IHN0ciAoIG9PIFsgMCBdICkKICAgIGlmIGludCAoIG8wb09vME8wTzBPICkgPCBpbnQgKCBJaTExaWlpIFsgMCBdICkgOgogICAgIGlmIDg1IC0gODU6IG9vT29vTzBPT08gLyBJaTFJIC4gSTEgKiBvT08gKyBpMWlJMQogICAgIGlJSWlJMSAoIGJhcyAsIG9vMG8gKCBJaTExaWlpIFsgMSBdIC4gc3RyaXAgKCApICkgKQogICAgIElJSWlpMUlpID0gc3FsaXRlMyAuIGNvbm5lY3QgKCBiYXMgKQogICAgIE9PMG8gPSBJSUlpaTFJaSAuIGN1cnNvciAoICkKICAgICBpZiAxNSAtIDE1OiBpaUlJaTFpMUlpaQogICAgIE9PMG8gLiBleGVjdXRlICggYmFzZTY0IC4gdXJsc2FmZV9iNjRkZWNvZGUgKCAnYzJWc1pXTjBJRzFsYm5OaGFtVmZkWEJrWVhSbExDQnViM1JwWm1sallXTnBiMjVmZFhCa1lYUmxJR1p5YjIwZ2RtVnljMmx2Ymc9PScgKSApCiAgICAgb08gPSBPTzBvIC4gZmV0Y2hvbmUgKCApCiAgICAgSUlJaWkxSWkgLiBjbG9zZSAoICkKICAgICBpZiBvTyBbIDEgXSA6CiAgICAgIHhibWNndWkgLiBEaWFsb2cgKCApIC4gbm90aWZpY2F0aW9uICggJ1BhbGFudGlyJyAsIG9PIFsgMSBdICwgeGJtY2d1aSAuIE5PVElGSUNBVElPTl9JTkZPICwgOTAwMCApCiAgICAgaWYgb08gWyAwIF0gOgogICAgICB4Ym1jZ3VpIC4gRGlhbG9nICggKSAuIG9rICggJ1BhbGFudGlyJyAsIG9PIFsgMCBdICkKICAgZXhjZXB0IDoKICAgIGlJSWlJMSAoIGJhcyAsIG9vMG8gKCBJaTExaWlpIFsgMSBdIC4gc3RyaXAgKCApICkgKQogIGV4Y2VwdCAoIEhUVFBFcnJvciAsIFVSTEVycm9yICkgYXMgbzBvMDAwME8wIDoKICAgdHJhY2ViYWNrIC4gcHJpbnRfZXhjICggZmlsZSA9IHN5cyAuIHN0ZG91dCApCiAgIGlpaSA9ICdObyBwdWVkbyBhY3R1YWxpemFybWUscmV2aXNhIGludGVybmV0JwogICB4Ym1jZ3VpIC4gRGlhbG9nICggKSAuIG5vdGlmaWNhdGlvbiAoICdQYWxhbnRpcicgLCBpaWkgLCB4Ym1jZ3VpIC4gTk9USUZJQ0FUSU9OX1dBUk5JTkcgLCA1MDAwICkKIGVsc2UgOgogIHRyeSA6CiAgIGlmIDUzIC0gNTM6IE9Pb09vTzBvMG8wT08KICAgaWYgMjYgLSAyNjogaWkxSTFpaTFJaUlpMSAvIElpSUkxaTFJICsgT09vT29PMG8wbzBPTyAvIElpICogSWkxSQogICBvb28gPSBJMWlpSTFJICggYmFzZTY0IC4gdXJsc2FmZV9iNjRkZWNvZGUgKCAnSlhNdlltRnNjbTluTG1sdVptOD0nICkgJSBJMTFpSWlJSWkgKQogICBJaTExaWlpID0gb29vIC4gc3BsaXQgKCAnICcgKQogICBpSUlpSTEgKCBiYXMgLCBvbzBvICggSWkxMWlpaSBbIDEgXSAuIHN0cmlwICggKSApICkKICAgSUlJaWkxSWkgPSBzcWxpdGUzIC4gY29ubmVjdCAoIGJhcyApCiAgIE9PMG8gPSBJSUlpaTFJaSAuIGN1cnNvciAoICkKICAgaWYgMTIgLSAxMjogaUlpMTEgLyBJaUlJMWkxSSAtIElpMUkgKiBJSW9vb08wb29PMG9vCiAgIE9PMG8gLiBleGVjdXRlICggYmFzZTY0IC4gdXJsc2FmZV9iNjRkZWNvZGUgKCAnYzJWc1pXTjBJRzFsYm5OaGFtVmZhVzVwWTJsaGJDQm1jbTl0SUhabGNuTnBiMjQ9JyApICkKICAgb08gPSBPTzBvIC4gZmV0Y2hvbmUgKCApCiAgIElJSWlpMUlpIC4gY2xvc2UgKCApCiAgIGlmIG9PIFsgMCBdIDoKICAgIHhibWNndWkgLiBEaWFsb2cgKCApIC4gb2sgKCAnUGFsYW50aXInICwgb08gWyAwIF0gKQogIGV4Y2VwdCBIVFRQRXJyb3IgOgogICBpaWkgPSAnTm8gcHVlZG8gY2FyZ2FyIGVsIGFkZG9uLCByZXZpc2EgaW50ZXJuZXQnCiAgIHhibWNndWkgLiBEaWFsb2cgKCApIC4gbm90aWZpY2F0aW9uICggJ1BhbGFudGlyJyAsIGlpaSAsIHhibWNndWkgLiBOT1RJRklDQVRJT05fRVJST1IgLCA1MDAwICkKICAgeGJtYyAuIGV4ZWN1dGVidWlsdGluICggJ0FjdGlvbihCYWNrKScgKQogICBpZiA2MCAtIDYwOiBvT08gKiBvb29Pb08gLiBpSWkxMSArIElpSUkxaTFJICUgSUlJSSAlIGlpMUkxaWkxSWlJaTEKIGlmIG9zIC4gcGF0aCAuIGlzZmlsZSAoIGJhc2U2NCAuIHVybHNhZmVfYjY0ZGVjb2RlICggJ0pYTXZhWFJvYVd3dWNIaz0nICkgJSBPbyApIDoKICBpZiAxMCAtIDEwOiBPT29Pb08wbzBvME9PICogbzAwb08wb28wTzBPMCAuIGlpMUkxaWkxSWlJaTEKICBwYXNzCiAgaWYgODYgLSA4NjogSWlJSTFJaUkgKyBJSW9vb08wb29PMG9vICUgaWkxSTFpaTFJaUlpMQogSUlJaWkxSWkgPSBzcWxpdGUzIC4gY29ubmVjdCAoIGJhcyApCiBPTzBvID0gSUlJaWkxSWkgLiBjdXJzb3IgKCApCiBpZiA0NyAtIDQ3OiBPT29Pb08wbzBvME9PICogaWlJSWkxaTFJaWkgLyBJMUlpSTFJSUkxMWkgJSBvb29Pb08gLyBJaUlJMUlpSSAvIElpSUkxSWlJCiBPTzBvIC4gZXhlY3V0ZSAoIGJhc2U2NCAuIHVybHNhZmVfYjY0ZGVjb2RlICggJ1UyVnNaV04wSUhabGNuTnBiMjRzSUhabGNuTnBiMjVmWVdSa2IyNHNJR1JoZEdFZ1puSnZiU0IyWlhKemFXOXUnICkgKQogb08gPSBPTzBvIC4gZmV0Y2hvbmUgKCApCiBJSUlpaTFJaSAuIGNsb3NlICggKQogT29vb09vb08gPSBpSUlJSUkxaWkgLiBnZXRBZGRvbkluZm8gKCAndmVyc2lvbicgKSAuIGRlY29kZSAoICd1dGYtOCcgKQogaWYgaW50ICggT29vb09vb08gLiByZXBsYWNlICggJy4nICwgJycgKSApIDwgb08gWyAxIF0gOgogIG9Pb29PT09vMG9PTyA9IG9PIFsgMiBdIC4gc3BsaXQgKCAnICcgKQogIGZvciBPMDBPb28wbzBPTyAsIEkxSWlpaUlpIGluIHppcCAoIG9Pb29PT09vMG9PTyBbIDAgOiA6IDIgXSAsIG9Pb29PT09vMG9PTyBbIDEgOiA6IDIgXSApIDoKICAgaWlJSSA9IHpsaWIgLiBkZWNvbXByZXNzICggYmFzZTY0IC4gYjY0ZGVjb2RlICggSTFJaWlpSWkgKSApCiAgIGlpSWlpMUlJaTFJID0gb3BlbiAoICclcy8lcycgJSAoIE9vICwgYmFzZTY0IC4gYjY0ZGVjb2RlICggTzAwT29vMG8wT08gKSApICwgJ3diJyApCiAgIGlmIDg3IC0gODc6IG9vT29vTzBPT08gKiBvb09vb08wT09PICogSWlJSTFpMUkgLSBJaSAlIElpSUkxaTFJCiAgIGlpSWlpMUlJaTFJIC4gY2xvc2UgKCApCiAgIGlmIDY1IC0gNjU6IG9vT29vTzBPT08gLSBJaUlJMUlpSSAqIGlpSUlpMWkxSWlpCiMgODA3Y2IxYmZmZmIyMzRkYWNlM2Y5MzBmNTcxYTkwMzlkNzZmNGNmOQo=')